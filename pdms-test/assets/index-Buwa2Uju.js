(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _b(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nm={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function vb(){if(xE)return ru;xE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ru.Fragment=t,ru.jsx=n,ru.jsxs=n,ru}var DE;function Eb(){return DE||(DE=1,nm.exports=vb()),nm.exports}var R=Eb(),rm={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function Tb(){if(NE)return xt;NE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,H={};function F(O,nt,st){this.props=O,this.context=nt,this.refs=H,this.updater=st||N}F.prototype.isReactComponent={},F.prototype.setState=function(O,nt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,nt,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function J(){}J.prototype=F.prototype;function W(O,nt,st){this.props=O,this.context=nt,this.refs=H,this.updater=st||N}var rt=W.prototype=new J;rt.constructor=W,U(rt,F.prototype),rt.isPureReactComponent=!0;var ut=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function x(O,nt,st,it,gt,It){return st=It.ref,{$$typeof:r,type:O,key:nt,ref:st!==void 0?st:null,props:It}}function b(O,nt){return x(O.type,nt,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var nt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return nt[st]})}var P=/\/+/g;function L(O,nt){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):nt.toString(36)}function D(){}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(nt){O.status==="pending"&&(O.status="fulfilled",O.value=nt)},function(nt){O.status==="pending"&&(O.status="rejected",O.reason=nt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ae(O,nt,st,it,gt){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var vt=!1;if(O===null)vt=!0;else switch(It){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(O.$$typeof){case r:case t:vt=!0;break;case v:return vt=O._init,ae(vt(O._payload),nt,st,it,gt)}}if(vt)return gt=gt(O),vt=it===""?"."+L(O,0):it,ut(gt)?(st="",vt!=null&&(st=vt.replace(P,"$&/")+"/"),ae(gt,nt,st,"",function(Le){return Le})):gt!=null&&(I(gt)&&(gt=b(gt,st+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+vt)),nt.push(gt)),1;vt=0;var ce=it===""?".":it+":";if(ut(O))for(var qt=0;qt<O.length;qt++)it=O[qt],It=ce+L(it,qt),vt+=ae(it,nt,st,It,gt);else if(qt=A(O),typeof qt=="function")for(O=qt.call(O),qt=0;!(it=O.next()).done;)it=it.value,It=ce+L(it,qt++),vt+=ae(it,nt,st,It,gt);else if(It==="object"){if(typeof O.then=="function")return ae(De(O),nt,st,it,gt);throw nt=String(O),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return vt}function K(O,nt,st){if(O==null)return O;var it=[],gt=0;return ae(O,it,"","",function(It){return nt.call(st,It,gt++)}),it}function ot(O){if(O._status===-1){var nt=O._result;nt=nt(),nt.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=nt)}if(O._status===1)return O._result.default;throw O._result}var mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ct(){}return xt.Children={map:K,forEach:function(O,nt,st){K(O,function(){nt.apply(this,arguments)},st)},count:function(O){var nt=0;return K(O,function(){nt++}),nt},toArray:function(O){return K(O,function(nt){return nt})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},xt.Component=F,xt.Fragment=n,xt.Profiler=o,xt.PureComponent=W,xt.StrictMode=s,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,xt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return lt.H.useMemoCache(O)}},xt.cache=function(O){return function(){return O.apply(null,arguments)}},xt.cloneElement=function(O,nt,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=U({},O.props),gt=O.key,It=void 0;if(nt!=null)for(vt in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!ft.call(nt,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&nt.ref===void 0||(it[vt]=nt[vt]);var vt=arguments.length-2;if(vt===1)it.children=st;else if(1<vt){for(var ce=Array(vt),qt=0;qt<vt;qt++)ce[qt]=arguments[qt+2];it.children=ce}return x(O.type,gt,void 0,void 0,It,it)},xt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},xt.createElement=function(O,nt,st){var it,gt={},It=null;if(nt!=null)for(it in nt.key!==void 0&&(It=""+nt.key),nt)ft.call(nt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=nt[it]);var vt=arguments.length-2;if(vt===1)gt.children=st;else if(1<vt){for(var ce=Array(vt),qt=0;qt<vt;qt++)ce[qt]=arguments[qt+2];gt.children=ce}if(O&&O.defaultProps)for(it in vt=O.defaultProps,vt)gt[it]===void 0&&(gt[it]=vt[it]);return x(O,It,void 0,void 0,null,gt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(O){return{$$typeof:p,render:O}},xt.isValidElement=I,xt.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ot}},xt.memo=function(O,nt){return{$$typeof:g,type:O,compare:nt===void 0?null:nt}},xt.startTransition=function(O){var nt=lt.T,st={};lt.T=st;try{var it=O(),gt=lt.S;gt!==null&&gt(st,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,mt)}catch(It){mt(It)}finally{lt.T=nt}},xt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},xt.use=function(O){return lt.H.use(O)},xt.useActionState=function(O,nt,st){return lt.H.useActionState(O,nt,st)},xt.useCallback=function(O,nt){return lt.H.useCallback(O,nt)},xt.useContext=function(O){return lt.H.useContext(O)},xt.useDebugValue=function(){},xt.useDeferredValue=function(O,nt){return lt.H.useDeferredValue(O,nt)},xt.useEffect=function(O,nt,st){var it=lt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(O,nt)},xt.useId=function(){return lt.H.useId()},xt.useImperativeHandle=function(O,nt,st){return lt.H.useImperativeHandle(O,nt,st)},xt.useInsertionEffect=function(O,nt){return lt.H.useInsertionEffect(O,nt)},xt.useLayoutEffect=function(O,nt){return lt.H.useLayoutEffect(O,nt)},xt.useMemo=function(O,nt){return lt.H.useMemo(O,nt)},xt.useOptimistic=function(O,nt){return lt.H.useOptimistic(O,nt)},xt.useReducer=function(O,nt,st){return lt.H.useReducer(O,nt,st)},xt.useRef=function(O){return lt.H.useRef(O)},xt.useState=function(O){return lt.H.useState(O)},xt.useSyncExternalStore=function(O,nt,st){return lt.H.useSyncExternalStore(O,nt,st)},xt.useTransition=function(){return lt.H.useTransition()},xt.version="19.1.0",xt}var OE;function hg(){return OE||(OE=1,rm.exports=Tb()),rm.exports}var $=hg();const er=_b($);var im={exports:{}},iu={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function Sb(){return ME||(ME=1,function(r){function t(K,ot){var mt=K.length;K.push(ot);t:for(;0<mt;){var Ct=mt-1>>>1,O=K[Ct];if(0<o(O,ot))K[Ct]=ot,K[mt]=O,mt=Ct;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ot=K[0],mt=K.pop();if(mt!==ot){K[0]=mt;t:for(var Ct=0,O=K.length,nt=O>>>1;Ct<nt;){var st=2*(Ct+1)-1,it=K[st],gt=st+1,It=K[gt];if(0>o(it,mt))gt<O&&0>o(It,it)?(K[Ct]=It,K[gt]=mt,Ct=gt):(K[Ct]=it,K[st]=mt,Ct=st);else if(gt<O&&0>o(It,mt))K[Ct]=It,K[gt]=mt,Ct=gt;else break t}}return ot}function o(K,ot){var mt=K.sortIndex-ot.sortIndex;return mt!==0?mt:K.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],v=1,T=null,A=3,N=!1,U=!1,H=!1,F=!1,J=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function ut(K){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=K)s(g),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=n(g)}}function lt(K){if(H=!1,ut(K),!U)if(n(m)!==null)U=!0,ft||(ft=!0,L());else{var ot=n(g);ot!==null&&ae(lt,ot.startTime-K)}}var ft=!1,x=-1,b=5,I=-1;function V(){return F?!0:!(r.unstable_now()-I<b)}function P(){if(F=!1,ft){var K=r.unstable_now();I=K;var ot=!0;try{t:{U=!1,H&&(H=!1,W(x),x=-1),N=!0;var mt=A;try{e:{for(ut(K),T=n(m);T!==null&&!(T.expirationTime>K&&V());){var Ct=T.callback;if(typeof Ct=="function"){T.callback=null,A=T.priorityLevel;var O=Ct(T.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){T.callback=O,ut(K),ot=!0;break e}T===n(m)&&s(m),ut(K)}else s(m);T=n(m)}if(T!==null)ot=!0;else{var nt=n(g);nt!==null&&ae(lt,nt.startTime-K),ot=!1}}break t}finally{T=null,A=mt,N=!1}ot=void 0}}finally{ot?L():ft=!1}}}var L;if(typeof rt=="function")L=function(){rt(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,De=D.port2;D.port1.onmessage=P,L=function(){De.postMessage(null)}}else L=function(){J(P,0)};function ae(K,ot){x=J(function(){K(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(K){switch(A){case 1:case 2:case 3:var ot=3;break;default:ot=A}var mt=A;A=ot;try{return K()}finally{A=mt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,ot){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var mt=A;A=K;try{return ot()}finally{A=mt}},r.unstable_scheduleCallback=function(K,ot,mt){var Ct=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ct+mt:Ct):mt=Ct,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=mt+O,K={id:v++,callback:ot,priorityLevel:K,startTime:mt,expirationTime:O,sortIndex:-1},mt>Ct?(K.sortIndex=mt,t(g,K),n(m)===null&&K===n(g)&&(H?(W(x),x=-1):H=!0,ae(lt,mt-Ct))):(K.sortIndex=O,t(m,K),U||N||(U=!0,ft||(ft=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var ot=A;return function(){var mt=A;A=ot;try{return K.apply(this,arguments)}finally{A=mt}}}}(am)),am}var VE;function Ab(){return VE||(VE=1,sm.exports=Sb()),sm.exports}var om={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function wb(){if(PE)return rn;PE=1;var r=hg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},rn.flushSync=function(m){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=v,s.d.f()}},rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=p(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:N}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,g){return m(g)},rn.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var kE;function bb(){if(kE)return om.exports;kE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),om.exports=wb(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function Rb(){if(LE)return iu;LE=1;var r=Ab(),t=hg(),n=bb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=d;break}if(S===l){E=!0,l=h,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=h;break}if(S===l){E=!0,l=d,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function De(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case F:return"Profiler";case H:return"StrictMode";case lt:return"Suspense";case ft:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case W:return(e._context.displayName||"Context")+".Consumer";case ut:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:De(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return De(e(i))}catch{}}return null}var ae=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ct=[],O=-1;function nt(e){return{current:e}}function st(e){0>O||(e.current=Ct[O],Ct[O]=null,O--)}function it(e,i){O++,Ct[O]=e.current,e.current=i}var gt=nt(null),It=nt(null),vt=nt(null),ce=nt(null);function qt(e,i){switch(it(vt,i),it(It,e),it(gt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?rE(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=rE(i),e=iE(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(gt),it(gt,e)}function Le(){st(gt),st(It),st(vt)}function On(e){e.memoizedState!==null&&it(ce,e);var i=gt.current,a=iE(i,e.type);i!==a&&(it(It,e),it(gt,a))}function pn(e){It.current===e&&(st(gt),st(It)),ce.current===e&&(st(ce),Zl._currentValue=mt)}var tn=Object.prototype.hasOwnProperty,vs=r.unstable_scheduleCallback,Es=r.unstable_cancelCallback,Yo=r.unstable_shouldYield,Xu=r.unstable_requestPaint,Mn=r.unstable_now,nd=r.unstable_getCurrentPriorityLevel,Xo=r.unstable_ImmediatePriority,Sa=r.unstable_UserBlockingPriority,Ts=r.unstable_NormalPriority,rd=r.unstable_LowPriority,Aa=r.unstable_IdlePriority,Wo=r.log,Wu=r.unstable_setDisableYieldValue,de=null,Kt=null;function En(e){if(typeof Wo=="function"&&Wu(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(de,e)}catch{}}var en=Math.clz32?Math.clz32:Ss,Zu=Math.log,id=Math.LN2;function Ss(e){return e>>>=0,e===0?32:31-(Zu(e)/id|0)|0}var As=256,ws=4194304;function Yn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wa(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Yn(l):(E&=S,E!==0?h=Yn(E):a||(a=S&~e,a!==0&&(h=Yn(a))))):(S=l&~d,S!==0?h=Yn(S):E!==0?h=Yn(E):a||(a=l&~e,a!==0&&(h=Yn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function bs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=As;return As<<=1,(As&4194048)===0&&(As=256),e}function tl(){var e=ws;return ws<<=1,(ws&62914560)===0&&(ws=4194304),e}function Pr(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function kr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function el(e,i,a,l,h,d){var E=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-en(a),tt=1<<Y;S[Y]=0,C[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}a&=~tt}l!==0&&ur(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~i))}function ur(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-en(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function nl(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-en(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ei(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ba(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ti(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:AE(e.type))}function Ju(e,i){var a=ot.p;try{return ot.p=e,i()}finally{ot.p=a}}var oe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+oe,Te="__reactProps$"+oe,Vn="__reactContainer$"+oe,rl="__reactEvents$"+oe,sd="__reactListeners$"+oe,Si="__reactHandles$"+oe,tc="__reactResources$"+oe,Rs="__reactMarker$"+oe;function Ai(e){delete e[Ne],delete e[Te],delete e[rl],delete e[sd],delete e[Si]}function Lr(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Vn]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=lE(e);e!==null;){if(a=e[Ne])return a;e=lE(e)}return i}e=a,a=e.parentNode}return null}function cr(e){if(e=e[Ne]||e[Vn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function hr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function un(e){var i=e[tc];return i||(i=e[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ye(e){e[Rs]=!0}var il=new Set,Ra={};function Xn(e,i){Ur(e,i),Ur(e+"Capture",i)}function Ur(e,i){for(Ra[e]=i,e=0;e<i.length;e++)il.add(i[e])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},Is={};function rc(e){return tn.call(Is,e)?!0:tn.call(nc,e)?!1:ec.test(e)?Is[e]=!0:(nc[e]=!0,!1)}function wi(e,i,a){if(rc(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function fr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function $e(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Cs,ic;function jr(e){if(Cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Cs=i&&i[1]||"",ic=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+e+ic}var Ia=!1;function Ca(e,i){if(!e||Ia)return"";Ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var q=G}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(G){q=G}e.call(tt.prototype)}}else{try{throw Error()}catch(G){q=G}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var C=E.split(`
`),B=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ia=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?jr(a):""}function sl(e){switch(e.tag){case 26:case 27:case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return Ca(e.type,!1);case 11:return Ca(e.type.render,!1);case 1:return Ca(e.type,!0);case 31:return jr("Activity");default:return""}}function xa(e){try{var i="";do i+=sl(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function al(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ad(e){var i=al(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Da(e){e._valueTracker||(e._valueTracker=ad(e))}function ol(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=al(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var od=/[\n"\\]/g;function Se(e){return e.replace(od,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tn(e,i,a,l,h,d,E,S){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),i!=null?E==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+cn(i)):e.value!==""+cn(i)&&(e.value=""+cn(i)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),i!=null?bi(e,E,cn(i)):a!=null?bi(e,E,cn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+cn(S):e.removeAttribute("name")}function Ds(e,i,a,l,h,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function bi(e,i,a){i==="number"&&xs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Wt(e,i,a){if(i!=null&&(i=""+cn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+cn(a):""}function Ns(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=cn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Pn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Os.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ll(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&sc(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&sc(e,d,i[d])}function ul(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ud=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(e){return ud.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Br=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qr=null,Hr=null;function cl(e){var i=cr(e);if(i&&(e=i.stateNode)){var a=e[Te]||null;t:switch(e=i.stateNode,i.type){case"input":if(Tn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Te]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ol(l)}break t;case"textarea":Wt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zr(e,!!a.multiple,i,!1)}}}var dr=!1;function ac(e,i,a){if(dr)return e(i,a);dr=!0;try{var l=e(i);return l}finally{if(dr=!1,(qr!==null||Hr!==null)&&(Jc(),qr&&(i=qr,e=Hr,Hr=qr=null,cl(i),e)))for(i=0;i<e.length;i++)cl(e[i])}}function Ms(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Wn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Ln=!1}var pr=null,Ri=null,Fr=null;function hl(){if(Fr)return Fr;var e,i=Ri,a=i.length,l,h="value"in pr?pr.value:pr.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var E=a-e;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Fr=h.slice(e,1<l?1-l:void 0)}function mr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function fl(){return!1}function Ue(e){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gr:fl,this.isPropagationStopped=fl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Ue(Gt),Ps=v({},Gt,{view:0,detail:0}),oc=Ue(Ps),Ma,Va,yr,ks=v({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(Ma=e.screenX-yr.screenX,Va=e.screenY-yr.screenY):Va=Ma=0,yr=e),Ma)},movementY:function(e){return"movementY"in e?e.movementY:Va}}),Un=Ue(ks),lc=v({},ks,{dataTransfer:0}),cd=Ue(lc),Ls=v({},Ps,{relatedTarget:0}),Pa=Ue(Ls),dl=v({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=Ue(dl),uc=v({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),La=Ue(uc),hd=v({},Gt,{data:0}),pl=Ue(hd),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=hc[e])?!!i[e]:!1}function js(){return ml}var fc=v({},Ps,{key:function(e){if(e.key){var i=Us[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ua=Ue(fc),dc=v({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=Ue(dc),Gr=v({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),pc=Ue(Gr),mc=v({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gc=Ue(mc),yc=v({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ue(yc),hn=v({},Gt,{newState:0,oldState:0}),_c=Ue(hn),vc=[9,13,27,32],_r=Wn&&"CompositionEvent"in window,c=null;Wn&&"documentMode"in document&&(c=document.documentMode);var y=Wn&&"TextEvent"in window&&!c,_=Wn&&(!_r||c&&8<c&&11>=c),w=" ",j=!1;function Q(e,i){switch(e){case"keyup":return vc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Oe(e,i){switch(e){case"compositionend":return at(i);case"keypress":return i.which!==32?null:(j=!0,w);case"textInput":return e=i.data,e===w&&j?null:e;default:return null}}function jt(e,i){if(Ut)return e==="compositionend"||!_r&&Q(e,i)?(e=hl(),Fr=Ri=pr=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!je[e.type]:i==="textarea"}function $r(e,i,a,l){qr?Hr?Hr.push(l):Hr=[l]:qr=l,i=sh(i,"onChange"),0<i.length&&(a=new Oa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Qe=null,vr=null;function yl(e){Zv(e,0)}function Ec(e){var i=hr(e);if(ol(i))return e}function vy(e,i){if(e==="change")return i}var Ey=!1;if(Wn){var fd;if(Wn){var dd="oninput"in document;if(!dd){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),dd=typeof Ty.oninput=="function"}fd=dd}else fd=!1;Ey=fd&&(!document.documentMode||9<document.documentMode)}function Sy(){Qe&&(Qe.detachEvent("onpropertychange",Ay),vr=Qe=null)}function Ay(e){if(e.propertyName==="value"&&Ec(vr)){var i=[];$r(i,vr,e,kn(e)),ac(yl,i)}}function KA(e,i,a){e==="focusin"?(Sy(),Qe=i,vr=a,Qe.attachEvent("onpropertychange",Ay)):e==="focusout"&&Sy()}function YA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ec(vr)}function XA(e,i){if(e==="click")return Ec(i)}function WA(e,i){if(e==="input"||e==="change")return Ec(i)}function ZA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Sn=typeof Object.is=="function"?Object.is:ZA;function _l(e,i){if(Sn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!tn.call(i,h)||!Sn(e[h],i[h]))return!1}return!0}function wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function by(e,i){var a=wy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=wy(a)}}function Ry(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ry(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Iy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=xs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=xs(e.document)}return i}function pd(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var JA=Wn&&"documentMode"in document&&11>=document.documentMode,za=null,md=null,vl=null,gd=!1;function Cy(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gd||za==null||za!==xs(l)||(l=za,"selectionStart"in l&&pd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&_l(vl,l)||(vl=l,l=sh(md,"onSelect"),0<l.length&&(i=new Oa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=za)))}function zs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ba={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},yd={},xy={};Wn&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Bs(e){if(yd[e])return yd[e];if(!Ba[e])return e;var i=Ba[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in xy)return yd[e]=i[a];return e}var Dy=Bs("animationend"),Ny=Bs("animationiteration"),Oy=Bs("animationstart"),tw=Bs("transitionrun"),ew=Bs("transitionstart"),nw=Bs("transitioncancel"),My=Bs("transitionend"),Vy=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function Zn(e,i){Vy.set(e,i),Xn(i,[e])}var Py=new WeakMap;function jn(e,i){if(typeof e=="object"&&e!==null){var a=Py.get(e);return a!==void 0?a:(i={value:e,source:i,stack:xa(i)},Py.set(e,i),i)}return{value:e,source:i,stack:xa(i)}}var zn=[],qa=0,vd=0;function Tc(){for(var e=qa,i=vd=qa=0;i<e;){var a=zn[i];zn[i++]=null;var l=zn[i];zn[i++]=null;var h=zn[i];zn[i++]=null;var d=zn[i];if(zn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&ky(a,h,d)}}function Sc(e,i,a,l){zn[qa++]=e,zn[qa++]=i,zn[qa++]=a,zn[qa++]=l,vd|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ed(e,i,a,l){return Sc(e,i,a,l),Ac(e)}function Ha(e,i){return Sc(e,null,null,i),Ac(e)}function ky(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-en(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ac(e){if(50<Fl)throw Fl=0,Rp=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Fa={};function rw(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,i,a,l){return new rw(e,i,a,l)}function Td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qr(e,i){var a=e.alternate;return a===null?(a=An(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ly(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wc(e,i,a,l,h,d){var E=0;if(l=e,typeof e=="function")Td(e)&&(E=1);else if(typeof e=="string")E=sb(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=An(31,a,i,h),e.elementType=I,e.lanes=d,e;case U:return qs(a.children,h,d,i);case H:E=8,h|=24;break;case F:return e=An(12,a,i,h|2),e.elementType=F,e.lanes=d,e;case lt:return e=An(13,a,i,h),e.elementType=lt,e.lanes=d,e;case ft:return e=An(19,a,i,h),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case rt:E=10;break t;case W:E=9;break t;case ut:E=11;break t;case x:E=14;break t;case b:E=16,l=null;break t}E=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=An(E,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function qs(e,i,a,l){return e=An(7,e,l,i),e.lanes=a,e}function Sd(e,i,a){return e=An(6,e,null,i),e.lanes=a,e}function Ad(e,i,a){return i=An(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ga=[],$a=0,bc=null,Rc=0,Bn=[],qn=0,Hs=null,Kr=1,Yr="";function Fs(e,i){Ga[$a++]=Rc,Ga[$a++]=bc,bc=e,Rc=i}function Uy(e,i,a){Bn[qn++]=Kr,Bn[qn++]=Yr,Bn[qn++]=Hs,Hs=e;var l=Kr;e=Yr;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Kr=1<<32-en(i)+h|a<<h|l,Yr=d+e}else Kr=1<<d|a<<h|l,Yr=e}function wd(e){e.return!==null&&(Fs(e,1),Uy(e,1,0))}function bd(e){for(;e===bc;)bc=Ga[--$a],Ga[$a]=null,Rc=Ga[--$a],Ga[$a]=null;for(;e===Hs;)Hs=Bn[--qn],Bn[qn]=null,Yr=Bn[--qn],Bn[qn]=null,Kr=Bn[--qn],Bn[qn]=null}var fn=null,pe=null,Ft=!1,Gs=null,Er=!1,Rd=Error(s(519));function $s(e){var i=Error(s(418,""));throw Sl(jn(i,e)),Rd}function jy(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[Te]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<$l.length;a++)Vt($l[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Ns(i,l.value,l.defaultValue,l.children),Da(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||nE(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=ah),i=!0):i=!1,i||$s(e)}function zy(e){for(fn=e.return;fn;)switch(fn.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:fn=fn.return}}function El(e){if(e!==fn)return!1;if(!Ft)return zy(e),Ft=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qp(e.type,e.memoizedProps)),a=!a),a&&pe&&$s(e),zy(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){pe=tr(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}pe=null}}else i===27?(i=pe,qi(e.type)?(e=$p,$p=null,pe=e):pe=i):pe=fn?tr(e.stateNode.nextSibling):null;return!0}function Tl(){pe=fn=null,Ft=!1}function By(){var e=Gs;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Gs=null),e}function Sl(e){Gs===null?Gs=[e]:Gs.push(e)}var Id=nt(null),Qs=null,Xr=null;function Ii(e,i,a){it(Id,i._currentValue),i._currentValue=a}function Wr(e){e._currentValue=Id.current,st(Id)}function Cd(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function xd(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Cd(d.return,a,e),l||(E=null);break t}d=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Cd(E,a,e),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===e){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Al(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;Sn(h.pendingProps.value,E.value)||(e!==null?e.push(S):e=[S])}}else if(h===ce.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Zl):e=[Zl])}h=h.return}e!==null&&xd(i,e,a,l),i.flags|=262144}function Ic(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ks(e){Qs=e,Xr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return qy(Qs,e)}function Cc(e,i){return Qs===null&&Ks(e),qy(e,i)}function qy(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xr===null){if(e===null)throw Error(s(308));Xr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Xr=Xr.next=i;return a}var iw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},sw=r.unstable_scheduleCallback,aw=r.unstable_NormalPriority,Ve={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new iw,data:new Map,refCount:0}}function wl(e){e.refCount--,e.refCount===0&&sw(aw,function(){e.controller.abort()})}var bl=null,Nd=0,Qa=0,Ka=null;function ow(e,i){if(bl===null){var a=bl=[];Nd=0,Qa=Mp(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nd++,i.then(Hy,Hy),i}function Hy(){if(--Nd===0&&bl!==null){Ka!==null&&(Ka.status="fulfilled");var e=bl;bl=null,Qa=0,Ka=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function lw(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fy=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ow(e,i),Fy!==null&&Fy(e,i)};var Ys=nt(null);function Od(){var e=Ys.current;return e!==null?e:ne.pooledCache}function xc(e,i){i===null?it(Ys,Ys.current):it(Ys,i.pool)}function Gy(){var e=Od();return e===null?null:{parent:Ve._currentValue,pool:e}}var Rl=Error(s(460)),$y=Error(s(474)),Dc=Error(s(542)),Md={then:function(){}};function Qy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Nc(){}function Ky(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Nc,Nc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xy(e),e;default:if(typeof i.status=="string")i.then(Nc,Nc);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xy(e),e}throw Il=i,Rl}}var Il=null;function Yy(){if(Il===null)throw Error(s(459));var e=Il;return Il=null,e}function Xy(e){if(e===Rl||e===Dc)throw Error(s(483))}var Ci=!1;function Vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Di(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ac(e),ky(e,null,a),i}return Sc(e,l,i,a),Ac(e)}function Cl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nl(e,a)}}function kd(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ld=!1;function xl(){if(Ld){var e=Ka;if(e!==null)throw e}}function Dl(e,i,a,l){Ld=!1;var h=e.updateQueue;Ci=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,B=C.next;C.next=null,E===null?d=B:E.next=B,E=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==E&&(S===null?Y.firstBaseUpdate=B:S.next=B,Y.lastBaseUpdate=C))}if(d!==null){var tt=h.baseState;E=0,Y=B=C=null,S=d;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(zt&q)===q:(l&q)===q){q!==0&&q===Qa&&(Ld=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var wt=e,Et=S;q=i;var te=a;switch(Et.tag){case 1:if(wt=Et.payload,typeof wt=="function"){tt=wt.call(te,tt,q);break t}tt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Et.payload,q=typeof wt=="function"?wt.call(te,tt,q):wt,q==null)break t;tt=v({},tt,q);break t;case 2:Ci=!0}}q=S.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(B=Y=G,C=tt):Y=Y.next=G,E|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(C=tt),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ui|=E,e.lanes=E,e.memoizedState=tt}}function Wy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Zy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wy(a[e],i)}var Ya=nt(null),Oc=nt(0);function Jy(e,i){e=ii,it(Oc,e),it(Ya,i),ii=e|i.baseLanes}function Ud(){it(Oc,ii),it(Ya,Ya.current)}function jd(){ii=Oc.current,st(Ya),st(Oc)}var Ni=0,Nt=null,Zt=null,Ae=null,Mc=!1,Xa=!1,Xs=!1,Vc=0,Nl=0,Wa=null,uw=0;function _e(){throw Error(s(321))}function zd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Sn(e[a],i[a]))return!1;return!0}function Bd(e,i,a,l,h,d){return Ni=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?k_:L_,Xs=!1,d=a(l,h),Xs=!1,Xa&&(d=e_(i,a,l,h)),t_(e),d}function t_(e){K.H=zc;var i=Zt!==null&&Zt.next!==null;if(Ni=0,Ae=Zt=Nt=null,Mc=!1,Nl=0,Wa=null,i)throw Error(s(300));e===null||ze||(e=e.dependencies,e!==null&&Ic(e)&&(ze=!0))}function e_(e,i,a,l){Nt=e;var h=0;do{if(Xa&&(Wa=null),Nl=0,Xa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=gw,d=i(a,l)}while(Xa);return d}function cw(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Ol(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function qd(){var e=Vc!==0;return Vc=0,e}function Hd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Fd(e){if(Mc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Mc=!1}Ni=0,Ae=Zt=Nt=null,Xa=!1,Nl=Vc=0,Wa=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Nt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function we(){if(Zt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=Ae===null?Nt.memoizedState:Ae.next;if(i!==null)Ae=i,Zt=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Nt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(e){var i=Nl;return Nl+=1,Wa===null&&(Wa=[]),e=Ky(Wa,e,i),i=Nt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?k_:L_),e}function Pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ol(e);if(e.$$typeof===rt)return nn(e)}throw Error(s(438,String(e)))}function $d(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gd(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Zr(e,i){return typeof i=="function"?i(e):i}function kc(e){var i=we();return Qd(i,Zt,e)}function Qd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=E=null,C=null,B=i,Y=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(zt&tt)===tt:(Ni&tt)===tt){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===Qa&&(Y=!0);else if((Ni&q)===q){B=B.next,q===Qa&&(Y=!0);continue}else tt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=tt,E=d):C=C.next=tt,Nt.lanes|=q,Ui|=q;tt=B.action,Xs&&a(d,tt),d=B.hasEagerState?B.eagerState:a(d,tt)}else q={lane:tt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=q,E=d):C=C.next=q,Nt.lanes|=tt,Ui|=tt;B=B.next}while(B!==null&&B!==i);if(C===null?E=d:C.next=S,!Sn(d,e.memoizedState)&&(ze=!0,Y&&(a=Ka,a!==null)))throw a;e.memoizedState=d,e.baseState=E,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kd(e){var i=we(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=e(d,E.action),E=E.next;while(E!==h);Sn(d,i.memoizedState)||(ze=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function n_(e,i,a){var l=Nt,h=we(),d=Ft;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Sn((Zt||h).memoizedState,a);E&&(h.memoizedState=a,ze=!0),h=h.queue;var S=s_.bind(null,l,h,e);if(Ml(2048,8,S,[e]),h.getSnapshot!==i||E||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Za(9,Lc(),i_.bind(null,l,h,a,i),null),ne===null)throw Error(s(349));d||(Ni&124)!==0||r_(l,i,a)}return a}function r_(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=Gd(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function i_(e,i,a,l){i.value=a,i.getSnapshot=l,a_(i)&&o_(e)}function s_(e,i,a){return a(function(){a_(i)&&o_(e)})}function a_(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Sn(e,a)}catch{return!0}}function o_(e){var i=Ha(e,2);i!==null&&Cn(i,e,2)}function Yd(e){var i=mn();if(typeof e=="function"){var a=e;if(e=a(),Xs){En(!0);try{a()}finally{En(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},i}function l_(e,i,a,l){return e.baseState=a,Qd(e,Zt,typeof l=="function"?l:Zr)}function hw(e,i,a,l,h){if(jc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,u_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function u_(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,E={};K.T=E;try{var S=a(h,l),C=K.S;C!==null&&C(E,S),c_(e,i,S)}catch(B){Xd(e,i,B)}finally{K.T=d}}else try{d=a(h,l),c_(e,i,d)}catch(B){Xd(e,i,B)}}function c_(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){h_(e,i,l)},function(l){return Xd(e,i,l)}):h_(e,i,a)}function h_(e,i,a){i.status="fulfilled",i.value=a,f_(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,u_(e,a)))}function Xd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,f_(i),i=i.next;while(i!==l)}e.action=null}function f_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function d_(e,i){return i}function p_(e,i){if(Ft){var a=ne.formState;if(a!==null){t:{var l=Nt;if(Ft){if(pe){e:{for(var h=pe,d=Er;h.nodeType!==8;){if(!d){h=null;break e}if(h=tr(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pe=tr(h.nextSibling),l=h.data==="F!";break t}}$s(l)}l=!1}l&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d_,lastRenderedState:i},a.queue=l,a=M_.bind(null,Nt,l),l.dispatch=a,l=Yd(!1),d=ep.bind(null,Nt,!1,l.queue),l=mn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=hw.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function m_(e){var i=we();return g_(i,Zt,e)}function g_(e,i,a){if(i=Qd(e,i,d_)[0],e=kc(Zr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ol(i)}catch(E){throw E===Rl?Dc:E}else l=i;i=we();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Za(9,Lc(),fw.bind(null,h,a),null)),[l,d,e]}function fw(e,i){e.action=i}function y_(e){var i=we(),a=Zt;if(a!==null)return g_(i,a,e);we(),i=i.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Za(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=Gd(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Lc(){return{destroy:void 0,resource:void 0}}function __(){return we().memoizedState}function Uc(e,i,a,l){var h=mn();l=l===void 0?null:l,Nt.flags|=e,h.memoizedState=Za(1|i,Lc(),a,l)}function Ml(e,i,a,l){var h=we();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&zd(l,Zt.memoizedState.deps)?h.memoizedState=Za(i,d,a,l):(Nt.flags|=e,h.memoizedState=Za(1|i,d,a,l))}function v_(e,i){Uc(8390656,8,e,i)}function E_(e,i){Ml(2048,8,e,i)}function T_(e,i){return Ml(4,2,e,i)}function S_(e,i){return Ml(4,4,e,i)}function A_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function w_(e,i,a){a=a!=null?a.concat([e]):null,Ml(4,4,A_.bind(null,i,e),a)}function Wd(){}function b_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zd(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function R_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zd(i,l[1]))return l[0];if(l=e(),Xs){En(!0);try{e()}finally{En(!1)}}return a.memoizedState=[l,i],l}function Zd(e,i,a){return a===void 0||(Ni&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=xv(),Nt.lanes|=e,Ui|=e,a)}function I_(e,i,a,l){return Sn(a,i)?a:Ya.current!==null?(e=Zd(e,a,l),Sn(e,i)||(ze=!0),e):(Ni&42)===0?(ze=!0,e.memoizedState=a):(e=xv(),Nt.lanes|=e,Ui|=e,i)}function C_(e,i,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var E=K.T,S={};K.T=S,ep(e,!1,i,a);try{var C=h(),B=K.S;if(B!==null&&B(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=lw(C,l);Vl(e,i,Y,In(e))}else Vl(e,i,l,In(e))}catch(tt){Vl(e,i,{then:function(){},status:"rejected",reason:tt},In())}finally{ot.p=d,K.T=E}}function dw(){}function Jd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=x_(e).queue;C_(e,h,i,mt,a===null?dw:function(){return D_(e),a(l)})}function x_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function D_(e){var i=x_(e).next.queue;Vl(e,i,{},In())}function tp(){return nn(Zl)}function N_(){return we().memoizedState}function O_(){return we().memoizedState}function pw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();e=xi(a);var l=Di(i,e,a);l!==null&&(Cn(l,i,a),Cl(l,i,a)),i={cache:Dd()},e.payload=i;return}i=i.return}}function mw(e,i,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},jc(e)?V_(i,a):(a=Ed(e,i,a,l),a!==null&&(Cn(a,e,l),P_(a,i,l)))}function M_(e,i,a){var l=In();Vl(e,i,a,l)}function Vl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(e))V_(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,S=d(E,a);if(h.hasEagerState=!0,h.eagerState=S,Sn(S,E))return Sc(e,i,h,0),ne===null&&Tc(),!1}catch{}finally{}if(a=Ed(e,i,h,l),a!==null)return Cn(a,e,l),P_(a,i,l),!0}return!1}function ep(e,i,a,l){if(l={lane:2,revertLane:Mp(),action:l,hasEagerState:!1,eagerState:null,next:null},jc(e)){if(i)throw Error(s(479))}else i=Ed(e,a,l,2),i!==null&&Cn(i,e,2)}function jc(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function V_(e,i){Xa=Mc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function P_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nl(e,a)}}var zc={readContext:nn,use:Pc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},k_={readContext:nn,use:Pc,useCallback:function(e,i){return mn().memoizedState=[e,i===void 0?null:i],e},useContext:nn,useEffect:v_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Uc(4194308,4,A_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Uc(4194308,4,e,i)},useInsertionEffect:function(e,i){Uc(4,2,e,i)},useMemo:function(e,i){var a=mn();i=i===void 0?null:i;var l=e();if(Xs){En(!0);try{e()}finally{En(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=mn();if(a!==void 0){var h=a(i);if(Xs){En(!0);try{a(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=mw.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=mn();return e={current:e},i.memoizedState=e},useState:function(e){e=Yd(e);var i=e.queue,a=M_.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Wd,useDeferredValue:function(e,i){var a=mn();return Zd(a,e,i)},useTransition:function(){var e=Yd(!1);return e=C_.bind(null,Nt,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=mn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(zt&124)!==0||r_(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,v_(s_.bind(null,l,d,e),[e]),l.flags|=2048,Za(9,Lc(),i_.bind(null,l,d,a,i),null),a},useId:function(){var e=mn(),i=ne.identifierPrefix;if(Ft){var a=Yr,l=Kr;a=(l&~(1<<32-en(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Vc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=uw++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:tp,useFormState:p_,useActionState:p_,useOptimistic:function(e){var i=mn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ep.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:$d,useCacheRefresh:function(){return mn().memoizedState=pw.bind(null,Nt)}},L_={readContext:nn,use:Pc,useCallback:b_,useContext:nn,useEffect:E_,useImperativeHandle:w_,useInsertionEffect:T_,useLayoutEffect:S_,useMemo:R_,useReducer:kc,useRef:__,useState:function(){return kc(Zr)},useDebugValue:Wd,useDeferredValue:function(e,i){var a=we();return I_(a,Zt.memoizedState,e,i)},useTransition:function(){var e=kc(Zr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Ol(e),i]},useSyncExternalStore:n_,useId:N_,useHostTransitionStatus:tp,useFormState:m_,useActionState:m_,useOptimistic:function(e,i){var a=we();return l_(a,Zt,e,i)},useMemoCache:$d,useCacheRefresh:O_},gw={readContext:nn,use:Pc,useCallback:b_,useContext:nn,useEffect:E_,useImperativeHandle:w_,useInsertionEffect:T_,useLayoutEffect:S_,useMemo:R_,useReducer:Kd,useRef:__,useState:function(){return Kd(Zr)},useDebugValue:Wd,useDeferredValue:function(e,i){var a=we();return Zt===null?Zd(a,e,i):I_(a,Zt.memoizedState,e,i)},useTransition:function(){var e=Kd(Zr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Ol(e),i]},useSyncExternalStore:n_,useId:N_,useHostTransitionStatus:tp,useFormState:y_,useActionState:y_,useOptimistic:function(e,i){var a=we();return Zt!==null?l_(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:$d,useCacheRefresh:O_},Ja=null,Pl=0;function Bc(e){var i=Pl;return Pl+=1,Ja===null&&(Ja=[]),Ky(Ja,e,i)}function kl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function qc(e,i){throw i.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function U_(e){var i=e._init;return i(e._payload)}function j_(e){function i(k,M){if(e){var z=k.deletions;z===null?(k.deletions=[M],k.flags|=16):z.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Qr(k,M),k.index=0,k.sibling=null,k}function d(k,M,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<M?(k.flags|=67108866,M):z):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function E(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function S(k,M,z,X){return M===null||M.tag!==6?(M=Sd(z,k.mode,X),M.return=k,M):(M=h(M,z),M.return=k,M)}function C(k,M,z,X){var dt=z.type;return dt===U?Y(k,M,z.props.children,X,z.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&U_(dt)===M.type)?(M=h(M,z.props),kl(M,z),M.return=k,M):(M=wc(z.type,z.key,z.props,null,k.mode,X),kl(M,z),M.return=k,M)}function B(k,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Ad(z,k.mode,X),M.return=k,M):(M=h(M,z.children||[]),M.return=k,M)}function Y(k,M,z,X,dt){return M===null||M.tag!==7?(M=qs(z,k.mode,X,dt),M.return=k,M):(M=h(M,z),M.return=k,M)}function tt(k,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sd(""+M,k.mode,z),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return z=wc(M.type,M.key,M.props,null,k.mode,z),kl(z,M),z.return=k,z;case N:return M=Ad(M,k.mode,z),M.return=k,M;case b:var X=M._init;return M=X(M._payload),tt(k,M,z)}if(ae(M)||L(M))return M=qs(M,k.mode,z,null),M.return=k,M;if(typeof M.then=="function")return tt(k,Bc(M),z);if(M.$$typeof===rt)return tt(k,Cc(k,M),z);qc(k,M)}return null}function q(k,M,z,X){var dt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:S(k,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===dt?C(k,M,z,X):null;case N:return z.key===dt?B(k,M,z,X):null;case b:return dt=z._init,z=dt(z._payload),q(k,M,z,X)}if(ae(z)||L(z))return dt!==null?null:Y(k,M,z,X,null);if(typeof z.then=="function")return q(k,M,Bc(z),X);if(z.$$typeof===rt)return q(k,M,Cc(k,z),X);qc(k,z)}return null}function G(k,M,z,X,dt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(z)||null,S(M,k,""+X,dt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return k=k.get(X.key===null?z:X.key)||null,C(M,k,X,dt);case N:return k=k.get(X.key===null?z:X.key)||null,B(M,k,X,dt);case b:var Ot=X._init;return X=Ot(X._payload),G(k,M,z,X,dt)}if(ae(X)||L(X))return k=k.get(z)||null,Y(M,k,X,dt,null);if(typeof X.then=="function")return G(k,M,z,Bc(X),dt);if(X.$$typeof===rt)return G(k,M,z,Cc(M,X),dt);qc(M,X)}return null}function wt(k,M,z,X){for(var dt=null,Ot=null,yt=M,Tt=M=0,qe=null;yt!==null&&Tt<z.length;Tt++){yt.index>Tt?(qe=yt,yt=null):qe=yt.sibling;var Ht=q(k,yt,z[Tt],X);if(Ht===null){yt===null&&(yt=qe);break}e&&yt&&Ht.alternate===null&&i(k,yt),M=d(Ht,M,Tt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht,yt=qe}if(Tt===z.length)return a(k,yt),Ft&&Fs(k,Tt),dt;if(yt===null){for(;Tt<z.length;Tt++)yt=tt(k,z[Tt],X),yt!==null&&(M=d(yt,M,Tt),Ot===null?dt=yt:Ot.sibling=yt,Ot=yt);return Ft&&Fs(k,Tt),dt}for(yt=l(yt);Tt<z.length;Tt++)qe=G(yt,k,Tt,z[Tt],X),qe!==null&&(e&&qe.alternate!==null&&yt.delete(qe.key===null?Tt:qe.key),M=d(qe,M,Tt),Ot===null?dt=qe:Ot.sibling=qe,Ot=qe);return e&&yt.forEach(function(Qi){return i(k,Qi)}),Ft&&Fs(k,Tt),dt}function Et(k,M,z,X){if(z==null)throw Error(s(151));for(var dt=null,Ot=null,yt=M,Tt=M=0,qe=null,Ht=z.next();yt!==null&&!Ht.done;Tt++,Ht=z.next()){yt.index>Tt?(qe=yt,yt=null):qe=yt.sibling;var Qi=q(k,yt,Ht.value,X);if(Qi===null){yt===null&&(yt=qe);break}e&&yt&&Qi.alternate===null&&i(k,yt),M=d(Qi,M,Tt),Ot===null?dt=Qi:Ot.sibling=Qi,Ot=Qi,yt=qe}if(Ht.done)return a(k,yt),Ft&&Fs(k,Tt),dt;if(yt===null){for(;!Ht.done;Tt++,Ht=z.next())Ht=tt(k,Ht.value,X),Ht!==null&&(M=d(Ht,M,Tt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht);return Ft&&Fs(k,Tt),dt}for(yt=l(yt);!Ht.done;Tt++,Ht=z.next())Ht=G(yt,k,Tt,Ht.value,X),Ht!==null&&(e&&Ht.alternate!==null&&yt.delete(Ht.key===null?Tt:Ht.key),M=d(Ht,M,Tt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht);return e&&yt.forEach(function(yb){return i(k,yb)}),Ft&&Fs(k,Tt),dt}function te(k,M,z,X){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:t:{for(var dt=z.key;M!==null;){if(M.key===dt){if(dt=z.type,dt===U){if(M.tag===7){a(k,M.sibling),X=h(M,z.props.children),X.return=k,k=X;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&U_(dt)===M.type){a(k,M.sibling),X=h(M,z.props),kl(X,z),X.return=k,k=X;break t}a(k,M);break}else i(k,M);M=M.sibling}z.type===U?(X=qs(z.props.children,k.mode,X,z.key),X.return=k,k=X):(X=wc(z.type,z.key,z.props,null,k.mode,X),kl(X,z),X.return=k,k=X)}return E(k);case N:t:{for(dt=z.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(k,M.sibling),X=h(M,z.children||[]),X.return=k,k=X;break t}else{a(k,M);break}else i(k,M);M=M.sibling}X=Ad(z,k.mode,X),X.return=k,k=X}return E(k);case b:return dt=z._init,z=dt(z._payload),te(k,M,z,X)}if(ae(z))return wt(k,M,z,X);if(L(z)){if(dt=L(z),typeof dt!="function")throw Error(s(150));return z=dt.call(z),Et(k,M,z,X)}if(typeof z.then=="function")return te(k,M,Bc(z),X);if(z.$$typeof===rt)return te(k,M,Cc(k,z),X);qc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(k,M.sibling),X=h(M,z),X.return=k,k=X):(a(k,M),X=Sd(z,k.mode,X),X.return=k,k=X),E(k)):a(k,M)}return function(k,M,z,X){try{Pl=0;var dt=te(k,M,z,X);return Ja=null,dt}catch(yt){if(yt===Rl||yt===Dc)throw yt;var Ot=An(29,yt,null,k.mode);return Ot.lanes=X,Ot.return=k,Ot}finally{}}}var to=j_(!0),z_=j_(!1),Hn=nt(null),Tr=null;function Oi(e){var i=e.alternate;it(Pe,Pe.current&1),it(Hn,e),Tr===null&&(i===null||Ya.current!==null||i.memoizedState!==null)&&(Tr=e)}function B_(e){if(e.tag===22){if(it(Pe,Pe.current),it(Hn,e),Tr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Tr=e)}}else Mi()}function Mi(){it(Pe,Pe.current),it(Hn,Hn.current)}function Jr(e){st(Hn),Tr===e&&(Tr=null),st(Pe)}var Pe=nt(0);function Hc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function np(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rp={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=In(),h=xi(l);h.payload=i,a!=null&&(h.callback=a),i=Di(e,h,l),i!==null&&(Cn(i,e,l),Cl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=In(),h=xi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Di(e,h,l),i!==null&&(Cn(i,e,l),Cl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=In(),l=xi(a);l.tag=2,i!=null&&(l.callback=i),i=Di(e,l,a),i!==null&&(Cn(i,e,a),Cl(i,e,a))}};function q_(e,i,a,l,h,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!_l(a,l)||!_l(h,d):!0}function H_(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&rp.enqueueReplaceState(i,i.state,null)}function Ws(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=v({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Fc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function F_(e){Fc(e)}function G_(e){console.error(e)}function $_(e){Fc(e)}function Gc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Q_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ip(e,i,a){return a=xi(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(e,i)},a}function K_(e){return e=xi(e),e.tag=3,e}function Y_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Q_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Q_(i,a,l),typeof h!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function yw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Al(i,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return Tr===null?Cp():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Md?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dp(e,l,h)),!1;case 22:return a.flags|=65536,l===Md?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dp(e,l,h)),!1}throw Error(s(435,a.tag))}return Dp(e,l,h),Cp(),!1}if(Ft)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Rd&&(e=Error(s(422),{cause:l}),Sl(jn(e,a)))):(l!==Rd&&(i=Error(s(423),{cause:l}),Sl(jn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=jn(l,a),h=ip(e.stateNode,l,h),kd(e,h),me!==4&&(me=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Hl===null?Hl=[d]:Hl.push(d),me!==4&&(me=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ip(a.stateNode,l,e),kd(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ji===null||!ji.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=K_(h),Y_(h,e,a,l),kd(a,h),!1}a=a.return}while(a!==null);return!1}var X_=Error(s(461)),ze=!1;function Ke(e,i,a,l){i.child=e===null?z_(i,null,a,l):to(i,e.child,a,l)}function W_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Ks(i),l=Bd(e,i,a,E,d,h),S=qd(),e!==null&&!ze?(Hd(e,i,h),ti(e,i,h)):(Ft&&S&&wd(i),i.flags|=1,Ke(e,i,l,h),i.child)}function Z_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Td(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,J_(e,i,d,l,h)):(e=wc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!fp(e,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(E,l)&&e.ref===i.ref)return ti(e,i,h)}return i.flags|=1,e=Qr(d,l),e.ref=i.ref,e.return=i,i.child=e}function J_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(_l(d,l)&&e.ref===i.ref)if(ze=!1,i.pendingProps=l=d,fp(e,h))(e.flags&131072)!==0&&(ze=!0);else return i.lanes=e.lanes,ti(e,i,h)}return sp(e,i,a,l,h)}function tv(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ev(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&xc(i,d!==null?d.cachePool:null),d!==null?Jy(i,d):Ud(),B_(i);else return i.lanes=i.childLanes=536870912,ev(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(xc(i,d.cachePool),Jy(i,d),Mi(),i.memoizedState=null):(e!==null&&xc(i,null),Ud(),Mi());return Ke(e,i,h,a),i.child}function ev(e,i,a,l){var h=Od();return h=h===null?null:{parent:Ve._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&xc(i,null),Ud(),B_(i),e!==null&&Al(e,i,l,!0),null}function $c(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function sp(e,i,a,l,h){return Ks(i),a=Bd(e,i,a,l,void 0,h),l=qd(),e!==null&&!ze?(Hd(e,i,h),ti(e,i,h)):(Ft&&l&&wd(i),i.flags|=1,Ke(e,i,a,h),i.child)}function nv(e,i,a,l,h,d){return Ks(i),i.updateQueue=null,a=e_(i,l,a,h),t_(e),l=qd(),e!==null&&!ze?(Hd(e,i,d),ti(e,i,d)):(Ft&&l&&wd(i),i.flags|=1,Ke(e,i,a,d),i.child)}function rv(e,i,a,l,h){if(Ks(i),i.stateNode===null){var d=Fa,E=a.contextType;typeof E=="object"&&E!==null&&(d=nn(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rp,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?nn(E):Fa,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(np(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&rp.enqueueReplaceState(d,d.state,null),Dl(i,l,d,h),xl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,C=Ws(a,S);d.props=C;var B=d.context,Y=a.contextType;E=Fa,typeof Y=="object"&&Y!==null&&(E=nn(Y));var tt=a.getDerivedStateFromProps;Y=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==E)&&H_(i,d,l,E),Ci=!1;var q=i.memoizedState;d.state=q,Dl(i,l,d,h),xl(),B=i.memoizedState,S||q!==B||Ci?(typeof tt=="function"&&(np(i,a,tt,l),B=i.memoizedState),(C=Ci||q_(i,a,C,l,q,B,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Pd(e,i),E=i.memoizedProps,Y=Ws(a,E),d.props=Y,tt=i.pendingProps,q=d.context,B=a.contextType,C=Fa,typeof B=="object"&&B!==null&&(C=nn(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==tt||q!==C)&&H_(i,d,l,C),Ci=!1,q=i.memoizedState,d.state=q,Dl(i,l,d,h),xl();var G=i.memoizedState;E!==tt||q!==G||Ci||e!==null&&e.dependencies!==null&&Ic(e.dependencies)?(typeof S=="function"&&(np(i,a,S,l),G=i.memoizedState),(Y=Ci||q_(i,a,Y,l,q,G,C)||e!==null&&e.dependencies!==null&&Ic(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,$c(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=to(i,e.child,null,h),i.child=to(i,null,a,h)):Ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ti(e,i,h),e}function iv(e,i,a,l){return Tl(),i.flags|=256,Ke(e,i,a,l),i.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(e){return{baseLanes:e,cachePool:Gy()}}function lp(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Fn),e}function sv(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(h?Oi(i):Mi(),Ft){var S=pe,C;if(C=S){t:{for(C=S,S=Er;C.nodeType!==8;){if(!S){S=null;break t}if(C=tr(C.nextSibling),C===null){S=null;break t}}S=C}S!==null?(i.memoizedState={dehydrated:S,treeContext:Hs!==null?{id:Kr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},C=An(18,null,null,0),C.stateNode=S,C.return=i,i.child=C,fn=i,pe=null,C=!0):C=!1}C||$s(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Gp(S)?i.lanes=32:i.lanes=536870912,null;Jr(i)}return S=l.children,l=l.fallback,h?(Mi(),h=i.mode,S=Qc({mode:"hidden",children:S},h),l=qs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=op(a),h.childLanes=lp(e,E,a),i.memoizedState=ap,l):(Oi(i),up(i,S))}if(C=e.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(Oi(i),i.flags&=-257,i=cp(e,i,a)):i.memoizedState!==null?(Mi(),i.child=e.child,i.flags|=128,i=null):(Mi(),h=l.fallback,S=i.mode,l=Qc({mode:"visible",children:l.children},S),h=qs(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,to(i,e.child,null,a),l=i.child,l.memoizedState=op(a),l.childLanes=lp(e,E,a),i.memoizedState=ap,i=h);else if(Oi(i),Gp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var B=E.dgst;E=B,l=Error(s(419)),l.stack="",l.digest=E,Sl({value:l,source:null,stack:null}),i=cp(e,i,a)}else if(ze||Al(e,i,a,!1),E=(a&e.childLanes)!==0,ze||E){if(E=ne,E!==null&&(l=a&-a,l=(l&42)!==0?1:Ei(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ha(e,l),Cn(E,e,l),X_;S.data==="$?"||Cp(),i=cp(e,i,a)}else S.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,pe=tr(S.nextSibling),fn=i,Ft=!0,Gs=null,Er=!1,e!==null&&(Bn[qn++]=Kr,Bn[qn++]=Yr,Bn[qn++]=Hs,Kr=e.id,Yr=e.overflow,Hs=i),i=up(i,l.children),i.flags|=4096);return i}return h?(Mi(),h=l.fallback,S=i.mode,C=e.child,B=C.sibling,l=Qr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=Qr(B,h):(h=qs(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=e.child.memoizedState,S===null?S=op(a):(C=S.cachePool,C!==null?(B=Ve._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Gy(),S={baseLanes:S.baseLanes|a,cachePool:C}),h.memoizedState=S,h.childLanes=lp(e,E,a),i.memoizedState=ap,l):(Oi(i),a=e.child,e=a.sibling,a=Qr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(E=i.deletions,E===null?(i.deletions=[e],i.flags|=16):E.push(e)),i.child=a,i.memoizedState=null,a)}function up(e,i){return i=Qc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Qc(e,i){return e=An(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cp(e,i,a){return to(i,e.child,null,a),e=up(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function av(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Cd(e.return,i,a)}function hp(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ov(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ke(e,i,l.children,a),l=Pe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&av(e,a,i);else if(e.tag===19)av(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Pe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Hc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),hp(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Hc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}hp(i,!0,a,null,d);break;case"together":hp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ti(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ui|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Al(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Qr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Qr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function fp(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ic(e)))}function _w(e,i,a){switch(i.tag){case 3:qt(i,i.stateNode.containerInfo),Ii(i,Ve,e.memoizedState.cache),Tl();break;case 27:case 5:On(i);break;case 4:qt(i,i.stateNode.containerInfo);break;case 10:Ii(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Oi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?sv(e,i,a):(Oi(i),e=ti(e,i,a),e!==null?e.sibling:null);Oi(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Al(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ov(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Pe,Pe.current),l)break;return null;case 22:case 23:return i.lanes=0,tv(e,i,a);case 24:Ii(i,Ve,e.memoizedState.cache)}return ti(e,i,a)}function lv(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ze=!0;else{if(!fp(e,a)&&(i.flags&128)===0)return ze=!1,_w(e,i,a);ze=(e.flags&131072)!==0}else ze=!1,Ft&&(i.flags&1048576)!==0&&Uy(i,Rc,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Td(l)?(e=Ws(l,e),i.tag=1,i=rv(null,i,l,e,a)):(i.tag=0,i=sp(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ut){i.tag=11,i=W_(null,i,l,e,a);break t}else if(h===x){i.tag=14,i=Z_(null,i,l,e,a);break t}}throw i=De(l)||l,Error(s(306,i,""))}}return i;case 0:return sp(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ws(l,i.pendingProps),rv(e,i,l,h,a);case 3:t:{if(qt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Pd(e,i),Dl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ii(i,Ve,l),l!==d.cache&&xd(i,[Ve],a,!0),xl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=iv(e,i,l,a);break t}else if(l!==h){h=jn(Error(s(424)),i),Sl(h),i=iv(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=tr(e.firstChild),fn=i,Ft=!0,Gs=null,Er=!0,a=z_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Tl(),l===h){i=ti(e,i,a);break t}Ke(e,i,l,a)}i=i.child}return i;case 26:return $c(e,i),e===null?(a=fE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,e=i.pendingProps,l=oh(vt.current).createElement(a),l[Ne]=i,l[Te]=e,Xe(l,a,e),ye(l),i.stateNode=l):i.memoizedState=fE(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return On(i),e===null&&Ft&&(l=i.stateNode=uE(i.type,i.pendingProps,vt.current),fn=i,Er=!0,h=pe,qi(i.type)?($p=h,pe=tr(l.firstChild)):pe=h),Ke(e,i,i.pendingProps.children,a),$c(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((h=l=pe)&&(l=$w(l,i.type,i.pendingProps,Er),l!==null?(i.stateNode=l,fn=i,pe=tr(l.firstChild),Er=!1,h=!0):h=!1),h||$s(i)),On(i),h=i.type,d=i.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,qp(h,d)?l=null:E!==null&&qp(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Bd(e,i,cw,null,null,a),Zl._currentValue=h),$c(e,i),Ke(e,i,l,a),i.child;case 6:return e===null&&Ft&&((e=a=pe)&&(a=Qw(a,i.pendingProps,Er),a!==null?(i.stateNode=a,fn=i,pe=null,e=!0):e=!1),e||$s(i)),null;case 13:return sv(e,i,a);case 4:return qt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=to(i,null,l,a):Ke(e,i,l,a),i.child;case 11:return W_(e,i,i.type,i.pendingProps,a);case 7:return Ke(e,i,i.pendingProps,a),i.child;case 8:return Ke(e,i,i.pendingProps.children,a),i.child;case 12:return Ke(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ii(i,i.type,l.value),Ke(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ks(i),h=nn(h),l=l(h),i.flags|=1,Ke(e,i,l,a),i.child;case 14:return Z_(e,i,i.type,i.pendingProps,a);case 15:return J_(e,i,i.type,i.pendingProps,a);case 19:return ov(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Qc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Qr(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return tv(e,i,a);case 24:return Ks(i),l=nn(Ve),e===null?(h=Od(),h===null&&(h=ne,d=Dd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vd(i),Ii(i,Ve,h)):((e.lanes&a)!==0&&(Pd(e,i),Dl(i,null,null,a),xl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ii(i,Ve,l)):(l=d.cache,Ii(i,Ve,l),l!==h.cache&&xd(i,[Ve],a,!0))),Ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ei(e){e.flags|=4}function uv(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yE(i)){if(i=Hn.current,i!==null&&((zt&4194048)===zt?Tr!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==Tr))throw Il=Md,$y;e.flags|=8192}}function Kc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tl():536870912,e.lanes|=i,io|=i)}function Ll(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function vw(e,i,a){var l=i.pendingProps;switch(bd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wr(Ve),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(El(i)?ei(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,By())),he(i),null;case 26:return a=i.memoizedState,e===null?(ei(i),a!==null?(he(i),uv(i,a)):(he(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ei(i),he(i),uv(i,a)):(he(i),i.flags&=-16777217):(e.memoizedProps!==l&&ei(i),he(i),i.flags&=-16777217),null;case 27:pn(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}e=gt.current,El(i)?jy(i):(e=uE(h,l,a),i.stateNode=e,ei(i))}return he(i),null;case 5:if(pn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}if(e=gt.current,El(i))jy(i);else{switch(h=oh(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ne]=i,e[Te]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Xe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ei(i)}}return he(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ei(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,El(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nE(e.nodeValue,a)),e||$s(i)}else e=oh(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return he(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=El(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else Tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),h=!1}else h=By(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Jr(i),i):(Jr(i),null)}if(Jr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Kc(i,i.updateQueue),he(i),null;case 4:return Le(),e===null&&Lp(i.stateNode.containerInfo),he(i),null;case 10:return Wr(i.type),he(i),null;case 19:if(st(Pe),h=i.memoizedState,h===null)return he(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ll(h,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Hc(e),d!==null){for(i.flags|=128,Ll(h,!1),e=d.updateQueue,i.updateQueue=e,Kc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ly(a,e),a=a.sibling;return it(Pe,Pe.current&1|2),i.child}e=e.sibling}h.tail!==null&&Mn()>Wc&&(i.flags|=128,l=!0,Ll(h,!1),i.lanes=4194304)}else{if(!l)if(e=Hc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Kc(i,e),Ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ft)return he(i),null}else 2*Mn()-h.renderingStartTime>Wc&&a!==536870912&&(i.flags|=128,l=!0,Ll(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Mn(),i.sibling=null,e=Pe.current,it(Pe,l?e&1|2:e&1),i):(he(i),null);case 22:case 23:return Jr(i),jd(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),a=i.updateQueue,a!==null&&Kc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&st(Ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wr(Ve),he(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ew(e,i){switch(bd(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Wr(Ve),Le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return pn(i),null;case 13:if(Jr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Tl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(Pe),null;case 4:return Le(),null;case 10:return Wr(i.type),null;case 22:case 23:return Jr(i),jd(),e!==null&&st(Ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Wr(Ve),null;case 25:return null;default:return null}}function cv(e,i){switch(bd(i),i.tag){case 3:Wr(Ve),Le();break;case 26:case 27:case 5:pn(i);break;case 4:Le();break;case 13:Jr(i);break;case 19:st(Pe);break;case 10:Wr(i.type);break;case 22:case 23:Jr(i),jd(),e!==null&&st(Ys);break;case 24:Wr(Ve)}}function Ul(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){ee(i,i.return,S)}}function Vi(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var C=a,B=S;try{B()}catch(Y){ee(h,C,Y)}}}l=l.next}while(l!==d)}}catch(Y){ee(i,i.return,Y)}}function hv(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Zy(i,a)}catch(l){ee(e,e.return,l)}}}function fv(e,i,a){a.props=Ws(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ee(e,i,l)}}function jl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ee(e,i,h)}}function Sr(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ee(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ee(e,i,h)}else a.current=null}function dv(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ee(e,e.return,h)}}function dp(e,i,a){try{var l=e.stateNode;Bw(l,e.type,a,i),l[Te]=i}catch(h){ee(e,e.return,h)}}function pv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qi(e.type)||e.tag===4}function pp(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||pv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mp(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ah));else if(l!==4&&(l===27&&qi(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(mp(e,i,a),e=e.sibling;e!==null;)mp(e,i,a),e=e.sibling}function Yc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&qi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yc(e,i,a),e=e.sibling;e!==null;)Yc(e,i,a),e=e.sibling}function mv(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xe(i,l,a),i[Ne]=e,i[Te]=a}catch(d){ee(e,e.return,d)}}var ni=!1,ve=!1,gp=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Tw(e,i){if(e=e.containerInfo,zp=dh,e=Iy(e),pd(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,S=-1,C=-1,B=0,Y=0,tt=e,q=null;e:for(;;){for(var G;tt!==a||h!==0&&tt.nodeType!==3||(S=E+h),tt!==d||l!==0&&tt.nodeType!==3||(C=E+l),tt.nodeType===3&&(E+=tt.nodeValue.length),(G=tt.firstChild)!==null;)q=tt,tt=G;for(;;){if(tt===e)break e;if(q===a&&++B===h&&(S=E),q===d&&++Y===l&&(C=E),(G=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=G}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bp={focusedElem:e,selectionRange:a},dh=!1,Be=i;Be!==null;)if(i=Be,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Be=e;else for(;Be!==null;){switch(i=Be,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var wt=Ws(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(wt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){ee(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Fp(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Be=e;break}Be=i.return}}function yv(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(e,a),l&4&&Ul(5,a);break;case 1:if(Pi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){ee(a,a.return,E)}else{var h=Ws(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ee(a,a.return,E)}}l&64&&hv(a),l&512&&jl(a,a.return);break;case 3:if(Pi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zy(e,i)}catch(E){ee(a,a.return,E)}}break;case 27:i===null&&l&4&&mv(a);case 26:case 5:Pi(e,a),i===null&&l&4&&dv(a),l&512&&jl(a,a.return);break;case 12:Pi(e,a);break;case 13:Pi(e,a),l&4&&Ev(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Dw.bind(null,a),Kw(e,a))));break;case 22:if(l=a.memoizedState!==null||ni,!l){i=i!==null&&i.memoizedState!==null||ve,h=ni;var d=ve;ni=l,(ve=i)&&!d?ki(e,a,(a.subtreeFlags&8772)!==0):Pi(e,a),ni=h,ve=d}break;case 30:break;default:Pi(e,a)}}function _v(e){var i=e.alternate;i!==null&&(e.alternate=null,_v(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ai(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,gn=!1;function ri(e,i,a){for(a=a.child;a!==null;)vv(e,i,a),a=a.sibling}function vv(e,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(de,a)}catch{}switch(a.tag){case 26:ve||Sr(a,i),ri(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||Sr(a,i);var l=le,h=gn;qi(a.type)&&(le=a.stateNode,gn=!1),ri(e,i,a),Kl(a.stateNode),le=l,gn=h;break;case 5:ve||Sr(a,i);case 6:if(l=le,h=gn,le=null,ri(e,i,a),le=l,gn=h,le!==null)if(gn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){ee(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){ee(a,i,d)}break;case 18:le!==null&&(gn?(e=le,oE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),nu(e)):oE(le,a.stateNode));break;case 4:l=le,h=gn,le=a.stateNode.containerInfo,gn=!0,ri(e,i,a),le=l,gn=h;break;case 0:case 11:case 14:case 15:ve||Vi(2,a,i),ve||Vi(4,a,i),ri(e,i,a);break;case 1:ve||(Sr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fv(a,i,l)),ri(e,i,a);break;case 21:ri(e,i,a);break;case 22:ve=(l=ve)||a.memoizedState!==null,ri(e,i,a),ve=l;break;default:ri(e,i,a)}}function Ev(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nu(e)}catch(a){ee(i,i.return,a)}}function Sw(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new gv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new gv),i;default:throw Error(s(435,e.tag))}}function yp(e,i){var a=Sw(e);i.forEach(function(l){var h=Nw.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function wn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,E=i,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(qi(S.type)){le=S.stateNode,gn=!1;break t}break;case 5:le=S.stateNode,gn=!1;break t;case 3:case 4:le=S.stateNode.containerInfo,gn=!0;break t}S=S.return}if(le===null)throw Error(s(160));vv(d,E,h),le=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Tv(i,e),i=i.sibling}var Jn=null;function Tv(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wn(i,e),bn(e),l&4&&(Vi(3,e,e.return),Ul(3,e),Vi(5,e,e.return));break;case 1:wn(i,e),bn(e),l&512&&(ve||a===null||Sr(a,a.return)),l&64&&ni&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(wn(i,e),bn(e),l&512&&(ve||a===null||Sr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Rs]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xe(d,l,a),d[Ne]=e,ye(d),l=d;break t;case"link":var E=mE("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;case"meta":if(E=mE("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,ye(d),l=d}e.stateNode=l}else gE(h,e.type,e.stateNode);else e.stateNode=pE(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?gE(h,e.type,e.stateNode):pE(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&dp(e,e.memoizedProps,a.memoizedProps)}break;case 27:wn(i,e),bn(e),l&512&&(ve||a===null||Sr(a,a.return)),a!==null&&l&4&&dp(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wn(i,e),bn(e),l&512&&(ve||a===null||Sr(a,a.return)),e.flags&32){h=e.stateNode;try{Pn(h,"")}catch(G){ee(e,e.return,G)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,dp(e,h,a!==null?a.memoizedProps:h)),l&1024&&(gp=!0);break;case 6:if(wn(i,e),bn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(G){ee(e,e.return,G)}}break;case 3:if(ch=null,h=Jn,Jn=lh(i.containerInfo),wn(i,e),Jn=h,bn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{nu(i.containerInfo)}catch(G){ee(e,e.return,G)}gp&&(gp=!1,Sv(e));break;case 4:l=Jn,Jn=lh(e.stateNode.containerInfo),wn(i,e),bn(e),Jn=l;break;case 12:wn(i,e),bn(e);break;case 13:wn(i,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ap=Mn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yp(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=ni,Y=ve;if(ni=B||h,ve=Y||C,wn(i,e),ve=Y,ni=B,bn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ni||ve||Zs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=C.stateNode;var tt=C.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){ee(C,C.return,G)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){ee(C,C.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yp(e,a))));break;case 19:wn(i,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yp(e,l)));break;case 30:break;case 21:break;default:wn(i,e),bn(e)}}function bn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(pv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pp(e);Yc(e,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Pn(E,""),a.flags&=-33);var S=pp(e);Yc(e,S,E);break;case 3:case 4:var C=a.stateNode.containerInfo,B=pp(e);mp(e,B,C);break;default:throw Error(s(161))}}catch(Y){ee(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Sv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Sv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yv(e,i.alternate,i),i=i.sibling}function Zs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Vi(4,i,i.return),Zs(i);break;case 1:Sr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&fv(i,i.return,a),Zs(i);break;case 27:Kl(i.stateNode);case 26:case 5:Sr(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}e=e.sibling}}function ki(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ki(h,d,a),Ul(4,d);break;case 1:if(ki(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ee(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Wy(C[h],S)}catch(B){ee(l,l.return,B)}}a&&E&64&&hv(d),jl(d,d.return);break;case 27:mv(d);case 26:case 5:ki(h,d,a),a&&l===null&&E&4&&dv(d),jl(d,d.return);break;case 12:ki(h,d,a);break;case 13:ki(h,d,a),a&&E&4&&Ev(h,d);break;case 22:d.memoizedState===null&&ki(h,d,a),jl(d,d.return);break;case 30:break;default:ki(h,d,a)}i=i.sibling}}function _p(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&wl(a))}function vp(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&wl(e))}function Ar(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Av(e,i,a,l),i=i.sibling}function Av(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(e,i,a,l),h&2048&&Ul(9,i);break;case 1:Ar(e,i,a,l);break;case 3:Ar(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&wl(e)));break;case 12:if(h&2048){Ar(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ee(i,i.return,C)}}else Ar(e,i,a,l);break;case 13:Ar(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Ar(e,i,a,l):zl(e,i):d._visibility&2?Ar(e,i,a,l):(d._visibility|=2,eo(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&_p(E,i);break;case 24:Ar(e,i,a,l),h&2048&&vp(i.alternate,i);break;default:Ar(e,i,a,l)}}function eo(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,E=i,S=a,C=l,B=E.flags;switch(E.tag){case 0:case 11:case 15:eo(d,E,S,C,h),Ul(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?eo(d,E,S,C,h):zl(d,E):(Y._visibility|=2,eo(d,E,S,C,h)),h&&B&2048&&_p(E.alternate,E);break;case 24:eo(d,E,S,C,h),h&&B&2048&&vp(E.alternate,E);break;default:eo(d,E,S,C,h)}i=i.sibling}}function zl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:zl(a,l),h&2048&&_p(l.alternate,l);break;case 24:zl(a,l),h&2048&&vp(l.alternate,l);break;default:zl(a,l)}i=i.sibling}}var Bl=8192;function no(e){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)wv(e),e=e.sibling}function wv(e){switch(e.tag){case 26:no(e),e.flags&Bl&&e.memoizedState!==null&&ob(Jn,e.memoizedState,e.memoizedProps);break;case 5:no(e);break;case 3:case 4:var i=Jn;Jn=lh(e.stateNode.containerInfo),no(e),Jn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Bl,Bl=16777216,no(e),Bl=i):no(e));break;default:no(e)}}function bv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ql(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,Iv(l,e)}bv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rv(e),e=e.sibling}function Rv(e){switch(e.tag){case 0:case 11:case 15:ql(e),e.flags&2048&&Vi(9,e,e.return);break;case 3:ql(e);break;case 12:ql(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Xc(e)):ql(e);break;default:ql(e)}}function Xc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,Iv(l,e)}bv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Vi(8,i,i.return),Xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(i));break;default:Xc(i)}e=e.sibling}}function Iv(e,i){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Vi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=e;Be!==null;){l=Be;var h=l.sibling,d=l.return;if(_v(l),l===a){Be=null;break t}if(h!==null){h.return=d,Be=h;break t}Be=d}}}var Aw={getCacheForType:function(e){var i=nn(Ve),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},ww=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Mt=null,zt=0,Xt=0,Rn=null,Li=!1,ro=!1,Ep=!1,ii=0,me=0,Ui=0,Js=0,Tp=0,Fn=0,io=0,Hl=null,yn=null,Sp=!1,Ap=0,Wc=1/0,Zc=null,ji=null,Ye=0,zi=null,so=null,ao=0,wp=0,bp=null,Cv=null,Fl=0,Rp=null;function In(){if((Yt&2)!==0&&zt!==0)return zt&-zt;if(K.T!==null){var e=Qa;return e!==0?e:Mp()}return Ti()}function xv(){Fn===0&&(Fn=(zt&536870912)===0||Ft?Jo():536870912);var e=Hn.current;return e!==null&&(e.flags|=32),Fn}function Cn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(oo(e,0),Bi(e,zt,Fn,!1)),kr(e,a),((Yt&2)===0||e!==ne)&&(e===ne&&((Yt&2)===0&&(Js|=a),me===4&&Bi(e,zt,Fn,!1)),wr(e))}function Dv(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||bs(e,i),h=l?Iw(e,i):xp(e,i,!0),d=l;do{if(h===0){ro&&!l&&Bi(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!bw(a)){h=xp(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var S=e;h=Hl;var C=S.current.memoizedState.isDehydrated;if(C&&(oo(S,E).flags|=256),E=xp(S,E,!1),E!==2){if(Ep&&!C){S.errorRecoveryDisabledLanes|=d,Js|=d,h=4;break t}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){oo(e,0),Bi(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Bi(l,i,Fn,!Li);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ap+300-Mn(),10<h)){if(Bi(l,i,Fn,!Li),wa(l,0,!0)!==0)break t;l.timeoutHandle=sE(Nv.bind(null,l,a,yn,Zc,Sp,i,Fn,Js,io,Li,d,2,-0,0),h);break t}Nv(l,a,yn,Zc,Sp,i,Fn,Js,io,Li,d,0,-0,0)}}break}while(!0);wr(e)}function Nv(e,i,a,l,h,d,E,S,C,B,Y,tt,q,G){if(e.timeoutHandle=-1,tt=i.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:ab},wv(i),tt=lb(),tt!==null)){e.cancelPendingCommit=tt(Uv.bind(null,e,i,d,a,l,h,E,S,C,Y,1,q,G)),Bi(e,d,E,!B);return}Uv(e,i,d,a,l,h,E,S,C)}function bw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(e,i,a,l){i&=~Tp,i&=~Js,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-en(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&ur(e,a,i)}function Jc(){return(Yt&6)===0?(Gl(0),!1):!0}function Ip(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,Xr=Qs=null,Fd(e),Ja=null,Pl=0,e=Mt;for(;e!==null;)cv(e.alternate,e),e=e.return;Mt=null}}function oo(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Hw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ip(),ne=e,Mt=a=Qr(e.current,null),zt=i,Xt=0,Rn=null,Li=!1,ro=bs(e,i),Ep=!1,io=Fn=Tp=Js=Ui=me=0,yn=Hl=null,Sp=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-en(l),d=1<<h;i|=e[h],l&=~d}return ii=i,Tc(),a}function Ov(e,i){Nt=null,K.H=zc,i===Rl||i===Dc?(i=Yy(),Xt=3):i===$y?(i=Yy(),Xt=4):Xt=i===X_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Mt===null&&(me=1,Gc(e,jn(i,e.current)))}function Mv(){var e=K.H;return K.H=zc,e===null?zc:e}function Vv(){var e=K.A;return K.A=Aw,e}function Cp(){me=4,Li||(zt&4194048)!==zt&&Hn.current!==null||(ro=!0),(Ui&134217727)===0&&(Js&134217727)===0||ne===null||Bi(ne,zt,Fn,!1)}function xp(e,i,a){var l=Yt;Yt|=2;var h=Mv(),d=Vv();(ne!==e||zt!==i)&&(Zc=null,oo(e,i)),i=!1;var E=me;t:do try{if(Xt!==0&&Mt!==null){var S=Mt,C=Rn;switch(Xt){case 8:Ip(),E=6;break t;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var B=Xt;if(Xt=0,Rn=null,lo(e,S,C,B),a&&ro){E=0;break t}break;default:B=Xt,Xt=0,Rn=null,lo(e,S,C,B)}}Rw(),E=me;break}catch(Y){Ov(e,Y)}while(!0);return i&&e.shellSuspendCounter++,Xr=Qs=null,Yt=l,K.H=h,K.A=d,Mt===null&&(ne=null,zt=0,Tc()),E}function Rw(){for(;Mt!==null;)Pv(Mt)}function Iw(e,i){var a=Yt;Yt|=2;var l=Mv(),h=Vv();ne!==e||zt!==i?(Zc=null,Wc=Mn()+500,oo(e,i)):ro=bs(e,i);t:do try{if(Xt!==0&&Mt!==null){i=Mt;var d=Rn;e:switch(Xt){case 1:Xt=0,Rn=null,lo(e,i,d,1);break;case 2:case 9:if(Qy(d)){Xt=0,Rn=null,kv(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),wr(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Qy(d)?(Xt=0,Rn=null,kv(i)):(Xt=0,Rn=null,lo(e,i,d,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var S=Mt;if(!E||yE(E)){Xt=0,Rn=null;var C=S.sibling;if(C!==null)Mt=C;else{var B=S.return;B!==null?(Mt=B,th(B)):Mt=null}break e}}Xt=0,Rn=null,lo(e,i,d,5);break;case 6:Xt=0,Rn=null,lo(e,i,d,6);break;case 8:Ip(),me=6;break t;default:throw Error(s(462))}}Cw();break}catch(Y){Ov(e,Y)}while(!0);return Xr=Qs=null,K.H=l,K.A=h,Yt=a,Mt!==null?0:(ne=null,zt=0,Tc(),me)}function Cw(){for(;Mt!==null&&!Yo();)Pv(Mt)}function Pv(e){var i=lv(e.alternate,e,ii);e.memoizedProps=e.pendingProps,i===null?th(e):Mt=i}function kv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=nv(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=nv(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:Fd(i);default:cv(a,i),i=Mt=Ly(i,ii),i=lv(a,i,ii)}e.memoizedProps=e.pendingProps,i===null?th(e):Mt=i}function lo(e,i,a,l){Xr=Qs=null,Fd(i),Ja=null,Pl=0;var h=i.return;try{if(yw(e,h,i,a,zt)){me=1,Gc(e,jn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;me=1,Gc(e,jn(a,e.current)),Mt=null;return}i.flags&32768?(Ft||l===1?e=!0:ro||(zt&536870912)!==0?e=!1:(Li=e=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lv(i,e)):th(i)}function th(e){var i=e;do{if((i.flags&32768)!==0){Lv(i,Li);return}e=i.return;var a=vw(i.alternate,i,ii);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);me===0&&(me=5)}function Lv(e,i){do{var a=Ew(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);me=6,Mt=null}function Uv(e,i,a,l,h,d,E,S,C){e.cancelPendingCommit=null;do eh();while(Ye!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=vd,el(e,a,d,E,S,C),e===ne&&(Mt=ne=null,zt=0),so=i,zi=e,ao=a,wp=d,bp=h,Cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ow(Ts,function(){return Hv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ot.p,ot.p=2,E=Yt,Yt|=4;try{Tw(e,i,a)}finally{Yt=E,ot.p=h,K.T=l}}Ye=1,jv(),zv(),Bv()}}function jv(){if(Ye===1){Ye=0;var e=zi,i=so,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{Tv(i,e);var d=Bp,E=Iy(e.containerInfo),S=d.focusedElem,C=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&Ry(S.ownerDocument.documentElement,S)){if(C!==null&&pd(S)){var B=C.start,Y=C.end;if(Y===void 0&&(Y=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Y,S.value.length);else{var tt=S.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var G=q.getSelection(),wt=S.textContent.length,Et=Math.min(C.start,wt),te=C.end===void 0?Et:Math.min(C.end,wt);!G.extend&&Et>te&&(E=te,te=Et,Et=E);var k=by(S,Et),M=by(S,te);if(k&&M&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var z=tt.createRange();z.setStart(k.node,k.offset),G.removeAllRanges(),Et>te?(G.addRange(z),G.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),G.addRange(z))}}}}for(tt=[],G=S;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var X=tt[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}dh=!!zp,Bp=zp=null}finally{Yt=h,ot.p=l,K.T=a}}e.current=i,Ye=2}}function zv(){if(Ye===2){Ye=0;var e=zi,i=so,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{yv(e,i.alternate,i)}finally{Yt=h,ot.p=l,K.T=a}}Ye=3}}function Bv(){if(Ye===4||Ye===3){Ye=0,Xu();var e=zi,i=so,a=ao,l=Cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ye=5:(Ye=0,so=zi=null,qv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ji=null),ba(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(de,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ot.p,ot.p=2,K.T=null;try{for(var d=e.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{K.T=i,ot.p=h}}(ao&3)!==0&&eh(),wr(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Rp?Fl++:(Fl=0,Rp=e):Fl=0,Gl(0)}}function qv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,wl(i)))}function eh(e){return jv(),zv(),Bv(),Hv()}function Hv(){if(Ye!==5)return!1;var e=zi,i=wp;wp=0;var a=ba(ao),l=K.T,h=ot.p;try{ot.p=32>a?32:a,K.T=null,a=bp,bp=null;var d=zi,E=ao;if(Ye=0,so=zi=null,ao=0,(Yt&6)!==0)throw Error(s(331));var S=Yt;if(Yt|=4,Rv(d.current),Av(d,d.current,E,a),Yt=S,Gl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(de,d)}catch{}return!0}finally{ot.p=h,K.T=l,qv(e,i)}}function Fv(e,i,a){i=jn(a,i),i=ip(e.stateNode,i,2),e=Di(e,i,2),e!==null&&(kr(e,2),wr(e))}function ee(e,i,a){if(e.tag===3)Fv(e,e,a);else for(;i!==null;){if(i.tag===3){Fv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ji===null||!ji.has(l))){e=jn(a,e),a=K_(2),l=Di(i,a,2),l!==null&&(Y_(a,l,i,e),kr(l,2),wr(l));break}}i=i.return}}function Dp(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ww;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ep=!0,h.add(a),e=xw.bind(null,e,i,a),i.then(e,e))}function xw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(zt&a)===a&&(me===4||me===3&&(zt&62914560)===zt&&300>Mn()-Ap?(Yt&2)===0&&oo(e,0):Tp|=a,io===zt&&(io=0)),wr(e)}function Gv(e,i){i===0&&(i=tl()),e=Ha(e,i),e!==null&&(kr(e,i),wr(e))}function Dw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Gv(e,a)}function Nw(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Gv(e,a)}function Ow(e,i){return vs(e,i)}var nh=null,uo=null,Np=!1,rh=!1,Op=!1,ta=0;function wr(e){e!==uo&&e.next===null&&(uo===null?nh=uo=e:uo=uo.next=e),rh=!0,Np||(Np=!0,Vw())}function Gl(e,i){if(!Op&&rh){Op=!0;do for(var a=!1,l=nh;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-en(42|e)+1)-1,d&=h&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Yv(l,d))}else d=zt,d=wa(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||bs(l,d)||(a=!0,Yv(l,d));l=l.next}while(a);Op=!1}}function Mw(){$v()}function $v(){rh=Np=!1;var e=0;ta!==0&&(qw()&&(e=ta),ta=0);for(var i=Mn(),a=null,l=nh;l!==null;){var h=l.next,d=Qv(l,i);d===0?(l.next=null,a===null?nh=h:a.next=h,h===null&&(uo=a)):(a=l,(e!==0||(d&3)!==0)&&(rh=!0)),l=h}Gl(e)}function Qv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-en(d),S=1<<E,C=h[E];C===-1?((S&a)===0||(S&l)!==0)&&(h[E]=Zo(S,i)):C<=i&&(e.expiredLanes|=S),d&=~S}if(i=ne,a=zt,a=wa(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Es(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||bs(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Es(l),ba(a)){case 2:case 8:a=Sa;break;case 32:a=Ts;break;case 268435456:a=Aa;break;default:a=Ts}return l=Kv.bind(null,e),a=vs(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Es(l),e.callbackPriority=2,e.callbackNode=null,2}function Kv(e,i){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(eh()&&e.callbackNode!==a)return null;var l=zt;return l=wa(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Dv(e,l,i),Qv(e,Mn()),e.callbackNode!=null&&e.callbackNode===a?Kv.bind(null,e):null)}function Yv(e,i){if(eh())return null;Dv(e,i,!0)}function Vw(){Fw(function(){(Yt&6)!==0?vs(Xo,Mw):$v()})}function Mp(){return ta===0&&(ta=Jo()),ta}function Xv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Na(""+e)}function Wv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Pw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Xv((h[Te]||null).action),E=l.submitter;E&&(i=(i=E[Te]||null)?Xv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var S=new Oa("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var C=E?Wv(h,E):new FormData(h);Jd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=E?Wv(h,E):new FormData(h),Jd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Vp=0;Vp<_d.length;Vp++){var Pp=_d[Vp],kw=Pp.toLowerCase(),Lw=Pp[0].toUpperCase()+Pp.slice(1);Zn(kw,"on"+Lw)}Zn(Dy,"onAnimationEnd"),Zn(Ny,"onAnimationIteration"),Zn(Oy,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(tw,"onTransitionRun"),Zn(ew,"onTransitionStart"),Zn(nw,"onTransitionCancel"),Zn(My,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Zv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],C=S.instance,B=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=B;try{d(h)}catch(Y){Fc(Y)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(S=l[E],C=S.instance,B=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=B;try{d(h)}catch(Y){Fc(Y)}h.currentTarget=null,d=C}}}}function Vt(e,i){var a=i[rl];a===void 0&&(a=i[rl]=new Set);var l=e+"__bubble";a.has(l)||(Jv(i,e,2,!1),a.add(l))}function kp(e,i,a){var l=0;i&&(l|=4),Jv(a,e,l,i)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Lp(e){if(!e[ih]){e[ih]=!0,il.forEach(function(a){a!=="selectionchange"&&(Uw.has(a)||kp(a,!1,e),kp(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ih]||(i[ih]=!0,kp("selectionchange",!1,i))}}function Jv(e,i,a,l){switch(AE(i)){case 2:var h=hb;break;case 8:h=fb;break;default:h=Wp}a=h.bind(null,i,a,e),h=void 0,!Ln||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Up(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Lr(S),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue t}S=S.parentNode}}l=l.return}ac(function(){var B=d,Y=kn(a),tt=[];t:{var q=Vy.get(e);if(q!==void 0){var G=Oa,wt=e;switch(e){case"keypress":if(mr(a)===0)break t;case"keydown":case"keyup":G=Ua;break;case"focusin":wt="focus",G=Pa;break;case"focusout":wt="blur",G=Pa;break;case"beforeblur":case"afterblur":G=Pa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=pc;break;case Dy:case Ny:case Oy:G=ka;break;case My:G=gc;break;case"scroll":case"scrollend":G=oc;break;case"wheel":G=ja;break;case"copy":case"cut":case"paste":G=La;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=gl;break;case"toggle":case"beforetoggle":G=_c}var Et=(i&4)!==0,te=!Et&&(e==="scroll"||e==="scrollend"),k=Et?q!==null?q+"Capture":null:q;Et=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||k===null||(X=Ms(M,k),X!=null&&Et.push(Ql(M,X,z))),te)break;M=M.return}0<Et.length&&(q=new G(q,wt,null,a,Y),tt.push({event:q,listeners:Et}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&a!==Br&&(wt=a.relatedTarget||a.fromElement)&&(Lr(wt)||wt[Vn]))break t;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(wt=a.relatedTarget||a.toElement,G=B,wt=wt?Lr(wt):null,wt!==null&&(te=u(wt),Et=wt.tag,wt!==te||Et!==5&&Et!==27&&Et!==6)&&(wt=null)):(G=null,wt=B),G!==wt)){if(Et=Un,X="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=gl,X="onPointerLeave",k="onPointerEnter",M="pointer"),te=G==null?q:hr(G),z=wt==null?q:hr(wt),q=new Et(X,M+"leave",G,a,Y),q.target=te,q.relatedTarget=z,X=null,Lr(Y)===B&&(Et=new Et(k,M+"enter",wt,a,Y),Et.target=z,Et.relatedTarget=te,X=Et),te=X,G&&wt)e:{for(Et=G,k=wt,M=0,z=Et;z;z=co(z))M++;for(z=0,X=k;X;X=co(X))z++;for(;0<M-z;)Et=co(Et),M--;for(;0<z-M;)k=co(k),z--;for(;M--;){if(Et===k||k!==null&&Et===k.alternate)break e;Et=co(Et),k=co(k)}Et=null}else Et=null;G!==null&&tE(tt,q,G,Et,!1),wt!==null&&te!==null&&tE(tt,te,wt,Et,!0)}}t:{if(q=B?hr(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var dt=vy;else if(Me(q))if(Ey)dt=WA;else{dt=YA;var Ot=KA}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ul(B.elementType)&&(dt=vy):dt=XA;if(dt&&(dt=dt(e,B))){$r(tt,dt,a,Y);break t}Ot&&Ot(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&bi(q,"number",q.value)}switch(Ot=B?hr(B):window,e){case"focusin":(Me(Ot)||Ot.contentEditable==="true")&&(za=Ot,md=B,vl=null);break;case"focusout":vl=md=za=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Cy(tt,a,Y);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":Cy(tt,a,Y)}var yt;if(_r)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?Q(e,a)&&(Tt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&a.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(yt=hl()):(pr=Y,Ri="value"in pr?pr.value:pr.textContent,Ut=!0)),Ot=sh(B,Tt),0<Ot.length&&(Tt=new pl(Tt,e,null,a,Y),tt.push({event:Tt,listeners:Ot}),yt?Tt.data=yt:(yt=at(a),yt!==null&&(Tt.data=yt)))),(yt=y?Oe(e,a):jt(e,a))&&(Tt=sh(B,"onBeforeInput"),0<Tt.length&&(Ot=new pl("onBeforeInput","beforeinput",null,a,Y),tt.push({event:Ot,listeners:Tt}),Ot.data=yt)),Pw(tt,e,B,a,Y)}Zv(tt,i)})}function Ql(e,i,a){return{instance:e,listener:i,currentTarget:a}}function sh(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ms(e,a),h!=null&&l.unshift(Ql(e,h,d)),h=Ms(e,i),h!=null&&l.push(Ql(e,h,d))),e.tag===3)return l;e=e.return}return[]}function co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tE(e,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var S=a,C=S.alternate,B=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||B===null||(C=B,h?(B=Ms(a,d),B!=null&&E.unshift(Ql(a,B,C))):h||(B=Ms(a,d),B!=null&&E.push(Ql(a,B,C)))),a=a.return}E.length!==0&&e.push({event:i,listeners:E})}var jw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function eE(e){return(typeof e=="string"?e:""+e).replace(jw,`
`).replace(zw,"")}function nE(e,i){return i=eE(i),eE(e)===i}function ah(){}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Pn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Pn(e,""+l);break;case"className":fr(e,"class",l);break;case"tabIndex":fr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,a,l);break;case"style":ll(e,l,d);break;case"data":if(i!=="object"){fr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ah);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),wi(e,"popover",l);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ld.get(a)||a,wi(e,a,l))}}function jp(e,i,a,l,h,d){switch(a){case"style":ll(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Pn(e,l):(typeof l=="number"||typeof l=="bigint")&&Pn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Te]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):wi(e,a,l)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,E,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var S=d=E=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":C=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Jt(e,i,l,Y,a,null)}}Ds(e,d,S,C,B,E,h,!1),Da(e);return;case"select":Vt("invalid",e),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Jt(e,i,h,S,a,null)}i=d,a=E,e.multiple=!!l,i!=null?zr(e,!!l,i,!1):a!=null&&zr(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Jt(e,i,E,S,a,null)}Ns(e,l,h,d),Da(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,i,C,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<$l.length;l++)Vt($l[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,B,l,a,null)}return;default:if(ul(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&jp(e,i,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Jt(e,i,S,l,a,null))}function Bw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,S=null,C=null,B=null,Y=null;for(G in a){var tt=a[G];if(a.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=tt;default:l.hasOwnProperty(G)||Jt(e,i,G,null,l,tt)}}for(var q in l){var G=l[q];if(tt=a[q],l.hasOwnProperty(q)&&(G!=null||tt!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":Y=G;break;case"value":E=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==tt&&Jt(e,i,q,G,l,tt)}}Tn(e,E,S,C,B,Y,d,h);return;case"select":G=E=S=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==C&&Jt(e,i,h,d,l,C)}i=S,a=E,l=G,q!=null?zr(e,!!a,q,!1):!!l!=!!a&&(i!=null?zr(e,!!a,i,!0):zr(e,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Jt(e,i,S,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,E,h,l,d)}Wt(e,q,G);return;case"option":for(var wt in a)if(q=a[wt],a.hasOwnProperty(wt)&&q!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":e.selected=!1;break;default:Jt(e,i,wt,null,l,q)}for(C in l)if(q=l[C],G=a[C],l.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Jt(e,i,C,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)q=a[Et],a.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et)&&Jt(e,i,Et,null,l,q);for(B in l)if(q=l[B],G=a[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Jt(e,i,B,q,l,G)}return;default:if(ul(i)){for(var te in a)q=a[te],a.hasOwnProperty(te)&&q!==void 0&&!l.hasOwnProperty(te)&&jp(e,i,te,void 0,l,q);for(Y in l)q=l[Y],G=a[Y],!l.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||jp(e,i,Y,q,l,G);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Jt(e,i,k,null,l,q);for(tt in l)q=l[tt],G=a[tt],!l.hasOwnProperty(tt)||q===G||q==null&&G==null||Jt(e,i,tt,q,l,G)}var zp=null,Bp=null;function oh(e){return e.nodeType===9?e:e.ownerDocument}function rE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iE(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function qp(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hp=null;function qw(){var e=window.event;return e&&e.type==="popstate"?e===Hp?!1:(Hp=e,!0):(Hp=null,!1)}var sE=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(e){return aE.resolve(null).then(e).catch(Gw)}:sE;function Gw(e){setTimeout(function(){throw e})}function qi(e){return e==="head"}function oE(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=e.ownerDocument;if(a&1&&Kl(E.documentElement),a&2&&Kl(E.body),a&4)for(a=E.head,Kl(a),E=a.firstChild;E;){var S=E.nextSibling,C=E.nodeName;E[Rs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){e.removeChild(d),nu(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);nu(i)}function Fp(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fp(a),Ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $w(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Rs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=tr(e.nextSibling),e===null)break}return null}function Qw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=tr(e.nextSibling),e===null))return null;return e}function Gp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Kw(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function tr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var $p=null;function lE(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function uE(e,i,a){switch(i=oh(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Kl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ai(e)}var Gn=new Map,cE=new Set;function lh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var si=ot.d;ot.d={f:Yw,r:Xw,D:Ww,C:Zw,L:Jw,m:tb,X:nb,S:eb,M:rb};function Yw(){var e=si.f(),i=Jc();return e||i}function Xw(e){var i=cr(e);i!==null&&i.tag===5&&i.type==="form"?D_(i):si.r(e)}var ho=typeof document>"u"?null:document;function hE(e,i,a){var l=ho;if(l&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),cE.has(h)||(cE.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xe(i,"link",e),ye(i),l.head.appendChild(i)))}}function Ww(e){si.D(e),hE("dns-prefetch",e,null)}function Zw(e,i){si.C(e,i),hE("preconnect",e,i)}function Jw(e,i,a){si.L(e,i,a);var l=ho;if(l&&e&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(e)+'"]';var d=h;switch(i){case"style":d=fo(e);break;case"script":d=po(e)}Gn.has(d)||(e=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Gn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Yl(d))||i==="script"&&l.querySelector(Xl(d))||(i=l.createElement("link"),Xe(i,"link",e),ye(i),l.head.appendChild(i)))}}function tb(e,i){si.m(e,i);var a=ho;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=po(e)}if(!Gn.has(d)&&(e=v({rel:"modulepreload",href:e},i),Gn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(d)))return}l=a.createElement("link"),Xe(l,"link",e),ye(l),a.head.appendChild(l)}}}function eb(e,i,a){si.S(e,i,a);var l=ho;if(l&&e){var h=un(l).hoistableStyles,d=fo(e);i=i||"default";var E=h.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Yl(d)))S.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Gn.get(d))&&Qp(e,a);var C=E=l.createElement("link");ye(C),Xe(C,"link",e),C._p=new Promise(function(B,Y){C.onload=B,C.onerror=Y}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,uh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(d,E)}}}function nb(e,i){si.X(e,i);var a=ho;if(a&&e){var l=un(a).hoistableScripts,h=po(e),d=l.get(h);d||(d=a.querySelector(Xl(h)),d||(e=v({src:e,async:!0},i),(i=Gn.get(h))&&Kp(e,i),d=a.createElement("script"),ye(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rb(e,i){si.M(e,i);var a=ho;if(a&&e){var l=un(a).hoistableScripts,h=po(e),d=l.get(h);d||(d=a.querySelector(Xl(h)),d||(e=v({src:e,async:!0,type:"module"},i),(i=Gn.get(h))&&Kp(e,i),d=a.createElement("script"),ye(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fE(e,i,a,l){var h=(h=vt.current)?lh(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=un(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fo(a.href);var d=un(h).hoistableStyles,E=d.get(e);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=h.querySelector(Yl(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Gn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(e,a),d||ib(h,e,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=po(a),a=un(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function fo(e){return'href="'+Se(e)+'"'}function Yl(e){return'link[rel="stylesheet"]['+e+"]"}function dE(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function ib(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),ye(i),e.head.appendChild(i))}function po(e){return'[src="'+Se(e)+'"]'}function Xl(e){return"script[async]"+e}function pE(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return i.instance=l,ye(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ye(l),Xe(l,"style",h),uh(l,a.precedence,e),i.instance=l;case"stylesheet":h=fo(a.href);var d=e.querySelector(Yl(h));if(d)return i.state.loading|=4,i.instance=d,ye(d),d;l=dE(a),(h=Gn.get(h))&&Qp(l,h),d=(e.ownerDocument||e).createElement("link"),ye(d);var E=d;return E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),Xe(d,"link",l),i.state.loading|=4,uh(d,a.precedence,e),i.instance=d;case"script":return d=po(a.src),(h=e.querySelector(Xl(d)))?(i.instance=h,ye(h),h):(l=a,(h=Gn.get(d))&&(l=v({},a),Kp(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ye(h),Xe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,uh(l,a.precedence,e));return i.instance}function uh(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Qp(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Kp(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ch=null;function mE(e,i,a){if(ch===null){var l=new Map,h=ch=new Map;h.set(a,l)}else h=ch,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Rs]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=e+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function gE(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function sb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Wl=null;function ab(){}function ob(e,i,a){if(Wl===null)throw Error(s(475));var l=Wl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=fo(a.href),d=e.querySelector(Yl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=hh.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ye(d);return}d=e.ownerDocument||e,a=dE(a),(h=Gn.get(h))&&Qp(a,h),d=d.createElement("link"),ye(d);var E=d;E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),Xe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=hh.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function lb(){if(Wl===null)throw Error(s(475));var e=Wl;return e.stylesheets&&e.count===0&&Yp(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Yp(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function hh(){if(this.count--,this.count===0){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fh=null;function Yp(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fh=new Map,i.forEach(ub,e),fh=null,hh.call(e))}function ub(e,i){if(!(i.state.loading&4)){var a=fh.get(e);if(a)var l=a.get(null);else{a=new Map,fh.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=hh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Zl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function cb(e,i,a,l,h,d,E,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function _E(e,i,a,l,h,d,E,S,C,B,Y,tt){return e=new cb(e,i,a,E,S,C,B,tt),i=1,d===!0&&(i|=24),d=An(3,null,null,i),e.current=d,d.stateNode=e,i=Dd(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vd(d),e}function vE(e){return e?(e=Fa,e):Fa}function EE(e,i,a,l,h,d){h=vE(h),l.context===null?l.context=h:l.pendingContext=h,l=xi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Di(e,l,i),a!==null&&(Cn(a,e,i),Cl(a,e,i))}function TE(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Xp(e,i){TE(e,i),(e=e.alternate)&&TE(e,i)}function SE(e){if(e.tag===13){var i=Ha(e,67108864);i!==null&&Cn(i,e,67108864),Xp(e,67108864)}}var dh=!0;function hb(e,i,a,l){var h=K.T;K.T=null;var d=ot.p;try{ot.p=2,Wp(e,i,a,l)}finally{ot.p=d,K.T=h}}function fb(e,i,a,l){var h=K.T;K.T=null;var d=ot.p;try{ot.p=8,Wp(e,i,a,l)}finally{ot.p=d,K.T=h}}function Wp(e,i,a,l){if(dh){var h=Zp(l);if(h===null)Up(e,i,l,ph,a),wE(e,l);else if(pb(h,e,i,a,l))l.stopPropagation();else if(wE(e,l),i&4&&-1<db.indexOf(e)){for(;h!==null;){var d=cr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Yn(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var C=1<<31-en(E);S.entanglements[1]|=C,E&=~C}wr(d),(Yt&6)===0&&(Wc=Mn()+500,Gl(0))}}break;case 13:S=Ha(d,2),S!==null&&Cn(S,d,2),Jc(),Xp(d,2)}if(d=Zp(l),d===null&&Up(e,i,l,ph,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Up(e,i,l,null,a)}}function Zp(e){return e=kn(e),Jp(e)}var ph=null;function Jp(e){if(ph=null,e=Lr(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ph=e,null}function AE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nd()){case Xo:return 2;case Sa:return 8;case Ts:case rd:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var tm=!1,Hi=null,Fi=null,Gi=null,Jl=new Map,tu=new Map,$i=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wE(e,i){switch(e){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function eu(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=cr(i),i!==null&&SE(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function pb(e,i,a,l,h){switch(i){case"focusin":return Hi=eu(Hi,e,i,a,l,h),!0;case"dragenter":return Fi=eu(Fi,e,i,a,l,h),!0;case"mouseover":return Gi=eu(Gi,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Jl.set(d,eu(Jl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,tu.set(d,eu(tu.get(d)||null,e,i,a,l,h)),!0}return!1}function bE(e){var i=Lr(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Ju(e.priority,function(){if(a.tag===13){var l=In();l=Ei(l);var h=Ha(a,l);h!==null&&Cn(h,a,l),Xp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Zp(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Br=l,a.target.dispatchEvent(l),Br=null}else return i=cr(a),i!==null&&SE(i),e.blockedOn=a,!1;i.shift()}return!0}function RE(e,i,a){mh(e)&&a.delete(i)}function mb(){tm=!1,Hi!==null&&mh(Hi)&&(Hi=null),Fi!==null&&mh(Fi)&&(Fi=null),Gi!==null&&mh(Gi)&&(Gi=null),Jl.forEach(RE),tu.forEach(RE)}function gh(e,i){e.blockedOn===i&&(e.blockedOn=null,tm||(tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mb)))}var yh=null;function IE(e){yh!==e&&(yh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yh===e&&(yh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Jp(l||a)===null)continue;break}var d=cr(a);d!==null&&(e.splice(i,3),i-=3,Jd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function nu(e){function i(C){return gh(C,e)}Hi!==null&&gh(Hi,e),Fi!==null&&gh(Fi,e),Gi!==null&&gh(Gi,e),Jl.forEach(i),tu.forEach(i);for(var a=0;a<$i.length;a++){var l=$i[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$i.length&&(a=$i[0],a.blockedOn===null);)bE(a),a.blockedOn===null&&$i.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Te]||null;if(typeof d=="function")E||IE(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Te]||null)S=E.formAction;else if(Jp(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),IE(a)}}}function em(e){this._internalRoot=e}_h.prototype.render=em.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();EE(a,l,e,i,null,null)},_h.prototype.unmount=em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;EE(e.current,2,null,e,null,null),Jc(),i[Vn]=null}};function _h(e){this._internalRoot=e}_h.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ti();e={blockedOn:null,target:e,priority:i};for(var a=0;a<$i.length&&i!==0&&i<$i[a].priority;a++);$i.splice(a,0,e),a===0&&bE(e)}};var CE=t.version;if(CE!=="19.1.0")throw Error(s(527,CE,"19.1.0"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var gb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{de=vh.inject(gb),Kt=vh}catch{}}return iu.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=F_,d=G_,E=$_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=_E(e,1,!1,null,null,a,l,h,d,E,S,null),e[Vn]=i.current,Lp(e),new em(i)},iu.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=F_,E=G_,S=$_,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=_E(e,1,!0,i,a??null,l,h,d,E,S,C,B),i.context=vE(null),a=i.current,l=In(),l=Ei(l),h=xi(l),h.callback=null,Di(a,h,l),a=l,i.current.lanes=a,kr(i,a),wr(i),e[Vn]=i.current,Lp(e),new _h(i)},iu.version="19.1.0",iu}var UE;function Ib(){if(UE)return im.exports;UE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),im.exports=Rb(),im.exports}var Cb=Ib();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jE="popstate";function xb(r={}){function t(s,o){let{pathname:u,search:f,hash:p}=s.location;return Im("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Eu(o)}return Nb(t,n,null,r)}function ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function sr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Db(){return Math.random().toString(36).substring(2,10)}function zE(r,t){return{usr:r.state,key:r.key,idx:t}}function Im(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Uo(t):t,state:n,key:t&&t.key||s||Db()}}function Eu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Uo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Nb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function T(){p="POP";let F=v(),J=F==null?null:F-g;g=F,m&&m({action:p,location:H.location,delta:J})}function A(F,J){p="PUSH";let W=Im(H.location,F,J);g=v()+1;let rt=zE(W,g),ut=H.createHref(W);try{f.pushState(rt,"",ut)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;o.location.assign(ut)}u&&m&&m({action:p,location:H.location,delta:1})}function N(F,J){p="REPLACE";let W=Im(H.location,F,J);g=v();let rt=zE(W,g),ut=H.createHref(W);f.replaceState(rt,"",ut),u&&m&&m({action:p,location:H.location,delta:0})}function U(F){return Ob(F)}let H={get action(){return p},get location(){return r(o,f)},listen(F){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(jE,T),m=F,()=>{o.removeEventListener(jE,T),m=null}},createHref(F){return t(o,F)},createURL:U,encodeLocation(F){let J=U(F);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:A,replace:N,go(F){return f.go(F)}};return H}function Ob(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Eu(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function M0(r,t,n="/"){return Mb(r,t,n,!1)}function Mb(r,t,n,s){let o=typeof t=="string"?Uo(t):t,u=fi(o.pathname||"/",n);if(u==null)return null;let f=V0(r);Vb(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Gb(u);p=Hb(f[m],g,s)}return p}function V0(r,t=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ue(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ui([s,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(ue(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),V0(u.children,t,v,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Bb(g,u.index),routesMeta:v})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of P0(u.path))o(u,f,m)}),t}function P0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=P0(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Vb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:qb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Pb=/^:[\w-]+$/,kb=3,Lb=2,Ub=1,jb=10,zb=-2,BE=r=>r==="*";function Bb(r,t){let n=r.split("/"),s=n.length;return n.some(BE)&&(s+=zb),t&&(s+=Lb),n.filter(o=>!BE(o)).reduce((o,u)=>o+(Pb.test(u)?kb:u===""?Ub:jb),s)}function qb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Hb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=Kh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),A=m.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Kh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ui([u,T.pathname]),pathnameBase:Yb(ui([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=ui([u,T.pathnameBase]))}return f}function Kh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Fb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},A)=>{if(v==="*"){let U=p[A]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const N=p[A];return T&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Fb(r,t=!1,n=!0){sr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Gb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function fi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function $b(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Uo(r):r;return{pathname:n?n.startsWith("/")?n:Qb(n,t):t,search:Xb(s),hash:Wb(o)}}function Qb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fg(r){let t=Kb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function dg(r,t,n,s=!1){let o;typeof r=="string"?o=Uo(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}p=T>=0?t[T]:"/"}let m=$b(o,p),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var ui=r=>r.join("/").replace(/\/\/+/g,"/"),Yb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Xb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Wb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Zb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var k0=["POST","PUT","PATCH","DELETE"];new Set(k0);var Jb=["GET",...k0];new Set(Jb);var jo=$.createContext(null);jo.displayName="DataRouter";var Af=$.createContext(null);Af.displayName="DataRouterState";$.createContext(!1);var L0=$.createContext({isTransitioning:!1});L0.displayName="ViewTransition";var tR=$.createContext(new Map);tR.displayName="Fetchers";var eR=$.createContext(null);eR.displayName="Await";var lr=$.createContext(null);lr.displayName="Navigation";var Vu=$.createContext(null);Vu.displayName="Location";var Vr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var pg=$.createContext(null);pg.displayName="RouteError";function nR(r,{relative:t}={}){ue(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=$.useContext(lr),{hash:o,pathname:u,search:f}=ku(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:ui([n,u])),s.createHref({pathname:p,search:f,hash:o})}function zo(){return $.useContext(Vu)!=null}function ms(){return ue(zo(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Vu).location}var U0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j0(r){$.useContext(lr).static||$.useLayoutEffect(r)}function Pu(){let{isDataRoute:r}=$.useContext(Vr);return r?mR():rR()}function rR(){ue(zo(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(jo),{basename:t,navigator:n}=$.useContext(lr),{matches:s}=$.useContext(Vr),{pathname:o}=ms(),u=JSON.stringify(fg(s)),f=$.useRef(!1);return j0(()=>{f.current=!0}),$.useCallback((m,g={})=>{if(sr(f.current,U0),!f.current)return;if(typeof m=="number"){n.go(m);return}let v=dg(m,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ui([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,o,r])}$.createContext(null);function ku(r,{relative:t}={}){let{matches:n}=$.useContext(Vr),{pathname:s}=ms(),o=JSON.stringify(fg(n));return $.useMemo(()=>dg(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function iR(r,t){return z0(r,t)}function z0(r,t,n,s){var J;ue(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(lr),{matches:u}=$.useContext(Vr),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let W=v&&v.path||"";B0(m,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=ms(),A;if(t){let W=typeof t=="string"?Uo(t):t;ue(g==="/"||((J=W.pathname)==null?void 0:J.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${W.pathname}" was given in the \`location\` prop.`),A=W}else A=T;let N=A.pathname||"/",U=N;if(g!=="/"){let W=g.replace(/^\//,"").split("/");U="/"+N.replace(/^\//,"").split("/").slice(W.length).join("/")}let H=M0(r,{pathname:U});sr(v||H!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),sr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=uR(H&&H.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:ui([g,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?g:ui([g,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s);return t&&F?$.createElement(Vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function sR(){let r=pR(),t=Zb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),n?$.createElement("pre",{style:o},n):null,f)}var aR=$.createElement(sR,null),oR=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?$.createElement(Vr.Provider,{value:this.props.routeContext},$.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lR({routeContext:r,match:t,children:n}){let s=$.useContext(jo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Vr.Provider,{value:r},n)}function uR(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:T}=n,A=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||A){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let T,A=!1,N=null,U=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||aR,f&&(p<0&&v===0?(B0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):p===v&&(A=!0,U=g.route.hydrateFallbackElement||null)));let H=t.concat(o.slice(0,v+1)),F=()=>{let J;return T?J=N:A?J=U:g.route.Component?J=$.createElement(g.route.Component,null):g.route.element?J=g.route.element:J=m,$.createElement(lR,{match:g,routeContext:{outlet:m,matches:H,isDataRoute:n!=null},children:J})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?$.createElement(oR,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:F(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):F()},null)}function mg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cR(r){let t=$.useContext(jo);return ue(t,mg(r)),t}function hR(r){let t=$.useContext(Af);return ue(t,mg(r)),t}function fR(r){let t=$.useContext(Vr);return ue(t,mg(r)),t}function gg(r){let t=fR(r),n=t.matches[t.matches.length-1];return ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function dR(){return gg("useRouteId")}function pR(){var s;let r=$.useContext(pg),t=hR("useRouteError"),n=gg("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function mR(){let{router:r}=cR("useNavigate"),t=gg("useNavigate"),n=$.useRef(!1);return j0(()=>{n.current=!0}),$.useCallback(async(o,u={})=>{sr(n.current,U0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var qE={};function B0(r,t,n){!t&&!qE[r]&&(qE[r]=!0,sr(!1,n))}$.memo(gR);function gR({routes:r,future:t,state:n}){return z0(r,void 0,n,t)}function yR({to:r,replace:t,state:n,relative:s}){ue(zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(lr);sr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(Vr),{pathname:f}=ms(),p=Pu(),m=dg(r,fg(u),f,s==="path"),g=JSON.stringify(m);return $.useEffect(()=>{p(JSON.parse(g),{replace:t,state:n,relative:s})},[p,g,s,t,n]),null}function Dh(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _R({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ue(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=$.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Uo(n));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:A="default"}=n,N=$.useMemo(()=>{let U=fi(m,f);return U==null?null:{location:{pathname:U,search:g,hash:v,state:T,key:A},navigationType:s}},[f,m,g,v,T,A,s]);return sr(N!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(lr.Provider,{value:p},$.createElement(Vu.Provider,{children:t,value:N}))}function vR({children:r,location:t}){return iR(Cm(r),t)}function Cm(r,t=[]){let n=[];return $.Children.forEach(r,(s,o)=>{if(!$.isValidElement(s))return;let u=[...t,o];if(s.type===$.Fragment){n.push.apply(n,Cm(s.props.children,u));return}ue(s.type===Dh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var Nh="get",Oh="application/x-www-form-urlencoded";function wf(r){return r!=null&&typeof r.tagName=="string"}function ER(r){return wf(r)&&r.tagName.toLowerCase()==="button"}function TR(r){return wf(r)&&r.tagName.toLowerCase()==="form"}function SR(r){return wf(r)&&r.tagName.toLowerCase()==="input"}function AR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wR(r,t){return r.button===0&&(!t||t==="_self")&&!AR(r)}var Eh=null;function bR(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var RR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(r){return r!=null&&!RR.has(r)?(sr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):r}function IR(r,t){let n,s,o,u,f;if(TR(r)){let p=r.getAttribute("action");s=p?fi(p,t):null,n=r.getAttribute("method")||Nh,o=um(r.getAttribute("enctype"))||Oh,u=new FormData(r)}else if(ER(r)||SR(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?fi(m,t):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Nh,o=um(r.getAttribute("formenctype"))||um(p.getAttribute("enctype"))||Oh,u=new FormData(p,r),!bR()){let{name:g,type:v,value:T}=r;if(v==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(wf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nh,s=null,o=Oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function CR(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&fi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function xR(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function NR(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await xR(u,n);return f.links?f.links():[]}return[]}));return PR(s.flat(1).filter(DR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function HE(r,t,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?t.filter((m,g)=>{var T;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function OR(r,t,{includeHydrateFallback:n}={}){return MR(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MR(r){return[...new Set(r)]}function VR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function PR(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(VR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function q0(){let r=$.useContext(jo);return yg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kR(){let r=$.useContext(Af);return yg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _g=$.createContext(void 0);_g.displayName="FrameworkContext";function H0(){let r=$.useContext(_g);return yg(r,"You must render this element inside a <HydratedRouter> element"),r}function LR(r,t){let n=$.useContext(_g),[s,o]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,A=$.useRef(null);$.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let H=J=>{J.forEach(W=>{f(W.isIntersecting)})},F=new IntersectionObserver(H,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),$.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let N=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:su(p,N),onBlur:su(m,U),onMouseEnter:su(g,N),onMouseLeave:su(v,U),onTouchStart:su(T,N)}]:[!1,A,{}]}function su(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function UR({page:r,...t}){let{router:n}=q0(),s=$.useMemo(()=>M0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?$.createElement(zR,{page:r,matches:s,...t}):null}function jR(r){let{manifest:t,routeModules:n}=H0(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return NR(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function zR({page:r,matches:t,...n}){let s=ms(),{manifest:o,routeModules:u}=H0(),{basename:f}=q0(),{loaderData:p,matches:m}=kR(),g=$.useMemo(()=>HE(r,t,m,o,s,"data"),[r,t,m,o,s]),v=$.useMemo(()=>HE(r,t,m,o,s,"assets"),[r,t,m,o,s]),T=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,H=!1;if(t.forEach(J=>{var rt;let W=o.routes[J.route.id];!W||!W.hasLoader||(!g.some(ut=>ut.route.id===J.route.id)&&J.route.id in p&&((rt=u[J.route.id])!=null&&rt.shouldRevalidate)||W.hasClientLoader?H=!0:U.add(J.route.id))}),U.size===0)return[];let F=CR(r,f,"data");return H&&U.size>0&&F.searchParams.set("_routes",t.filter(J=>U.has(J.route.id)).map(J=>J.route.id).join(",")),[F.pathname+F.search]},[f,p,s,o,g,t,r,u]),A=$.useMemo(()=>OR(v,o),[v,o]),N=jR(v);return $.createElement($.Fragment,null,T.map(U=>$.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),A.map(U=>$.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),N.map(({key:U,link:H})=>$.createElement("link",{key:U,...H})))}function BR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F0&&(window.__reactRouterVersion="7.7.0")}catch{}function qR({basename:r,children:t,window:n}){let s=$.useRef();s.current==null&&(s.current=xb({window:n,v5Compat:!0}));let o=s.current,[u,f]=$.useState({action:o.action,location:o.location}),p=$.useCallback(m=>{$.startTransition(()=>f(m))},[f]);return $.useLayoutEffect(()=>o.listen(p),[o,p]),$.createElement(_R,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$0=$.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:v,viewTransition:T,...A},N){let{basename:U}=$.useContext(lr),H=typeof g=="string"&&G0.test(g),F,J=!1;if(typeof g=="string"&&H&&(F=g,F0))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),P=fi(V.pathname,U);V.origin===I.origin&&P!=null?g=P+V.search+V.hash:J=!0}catch{sr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=nR(g,{relative:o}),[rt,ut,lt]=LR(s,A),ft=$R(g,{replace:f,state:p,target:m,preventScrollReset:v,relative:o,viewTransition:T});function x(I){t&&t(I),I.defaultPrevented||ft(I)}let b=$.createElement("a",{...A,...lt,href:F||W,onClick:J||u?t:x,ref:BR(N,ut),target:m,"data-discover":!H&&n==="render"?"true":void 0});return rt&&!H?$.createElement($.Fragment,null,b,$.createElement(UR,{page:W})):b});$0.displayName="Link";var HR=$.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},v){let T=ku(f,{relative:g.relative}),A=ms(),N=$.useContext(Af),{navigator:U,basename:H}=$.useContext(lr),F=N!=null&&WR(T)&&p===!0,J=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,W=A.pathname,rt=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(W=W.toLowerCase(),rt=rt?rt.toLowerCase():null,J=J.toLowerCase()),rt&&H&&(rt=fi(rt,H)||rt);const ut=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let lt=W===J||!o&&W.startsWith(J)&&W.charAt(ut)==="/",ft=rt!=null&&(rt===J||!o&&rt.startsWith(J)&&rt.charAt(J.length)==="/"),x={isActive:lt,isPending:ft,isTransitioning:F},b=lt?t:void 0,I;typeof s=="function"?I=s(x):I=[s,lt?"active":null,ft?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return $.createElement($0,{...g,"aria-current":b,className:I,ref:v,style:V,to:f,viewTransition:p},typeof m=="function"?m(x):m)});HR.displayName="NavLink";var FR=$.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Nh,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...A},N)=>{let U=YR(),H=XR(p,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&G0.test(p),W=rt=>{if(m&&m(rt),rt.defaultPrevented)return;rt.preventDefault();let ut=rt.nativeEvent.submitter,lt=(ut==null?void 0:ut.getAttribute("formmethod"))||f;U(ut||rt.currentTarget,{fetcherKey:t,method:lt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return $.createElement("form",{ref:N,method:F,action:H,onSubmit:s?m:W,...A,"data-discover":!J&&r==="render"?"true":void 0})});FR.displayName="Form";function GR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q0(r){let t=$.useContext(jo);return ue(t,GR(r)),t}function $R(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Pu(),m=ms(),g=ku(r,{relative:u});return $.useCallback(v=>{if(wR(v,t)){v.preventDefault();let T=n!==void 0?n:Eu(m)===Eu(g);p(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,t,r,o,u,f])}var QR=0,KR=()=>`__${String(++QR)}__`;function YR(){let{router:r}=Q0("useSubmit"),{basename:t}=$.useContext(lr),n=dR();return $.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=IR(s,t);if(o.navigate===!1){let v=o.fetcherKey||KR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function XR(r,{relative:t}={}){let{basename:n}=$.useContext(lr),s=$.useContext(Vr);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ku(r||".",{relative:t})},f=ms();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(v=>v==="")){p.delete("index"),m.filter(T=>T).forEach(T=>p.append("index",T));let v=p.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ui([n,u.pathname])),Eu(u)}function WR(r,t={}){let n=$.useContext(L0);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Q0("useViewTransitionState"),o=ku(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kh(o.pathname,f)!=null||Kh(o.pathname,u)!=null}var Ge=function(){return Ge=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ge.apply(this,arguments)};function Tu(r,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,u;s<o;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return r.concat(u||Array.prototype.slice.call(t))}var ie="-ms-",du="-moz-",$t="-webkit-",K0="comm",bf="rule",vg="decl",ZR="@import",Y0="@keyframes",JR="@layer",X0=Math.abs,Eg=String.fromCharCode,xm=Object.assign;function tI(r,t){return Fe(r,0)^45?(((t<<2^Fe(r,0))<<2^Fe(r,1))<<2^Fe(r,2))<<2^Fe(r,3):0}function W0(r){return r.trim()}function ai(r,t){return(r=t.exec(r))?r[0]:r}function Dt(r,t,n){return r.replace(t,n)}function Mh(r,t,n){return r.indexOf(t,n)}function Fe(r,t){return r.charCodeAt(t)|0}function Ro(r,t,n){return r.slice(t,n)}function Rr(r){return r.length}function Z0(r){return r.length}function au(r,t){return t.push(r),r}function eI(r,t){return r.map(t).join("")}function FE(r,t){return r.filter(function(n){return!ai(n,t)})}var Rf=1,Io=1,J0=0,Kn=0,Re=0,Bo="";function If(r,t,n,s,o,u,f,p){return{value:r,root:t,parent:n,type:s,props:o,children:u,line:Rf,column:Io,length:f,return:"",siblings:p}}function Xi(r,t){return xm(If("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},t)}function mo(r){for(;r.root;)r=Xi(r.root,{children:[r]});au(r,r.siblings)}function nI(){return Re}function rI(){return Re=Kn>0?Fe(Bo,--Kn):0,Io--,Re===10&&(Io=1,Rf--),Re}function rr(){return Re=Kn<J0?Fe(Bo,Kn++):0,Io++,Re===10&&(Io=1,Rf++),Re}function sa(){return Fe(Bo,Kn)}function Vh(){return Kn}function Cf(r,t){return Ro(Bo,r,t)}function Dm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iI(r){return Rf=Io=1,J0=Rr(Bo=r),Kn=0,[]}function sI(r){return Bo="",r}function cm(r){return W0(Cf(Kn-1,Nm(r===91?r+2:r===40?r+1:r)))}function aI(r){for(;(Re=sa())&&Re<33;)rr();return Dm(r)>2||Dm(Re)>3?"":" "}function oI(r,t){for(;--t&&rr()&&!(Re<48||Re>102||Re>57&&Re<65||Re>70&&Re<97););return Cf(r,Vh()+(t<6&&sa()==32&&rr()==32))}function Nm(r){for(;rr();)switch(Re){case r:return Kn;case 34:case 39:r!==34&&r!==39&&Nm(Re);break;case 40:r===41&&Nm(r);break;case 92:rr();break}return Kn}function lI(r,t){for(;rr()&&r+Re!==57;)if(r+Re===84&&sa()===47)break;return"/*"+Cf(t,Kn-1)+"*"+Eg(r===47?r:rr())}function uI(r){for(;!Dm(sa());)rr();return Cf(r,Kn)}function cI(r){return sI(Ph("",null,null,null,[""],r=iI(r),0,[0],r))}function Ph(r,t,n,s,o,u,f,p,m){for(var g=0,v=0,T=f,A=0,N=0,U=0,H=1,F=1,J=1,W=0,rt="",ut=o,lt=u,ft=s,x=rt;F;)switch(U=W,W=rr()){case 40:if(U!=108&&Fe(x,T-1)==58){Mh(x+=Dt(cm(W),"&","&\f"),"&\f",X0(g?p[g-1]:0))!=-1&&(J=-1);break}case 34:case 39:case 91:x+=cm(W);break;case 9:case 10:case 13:case 32:x+=aI(U);break;case 92:x+=oI(Vh()-1,7);continue;case 47:switch(sa()){case 42:case 47:au(hI(lI(rr(),Vh()),t,n,m),m);break;default:x+="/"}break;case 123*H:p[g++]=Rr(x)*J;case 125*H:case 59:case 0:switch(W){case 0:case 125:F=0;case 59+v:J==-1&&(x=Dt(x,/\f/g,"")),N>0&&Rr(x)-T&&au(N>32?$E(x+";",s,n,T-1,m):$E(Dt(x," ","")+";",s,n,T-2,m),m);break;case 59:x+=";";default:if(au(ft=GE(x,t,n,g,v,o,p,rt,ut=[],lt=[],T,u),u),W===123)if(v===0)Ph(x,t,ft,ft,ut,u,T,p,lt);else switch(A===99&&Fe(x,3)===110?100:A){case 100:case 108:case 109:case 115:Ph(r,ft,ft,s&&au(GE(r,ft,ft,0,0,o,p,rt,o,ut=[],T,lt),lt),o,lt,T,p,s?ut:lt);break;default:Ph(x,ft,ft,ft,[""],lt,0,p,lt)}}g=v=N=0,H=J=1,rt=x="",T=f;break;case 58:T=1+Rr(x),N=U;default:if(H<1){if(W==123)--H;else if(W==125&&H++==0&&rI()==125)continue}switch(x+=Eg(W),W*H){case 38:J=v>0?1:(x+="\f",-1);break;case 44:p[g++]=(Rr(x)-1)*J,J=1;break;case 64:sa()===45&&(x+=cm(rr())),A=sa(),v=T=Rr(rt=x+=uI(Vh())),W++;break;case 45:U===45&&Rr(x)==2&&(H=0)}}return u}function GE(r,t,n,s,o,u,f,p,m,g,v,T){for(var A=o-1,N=o===0?u:[""],U=Z0(N),H=0,F=0,J=0;H<s;++H)for(var W=0,rt=Ro(r,A+1,A=X0(F=f[H])),ut=r;W<U;++W)(ut=W0(F>0?N[W]+" "+rt:Dt(rt,/&\f/g,N[W])))&&(m[J++]=ut);return If(r,t,n,o===0?bf:p,m,g,v,T)}function hI(r,t,n,s){return If(r,t,n,K0,Eg(nI()),Ro(r,2,-2),0,s)}function $E(r,t,n,s,o){return If(r,t,n,vg,Ro(r,0,s),Ro(r,s+1,-1),s,o)}function tS(r,t,n){switch(tI(r,t)){case 5103:return $t+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+r+r;case 4789:return du+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+r+du+r+ie+r+r;case 5936:switch(Fe(r,t+11)){case 114:return $t+r+ie+Dt(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $t+r+ie+Dt(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $t+r+ie+Dt(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $t+r+ie+r+r;case 6165:return $t+r+ie+"flex-"+r+r;case 5187:return $t+r+Dt(r,/(\w+).+(:[^]+)/,$t+"box-$1$2"+ie+"flex-$1$2")+r;case 5443:return $t+r+ie+"flex-item-"+Dt(r,/flex-|-self/g,"")+(ai(r,/flex-|baseline/)?"":ie+"grid-row-"+Dt(r,/flex-|-self/g,""))+r;case 4675:return $t+r+ie+"flex-line-pack"+Dt(r,/align-content|flex-|-self/g,"")+r;case 5548:return $t+r+ie+Dt(r,"shrink","negative")+r;case 5292:return $t+r+ie+Dt(r,"basis","preferred-size")+r;case 6060:return $t+"box-"+Dt(r,"-grow","")+$t+r+ie+Dt(r,"grow","positive")+r;case 4554:return $t+Dt(r,/([^-])(transform)/g,"$1"+$t+"$2")+r;case 6187:return Dt(Dt(Dt(r,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),r,"")+r;case 5495:case 3959:return Dt(r,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return Dt(Dt(r,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+r+r;case 4200:if(!ai(r,/flex-|baseline/))return ie+"grid-column-align"+Ro(r,t)+r;break;case 2592:case 3360:return ie+Dt(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return t=o,ai(s.props,/grid-\w+-end/)})?~Mh(r+(n=n[t].value),"span",0)?r:ie+Dt(r,"-start","")+r+ie+"grid-row-span:"+(~Mh(n,"span",0)?ai(n,/\d+/):+ai(n,/\d+/)-+ai(r,/\d+/))+";":ie+Dt(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return ai(s.props,/grid-\w+-start/)})?r:ie+Dt(Dt(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return Dt(r,/(.+)-inline(.+)/,$t+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rr(r)-1-t>6)switch(Fe(r,t+1)){case 109:if(Fe(r,t+4)!==45)break;case 102:return Dt(r,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+du+(Fe(r,t+3)==108?"$3":"$2-$3"))+r;case 115:return~Mh(r,"stretch",0)?tS(Dt(r,"stretch","fill-available"),t,n)+r:r}break;case 5152:case 5920:return Dt(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return ie+o+":"+u+g+(f?ie+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(Fe(r,t+6)===121)return Dt(r,":",":"+$t)+r;break;case 6444:switch(Fe(r,Fe(r,14)===45?18:11)){case 120:return Dt(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$t+(Fe(r,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+ie+"$2box$3")+r;case 100:return Dt(r,":",":"+ie)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Dt(r,"scroll-","scroll-snap-")+r}return r}function Yh(r,t){for(var n="",s=0;s<r.length;s++)n+=t(r[s],s,r,t)||"";return n}function fI(r,t,n,s){switch(r.type){case JR:if(r.children.length)break;case ZR:case vg:return r.return=r.return||r.value;case K0:return"";case Y0:return r.return=r.value+"{"+Yh(r.children,s)+"}";case bf:if(!Rr(r.value=r.props.join(",")))return""}return Rr(n=Yh(r.children,s))?r.return=r.value+"{"+n+"}":""}function dI(r){var t=Z0(r);return function(n,s,o,u){for(var f="",p=0;p<t;p++)f+=r[p](n,s,o,u)||"";return f}}function pI(r){return function(t){t.root||(t=t.return)&&r(t)}}function mI(r,t,n,s){if(r.length>-1&&!r.return)switch(r.type){case vg:r.return=tS(r.value,r.length,n);return;case Y0:return Yh([Xi(r,{value:Dt(r.value,"@","@"+$t)})],s);case bf:if(r.length)return eI(n=r.props,function(o){switch(ai(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":mo(Xi(r,{props:[Dt(o,/:(read-\w+)/,":"+du+"$1")]})),mo(Xi(r,{props:[o]})),xm(r,{props:FE(n,s)});break;case"::placeholder":mo(Xi(r,{props:[Dt(o,/:(plac\w+)/,":"+$t+"input-$1")]})),mo(Xi(r,{props:[Dt(o,/:(plac\w+)/,":"+du+"$1")]})),mo(Xi(r,{props:[Dt(o,/:(plac\w+)/,ie+"input-$1")]})),mo(Xi(r,{props:[o]})),xm(r,{props:FE(n,s)});break}return""})}}var gI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xn={},Co=typeof process<"u"&&xn!==void 0&&(xn.REACT_APP_SC_ATTR||xn.SC_ATTR)||"data-styled",eS="active",nS="data-styled-version",xf="6.1.19",Tg=`/*!sc*/
`,Xh=typeof window<"u"&&typeof document<"u",yI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&xn!==void 0&&xn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&xn.REACT_APP_SC_DISABLE_SPEEDY!==""?xn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&xn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&xn!==void 0&&xn.SC_DISABLE_SPEEDY!==void 0&&xn.SC_DISABLE_SPEEDY!==""&&xn.SC_DISABLE_SPEEDY!=="false"&&xn.SC_DISABLE_SPEEDY),_I={},Df=Object.freeze([]),xo=Object.freeze({});function rS(r,t,n){return n===void 0&&(n=xo),r.theme!==n.theme&&r.theme||t||n.theme}var iS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),vI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,EI=/(^-|-$)/g;function QE(r){return r.replace(vI,"-").replace(EI,"")}var TI=/(a)(d)/gi,Th=52,KE=function(r){return String.fromCharCode(r+(r>25?39:97))};function Om(r){var t,n="";for(t=Math.abs(r);t>Th;t=t/Th|0)n=KE(t%Th)+n;return(KE(t%Th)+n).replace(TI,"$1-$2")}var hm,sS=5381,Eo=function(r,t){for(var n=t.length;n;)r=33*r^t.charCodeAt(--n);return r},aS=function(r){return Eo(sS,r)};function oS(r){return Om(aS(r)>>>0)}function SI(r){return r.displayName||r.name||"Component"}function fm(r){return typeof r=="string"&&!0}var lS=typeof Symbol=="function"&&Symbol.for,uS=lS?Symbol.for("react.memo"):60115,AI=lS?Symbol.for("react.forward_ref"):60112,wI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RI=((hm={})[AI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hm[uS]=cS,hm);function YE(r){return("type"in(t=r)&&t.type.$$typeof)===uS?cS:"$$typeof"in r?RI[r.$$typeof]:wI;var t}var II=Object.defineProperty,CI=Object.getOwnPropertyNames,XE=Object.getOwnPropertySymbols,xI=Object.getOwnPropertyDescriptor,DI=Object.getPrototypeOf,WE=Object.prototype;function hS(r,t,n){if(typeof t!="string"){if(WE){var s=DI(t);s&&s!==WE&&hS(r,s,n)}var o=CI(t);XE&&(o=o.concat(XE(t)));for(var u=YE(r),f=YE(t),p=0;p<o.length;++p){var m=o[p];if(!(m in bI||n&&n[m]||f&&m in f||u&&m in u)){var g=xI(t,m);try{II(r,m,g)}catch{}}}}return r}function ua(r){return typeof r=="function"}function Sg(r){return typeof r=="object"&&"styledComponentId"in r}function ra(r,t){return r&&t?"".concat(r," ").concat(t):r||t||""}function Mm(r,t){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function Su(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Vm(r,t,n){if(n===void 0&&(n=!1),!n&&!Su(r)&&!Array.isArray(r))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)r[s]=Vm(r[s],t[s]);else if(Su(t))for(var s in t)r[s]=Vm(r[s],t[s]);return r}function Ag(r,t){Object.defineProperty(r,"toString",{value:t})}function ca(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var NI=function(){function r(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return r.prototype.indexOfGroup=function(t){for(var n=0,s=0;s<t;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;t>=u;)if((u<<=1)<0)throw ca(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(t+1),m=(f=0,n.length);f<m;f++)this.tag.insertRule(p,n[f])&&(this.groupSizes[t]++,p++)},r.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],s=this.indexOfGroup(t),o=s+n;this.groupSizes[t]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var s=this.groupSizes[t],o=this.indexOfGroup(t),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(Tg);return n},r}(),kh=new Map,Wh=new Map,Lh=1,Sh=function(r){if(kh.has(r))return kh.get(r);for(;Wh.has(Lh);)Lh++;var t=Lh++;return kh.set(r,t),Wh.set(t,r),t},OI=function(r,t){Lh=t+1,kh.set(r,t),Wh.set(t,r)},MI="style[".concat(Co,"][").concat(nS,'="').concat(xf,'"]'),VI=new RegExp("^".concat(Co,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),PI=function(r,t,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(t,s)},kI=function(r,t){for(var n,s=((n=t.textContent)!==null&&n!==void 0?n:"").split(Tg),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(VI);if(m){var g=0|parseInt(m[1],10),v=m[2];g!==0&&(OI(v,g),PI(r,v,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},ZE=function(r){for(var t=document.querySelectorAll(MI),n=0,s=t.length;n<s;n++){var o=t[n];o&&o.getAttribute(Co)!==eS&&(kI(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function LI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var fS=function(r){var t=document.head,n=r||t,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(Co,"]")));return m[m.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(Co,eS),s.setAttribute(nS,xf);var f=LI();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},UI=function(){function r(t){this.element=fS(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw ca(17)}(this.element),this.length=0}return r.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},r.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},r}(),jI=function(){function r(t){this.element=fS(t),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},r.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},r}(),zI=function(){function r(t){this.rules=[],this.length=0}return r.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},r.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},r.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},r}(),JE=Xh,BI={isServer:!Xh,useCSSOMInjection:!yI},Zh=function(){function r(t,n,s){t===void 0&&(t=xo),n===void 0&&(n={});var o=this;this.options=Ge(Ge({},BI),t),this.gs=n,this.names=new Map(s),this.server=!!t.isServer,!this.server&&Xh&&JE&&(JE=!1,ZE(this)),Ag(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(T){var A=function(J){return Wh.get(J)}(T);if(A===void 0)return"continue";var N=u.names.get(A),U=f.getGroup(T);if(N===void 0||!N.size||U.length===0)return"continue";var H="".concat(Co,".g").concat(T,'[id="').concat(A,'"]'),F="";N!==void 0&&N.forEach(function(J){J.length>0&&(F+="".concat(J,","))}),m+="".concat(U).concat(H,'{content:"').concat(F,'"}').concat(Tg)},v=0;v<p;v++)g(v);return m}(o)})}return r.registerId=function(t){return Sh(t)},r.prototype.rehydrate=function(){!this.server&&Xh&&ZE(this)},r.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new r(Ge(Ge({},this.options),t),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new zI(o):s?new UI(o):new jI(o)}(this.options),new NI(t)));var t},r.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},r.prototype.registerName=function(t,n){if(Sh(t),this.names.has(t))this.names.get(t).add(n);else{var s=new Set;s.add(n),this.names.set(t,s)}},r.prototype.insertRules=function(t,n,s){this.registerName(t,n),this.getTag().insertRules(Sh(t),s)},r.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},r.prototype.clearRules=function(t){this.getTag().clearGroup(Sh(t)),this.clearNames(t)},r.prototype.clearTag=function(){this.tag=void 0},r}(),qI=/&/g,HI=/^\s*\/\/.*$/gm;function dS(r,t){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=dS(n.children,t)),n})}function FI(r){var t,n,s,o=xo,u=o.options,f=u===void 0?xo:u,p=o.plugins,m=p===void 0?Df:p,g=function(A,N,U){return U.startsWith(n)&&U.endsWith(n)&&U.replaceAll(n,"").length>0?".".concat(t):A},v=m.slice();v.push(function(A){A.type===bf&&A.value.includes("&")&&(A.props[0]=A.props[0].replace(qI,n).replace(s,g))}),f.prefix&&v.push(mI),v.push(fI);var T=function(A,N,U,H){N===void 0&&(N=""),U===void 0&&(U=""),H===void 0&&(H="&"),t=H,n=N,s=new RegExp("\\".concat(n,"\\b"),"g");var F=A.replace(HI,""),J=cI(U||N?"".concat(U," ").concat(N," { ").concat(F," }"):F);f.namespace&&(J=dS(J,f.namespace));var W=[];return Yh(J,dI(v.concat(pI(function(rt){return W.push(rt)})))),W};return T.hash=m.length?m.reduce(function(A,N){return N.name||ca(15),Eo(A,N.name)},sS).toString():"",T}var GI=new Zh,Pm=FI(),pS=er.createContext({shouldForwardProp:void 0,styleSheet:GI,stylis:Pm});pS.Consumer;er.createContext(void 0);function km(){return $.useContext(pS)}var $I=function(){function r(t,n){var s=this;this.inject=function(o,u){u===void 0&&(u=Pm);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Ag(this,function(){throw ca(12,String(s.name))})}return r.prototype.getName=function(t){return t===void 0&&(t=Pm),this.name+t.hash},r}(),QI=function(r){return r>="A"&&r<="Z"};function tT(r){for(var t="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;QI(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var mS=function(r){return r==null||r===!1||r===""},gS=function(r){var t,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!mS(u)&&(Array.isArray(u)&&u.isCss||ua(u)?s.push("".concat(tT(o),":"),u,";"):Su(u)?s.push.apply(s,Tu(Tu(["".concat(o," {")],gS(u),!1),["}"],!1)):s.push("".concat(tT(o),": ").concat((t=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in gI||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function ns(r,t,n,s){if(mS(r))return[];if(Sg(r))return[".".concat(r.styledComponentId)];if(ua(r)){if(!ua(u=r)||u.prototype&&u.prototype.isReactComponent||!t)return[r];var o=r(t);return ns(o,t,n,s)}var u;return r instanceof $I?n?(r.inject(n,s),[r.getName(s)]):[r]:Su(r)?gS(r):Array.isArray(r)?Array.prototype.concat.apply(Df,r.map(function(f){return ns(f,t,n,s)})):[r.toString()]}function yS(r){for(var t=0;t<r.length;t+=1){var n=r[t];if(ua(n)&&!Sg(n))return!1}return!0}var KI=aS(xf),YI=function(){function r(t,n,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&yS(t),this.componentId=n,this.baseHash=Eo(KI,n),this.baseStyle=s,Zh.registerId(n)}return r.prototype.generateAndInjectStyles=function(t,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ra(o,this.staticRulesId);else{var u=Mm(ns(this.rules,t,n,s)),f=Om(Eo(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}o=ra(o,f),this.staticRulesId=f}else{for(var m=Eo(this.baseHash,s.hash),g="",v=0;v<this.rules.length;v++){var T=this.rules[v];if(typeof T=="string")g+=T;else if(T){var A=Mm(ns(T,t,n,s));m=Eo(m,A+v),g+=A}}if(g){var N=Om(m>>>0);n.hasNameForId(this.componentId,N)||n.insertRules(this.componentId,N,s(g,".".concat(N),void 0,this.componentId)),o=ra(o,N)}}return o},r}(),Au=er.createContext(void 0);Au.Consumer;function XI(r){var t=er.useContext(Au),n=$.useMemo(function(){return function(s,o){if(!s)throw ca(14);if(ua(s)){var u=s(o);return u}if(Array.isArray(s)||typeof s!="object")throw ca(8);return o?Ge(Ge({},o),s):s}(r.theme,t)},[r.theme,t]);return r.children?er.createElement(Au.Provider,{value:n},r.children):null}var dm={};function WI(r,t,n){var s=Sg(r),o=r,u=!fm(r),f=t.attrs,p=f===void 0?Df:f,m=t.componentId,g=m===void 0?function(ut,lt){var ft=typeof ut!="string"?"sc":QE(ut);dm[ft]=(dm[ft]||0)+1;var x="".concat(ft,"-").concat(oS(xf+ft+dm[ft]));return lt?"".concat(lt,"-").concat(x):x}(t.displayName,t.parentComponentId):m,v=t.displayName,T=v===void 0?function(ut){return fm(ut)?"styled.".concat(ut):"Styled(".concat(SI(ut),")")}(r):v,A=t.displayName&&t.componentId?"".concat(QE(t.displayName),"-").concat(t.componentId):t.componentId||g,N=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,U=t.shouldForwardProp;if(s&&o.shouldForwardProp){var H=o.shouldForwardProp;if(t.shouldForwardProp){var F=t.shouldForwardProp;U=function(ut,lt){return H(ut,lt)&&F(ut,lt)}}else U=H}var J=new YI(n,A,s?o.componentStyle:void 0);function W(ut,lt){return function(ft,x,b){var I=ft.attrs,V=ft.componentStyle,P=ft.defaultProps,L=ft.foldedComponentIds,D=ft.styledComponentId,De=ft.target,ae=er.useContext(Au),K=km(),ot=ft.shouldForwardProp||K.shouldForwardProp,mt=rS(x,ae,P)||xo,Ct=function(It,vt,ce){for(var qt,Le=Ge(Ge({},vt),{className:void 0,theme:ce}),On=0;On<It.length;On+=1){var pn=ua(qt=It[On])?qt(Le):qt;for(var tn in pn)Le[tn]=tn==="className"?ra(Le[tn],pn[tn]):tn==="style"?Ge(Ge({},Le[tn]),pn[tn]):pn[tn]}return vt.className&&(Le.className=ra(Le.className,vt.className)),Le}(I,x,mt),O=Ct.as||De,nt={};for(var st in Ct)Ct[st]===void 0||st[0]==="$"||st==="as"||st==="theme"&&Ct.theme===mt||(st==="forwardedAs"?nt.as=Ct.forwardedAs:ot&&!ot(st,O)||(nt[st]=Ct[st]));var it=function(It,vt){var ce=km(),qt=It.generateAndInjectStyles(vt,ce.styleSheet,ce.stylis);return qt}(V,Ct),gt=ra(L,D);return it&&(gt+=" "+it),Ct.className&&(gt+=" "+Ct.className),nt[fm(O)&&!iS.has(O)?"class":"className"]=gt,b&&(nt.ref=b),$.createElement(O,nt)}(rt,ut,lt)}W.displayName=T;var rt=er.forwardRef(W);return rt.attrs=N,rt.componentStyle=J,rt.displayName=T,rt.shouldForwardProp=U,rt.foldedComponentIds=s?ra(o.foldedComponentIds,o.styledComponentId):"",rt.styledComponentId=A,rt.target=s?o.target:r,Object.defineProperty(rt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ut){this._foldedDefaultProps=s?function(lt){for(var ft=[],x=1;x<arguments.length;x++)ft[x-1]=arguments[x];for(var b=0,I=ft;b<I.length;b++)Vm(lt,I[b],!0);return lt}({},o.defaultProps,ut):ut}}),Ag(rt,function(){return".".concat(rt.styledComponentId)}),u&&hS(rt,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),rt}function eT(r,t){for(var n=[r[0]],s=0,o=t.length;s<o;s+=1)n.push(t[s],r[s+1]);return n}var nT=function(r){return Object.assign(r,{isCss:!0})};function _S(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ua(r)||Su(r))return nT(ns(eT(Df,Tu([r],t,!0))));var s=r;return t.length===0&&s.length===1&&typeof s[0]=="string"?ns(s):nT(ns(eT(s,t)))}function Lm(r,t,n){if(n===void 0&&(n=xo),!t)throw ca(1,t);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(t,n,_S.apply(void 0,Tu([o],u,!1)))};return s.attrs=function(o){return Lm(r,t,Ge(Ge({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Lm(r,t,Ge(Ge({},n),o))},s}var vS=function(r){return Lm(WI,r)},pt=vS;iS.forEach(function(r){pt[r]=vS(r)});var ZI=function(){function r(t,n){this.rules=t,this.componentId=n,this.isStatic=yS(t),Zh.registerId(this.componentId+1)}return r.prototype.createStyles=function(t,n,s,o){var u=o(Mm(ns(this.rules,n,s,o)),""),f=this.componentId+t;s.insertRules(f,f,u)},r.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},r.prototype.renderStyles=function(t,n,s,o){t>2&&Zh.registerId(this.componentId+t),this.removeStyles(t,s),this.createStyles(t,n,s,o)},r}();function JI(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=_S.apply(void 0,Tu([r],t,!1)),o="sc-global-".concat(oS(JSON.stringify(s))),u=new ZI(s,o),f=function(m){var g=km(),v=er.useContext(Au),T=er.useRef(g.styleSheet.allocateGSInstance(o)).current;return g.styleSheet.server&&p(T,m,g.styleSheet,v,g.stylis),er.useLayoutEffect(function(){if(!g.styleSheet.server)return p(T,m,g.styleSheet,v,g.stylis),function(){return u.removeStyles(T,g.styleSheet)}},[T,m,g.styleSheet,v,g.stylis]),null};function p(m,g,v,T,A){if(u.isStatic)u.renderStyles(m,_I,v,A);else{var N=Ge(Ge({},g),{theme:rS(g,T,f.defaultProps)});u.renderStyles(m,N,v,A)}}return er.memo(f)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=()=>{};var rT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},eC=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=u>>2,T=(u&3)<<4|p>>4;let A=(p&15)<<2|g>>6,N=g&63;m||(N=64,f||(A=64)),s.push(n[v],n[T],n[A],n[N])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(ES(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):eC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||T==null)throw new nC;const A=u<<2|p>>4;if(s.push(A),g!==64){const N=p<<4&240|g>>2;if(s.push(N),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rC=function(r){const t=ES(r);return TS.encodeByteArray(t,!0)},Jh=function(r){return rC(r).replace(/\./g,"")},SS=function(r){try{return TS.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=()=>iC().__FIREBASE_DEFAULTS__,aC=()=>{if(typeof process>"u"||typeof rT>"u")return;const r=rT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&SS(r[1]);return t&&JSON.parse(t)},Nf=()=>{try{return tC()||sC()||aC()||oC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},AS=r=>{var t,n;return(n=(t=Nf())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},lC=r=>{const t=AS(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},wS=()=>{var r;return(r=Nf())==null?void 0:r.config},bS=r=>{var t;return(t=Nf())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jh(JSON.stringify(n)),Jh(JSON.stringify(f)),""].join(".")}const pu={};function hC(){const r={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?r.emulator.push(t):r.prod.push(t);return r}function fC(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let iT=!1;function IS(r,t){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||pu[r]===t||pu[r]||iT)return;pu[r]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=hC().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{iT=!0,f()},A}function v(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=fC(s),N=n("text"),U=document.getElementById(N)||document.createElement("span"),H=n("learnmore"),F=document.getElementById(H)||document.createElement("a"),J=n("preprendIcon"),W=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const rt=A.element;p(rt),v(F,H);const ut=g();m(W,J),rt.append(W,U,F,ut),document.body.appendChild(rt)}u?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function pC(){var t;const r=(t=Nf())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _C(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vC(){return!pC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="FirebaseError";class _i extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=SC,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?AC(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new _i(o,p,s)}}function AC(r,t){return r.replace(wC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const wC=/\{\$([^}]+)}/g;function bC(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ha(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(sT(u)&&sT(f)){if(!ha(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function sT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ou(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function lu(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function RC(r,t){const n=new IC(r,t);return n.subscribe.bind(n)}class IC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CC(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r){return r&&r._delegate?r._delegate:r}class fa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new uC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NC(t))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=na){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=na){return this.instances.has(t)}getOptions(t=na){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=na){return this.component?this.component.multipleInstances?t:na:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(r){return r===na?void 0:r}function NC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new xC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const MC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},VC=Pt.INFO,PC={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},kC=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=PC[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wg{constructor(t){this.name=t,this._logLevel=VC,this._logHandler=kC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const LC=(r,t)=>t.some(n=>r instanceof n);let aT,oT;function UC(){return aT||(aT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return oT||(oT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CS=new WeakMap,Um=new WeakMap,xS=new WeakMap,mm=new WeakMap,bg=new WeakMap;function zC(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(rs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&CS.set(n,r)}).catch(()=>{}),bg.set(t,r),t}function BC(r){if(Um.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Um.set(r,t)}let jm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Um.get(r);if(t==="objectStoreNames")return r.objectStoreNames||xS.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function qC(r){jm=r(jm)}function HC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(gm(this),t,...n);return xS.set(s,t.sort?t.sort():[t]),rs(s)}:jC().includes(r)?function(...t){return r.apply(gm(this),t),rs(CS.get(this))}:function(...t){return rs(r.apply(gm(this),t))}}function FC(r){return typeof r=="function"?HC(r):(r instanceof IDBTransaction&&BC(r),LC(r,UC())?new Proxy(r,jm):r)}function rs(r){if(r instanceof IDBRequest)return zC(r);if(mm.has(r))return mm.get(r);const t=FC(r);return t!==r&&(mm.set(r,t),bg.set(t,r)),t}const gm=r=>bg.get(r);function GC(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=rs(f);return s&&f.addEventListener("upgradeneeded",m=>{s(rs(f.result),m.oldVersion,m.newVersion,rs(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const $C=["get","getKey","getAll","getAllKeys","count"],QC=["put","add","delete","clear"],ym=new Map;function lT(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(ym.get(t))return ym.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=QC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$C.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return ym.set(t,u),u}qC(r=>({...r,get:(t,n,s)=>lT(t,n)||r.get(t,n,s),has:(t,n)=>!!lT(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YC(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zm="@firebase/app",uT="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new wg("@firebase/app"),XC="@firebase/app-compat",WC="@firebase/analytics-compat",ZC="@firebase/analytics",JC="@firebase/app-check-compat",tx="@firebase/app-check",ex="@firebase/auth",nx="@firebase/auth-compat",rx="@firebase/database",ix="@firebase/data-connect",sx="@firebase/database-compat",ax="@firebase/functions",ox="@firebase/functions-compat",lx="@firebase/installations",ux="@firebase/installations-compat",cx="@firebase/messaging",hx="@firebase/messaging-compat",fx="@firebase/performance",dx="@firebase/performance-compat",px="@firebase/remote-config",mx="@firebase/remote-config-compat",gx="@firebase/storage",yx="@firebase/storage-compat",_x="@firebase/firestore",vx="@firebase/ai",Ex="@firebase/firestore-compat",Tx="firebase",Sx="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",Ax={[zm]:"fire-core",[XC]:"fire-core-compat",[ZC]:"fire-analytics",[WC]:"fire-analytics-compat",[tx]:"fire-app-check",[JC]:"fire-app-check-compat",[ex]:"fire-auth",[nx]:"fire-auth-compat",[rx]:"fire-rtdb",[ix]:"fire-data-connect",[sx]:"fire-rtdb-compat",[ax]:"fire-fn",[ox]:"fire-fn-compat",[lx]:"fire-iid",[ux]:"fire-iid-compat",[cx]:"fire-fcm",[hx]:"fire-fcm-compat",[fx]:"fire-perf",[dx]:"fire-perf-compat",[px]:"fire-rc",[mx]:"fire-rc-compat",[gx]:"fire-gcs",[yx]:"fire-gcs-compat",[_x]:"fire-fst",[Ex]:"fire-fst-compat",[vx]:"fire-vertex","fire-js":"fire-js",[Tx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Map,wx=new Map,qm=new Map;function cT(r,t){try{r.container.addComponent(t)}catch(n){di.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Do(r){const t=r.name;if(qm.has(t))return di.debug(`There were multiple attempts to register component ${t}.`),!1;qm.set(t,r);for(const n of tf.values())cT(n,r);for(const n of wx.values())cT(n,r);return!0}function Rg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Lu("app","Firebase",bx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=Sx;function DS(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Bm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=wS()),!n)throw is.create("no-options");const u=tf.get(o);if(u){if(ha(n,u.options)&&ha(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new OC(o);for(const m of qm.values())f.addComponent(m);const p=new Rx(n,s,f);return tf.set(o,p),p}function NS(r=Bm){const t=tf.get(r);if(!t&&r===Bm&&wS())return DS();if(!t)throw is.create("no-app",{appName:r});return t}function ss(r,t,n){let s=Ax[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),di.warn(f.join(" "));return}Do(new fa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="firebase-heartbeat-database",Cx=1,wu="firebase-heartbeat-store";let _m=null;function OS(){return _m||(_m=GC(Ix,Cx,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),_m}async function xx(r){try{const n=(await OS()).transaction(wu),s=await n.objectStore(wu).get(MS(r));return await n.done,s}catch(t){if(t instanceof _i)di.warn(t.message);else{const n=is.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});di.warn(n.message)}}}async function hT(r,t){try{const s=(await OS()).transaction(wu,"readwrite");await s.objectStore(wu).put(t,MS(r)),await s.done}catch(n){if(n instanceof _i)di.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(s.message)}}}function MS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=1024,Nx=30;class Ox{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=fT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Nx){const f=Px(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){di.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fT(),{heartbeatsToSend:s,unsentEntries:o}=Mx(this._heartbeatsCache.heartbeats),u=Jh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return di.warn(n),""}}}function fT(){return new Date().toISOString().substring(0,10)}function Mx(r,t=Dx){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),dT(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),dT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Vx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return hT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return hT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function dT(r){return Jh(JSON.stringify({version:2,heartbeats:r})).length}function Px(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r){Do(new fa("platform-logger",t=>new KC(t),"PRIVATE")),Do(new fa("heartbeat",t=>new Ox(t),"PRIVATE")),ss(zm,uT,r),ss(zm,uT,"esm2020"),ss("fire-js","")}kx("");function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lx=VS,PS=new Lu("auth","Firebase",VS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new wg("@firebase/auth");function Ux(r,...t){ef.logLevel<=Pt.WARN&&ef.warn(`Auth (${Ho}): ${r}`,...t)}function Uh(r,...t){ef.logLevel<=Pt.ERROR&&ef.error(`Auth (${Ho}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(r,...t){throw Ig(r,...t)}function Ir(r,...t){return Ig(r,...t)}function kS(r,t,n){const s={...Lx(),[t]:n};return new Lu("auth","Firebase",s).create(t,{appName:r.name})}function ci(r){return kS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ig(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return PS.create(r,...t)}function St(r,t,...n){if(!r)throw Ig(t,...n)}function oi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uh(t),new Error(t)}function pi(r,t){r||oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function jx(){return pT()==="http:"||pT()==="https:"}function pT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jx()||gC()||"connection"in navigator)?navigator.onLine:!0}function Bx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n){this.shortDelay=t,this.longDelay=n,pi(n>t,"Short delay should be less than long delay!"),this.isMobile=dC()||yC()}get(){return zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(r,t){pi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Fx=new ju(3e4,6e4);function gs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function vi(r,t,n,s,o={}){return US(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=Uu({key:r.config.apiKey,...f}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:m,...u};return mC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&qo(r.emulatorConfig.host)&&(g.credentials="include"),LS.fetch()(await jS(r,r.config.apiHost,n,p),g)})}async function US(r,t,n){r._canInitEmulator=!1;const s={...qx,...t};try{const o=new $x(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ah(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Ah(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw Ah(r,"user-disabled",f);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kS(r,v,g);ar(r,v)}}catch(o){if(o instanceof _i)throw o;ar(r,"network-request-failed",{message:String(o)})}}async function zu(r,t,n,s,o={}){const u=await vi(r,t,n,s,o);return"mfaPendingCredential"in u&&ar(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function jS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Cg(r.config,o):`${r.config.apiScheme}://${o}`;return Hx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Gx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $x{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ir(this.auth,"network-request-failed")),Fx.get())})}}function Ah(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ir(r,t,s);return o.customData._tokenResponse=n,o}function mT(r){return r!==void 0&&r.enterprise!==void 0}class Qx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Gx(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kx(r,t){return vi(r,"GET","/v2/recaptchaConfig",gs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(r,t){return vi(r,"POST","/v1/accounts:delete",t)}async function nf(r,t){return vi(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xx(r,t=!1){const n=xe(r),s=await n.getIdToken(t),o=xg(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:mu(vm(o.auth_time)),issuedAtTime:mu(vm(o.iat)),expirationTime:mu(vm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function vm(r){return Number(r)*1e3}function xg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=SS(n);return o?JSON.parse(o):(Uh("Failed to decode base64 JWT payload"),null)}catch(o){return Uh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function gT(r){const t=xg(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof _i&&Wx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Wx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(r){var T;const t=r.auth,n=await r.getIdToken(),s=await No(r,nf(t,{idToken:n}));St(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?zS(o.providerUserInfo):[],f=tD(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=p?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function Jx(r){const t=xe(r);await rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function zS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,t){const n=await US(r,{},async()=>{const s=Uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await jS(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&qo(r.emulatorConfig.host)&&(m.credentials="include"),LS.fetch()(f,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nD(r,t){return vi(r,"POST","/v2/accounts:revokeToken",gs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=gT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await eD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new So;return s&&(St(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class nr{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await No(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Xx(this,t)}reload(){return Jx(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new nr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await rf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(ci(this.auth));const t=await this.getIdToken();return await No(this,Yx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:N,providerData:U,stsTokenManager:H}=n;St(T&&H,t,"internal-error");const F=So.fromJSON(this.name,H);St(typeof T=="string",t,"internal-error"),Ki(s,t.name),Ki(o,t.name),St(typeof A=="boolean",t,"internal-error"),St(typeof N=="boolean",t,"internal-error"),Ki(u,t.name),Ki(f,t.name),Ki(p,t.name),Ki(m,t.name),Ki(g,t.name),Ki(v,t.name);const J=new nr({uid:T,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:F,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(J.providerData=U.map(W=>({...W}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(t,n,s=!1){const o=new So;o.updateFromServerResponse(n);const u=new nr({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await rf(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?zS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new So;p.updateFromIdToken(s);const m=new nr({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Map;function li(r){pi(r instanceof Function,"Expected a class definition");let t=yT.get(r);return t?(pi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,yT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}BS.type="NONE";const _T=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(r,t,n){return`firebase:${r}:${t}:${n}`}class Ao{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=jh(this.userKey,o.apiKey,u),this.fullPersistenceKey=jh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await nf(this.auth,{idToken:t}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,t):null}return nr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ao(li(_T),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||li(_T);const f=jh(s,t.config.apiKey,t.name);let p=null;for(const g of n)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const A=await nf(t,{idToken:v}).catch(()=>{});if(!A)break;T=await nr._fromGetAccountInfoResponse(t,A,v)}else T=nr._fromJSON(t,v);g!==u&&(p=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Ao(u,t,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ao(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QS(t))return"Blackberry";if(KS(t))return"Webos";if(HS(t))return"Safari";if((t.includes("chrome/")||FS(t))&&!t.includes("edge/"))return"Chrome";if($S(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function qS(r=ln()){return/firefox\//i.test(r)}function HS(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FS(r=ln()){return/crios\//i.test(r)}function GS(r=ln()){return/iemobile/i.test(r)}function $S(r=ln()){return/android/i.test(r)}function QS(r=ln()){return/blackberry/i.test(r)}function KS(r=ln()){return/webos/i.test(r)}function Dg(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rD(r=ln()){var t;return Dg(r)&&!!((t=window.navigator)!=null&&t.standalone)}function iD(){return _C()&&document.documentMode===10}function YS(r=ln()){return Dg(r)||$S(r)||KS(r)||QS(r)||/windows phone/i.test(r)||GS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(r,t=[]){let n;switch(r){case"Browser":n=vT(ln());break;case"Worker":n=`${vT(ln())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const m=t(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(r,t={}){return vi(r,"GET","/v2/passwordPolicy",gs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=6;class lD{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new sD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await nf(this,{idToken:t}),s=await nr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if($n(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===p)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(ci(this));const n=t?xe(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aD(this),n=new lD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&li(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=t.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&Ux(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _a(r){return xe(r)}class ET{constructor(t){this.auth=t,this.observer=null,this.addObserver=RC(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cD(r){Of=r}function WS(r){return Of.loadJS(r)}function hD(){return Of.recaptchaEnterpriseScript}function fD(){return Of.gapiScript}function dD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class pD{constructor(){this.enterprise=new mD}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class mD{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const gD="recaptcha-enterprise",ZS="NO_RECAPTCHA";class yD{constructor(t){this.type=gD,this.auth=_a(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{Kx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Qx(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;mT(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(ZS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&mT(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=hD();m.length!==0&&(m+=p),WS(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function TT(r,t,n,s=!1,o=!1){const u=new yD(r);let f;if(o)f=ZS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Gm(r,t,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await TT(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await TT(r,t,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r,t){const n=Rg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ha(u,t??{}))return o;ar(o,"already-initialized")}return n.initialize({options:t})}function vD(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(li);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function ED(r,t,n){const s=_a(r);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=JS(t),{host:f,port:p}=TD(t),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(ha(g,s.config.emulator)&&ha(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,qo(f)?(RS(`${u}//${f}${m}`),IS("Auth",!0)):SD()}function JS(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function TD(r){const t=JS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ST(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:ST(f)}}}function ST(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function SD(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(t){return oi("not implemented")}_linkToIdToken(t,n){return oi("not implemented")}_getReauthenticationResolver(t){return oi("not implemented")}}async function AD(r,t){return vi(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,t){return zu(r,"POST","/v1/accounts:signInWithPassword",gs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(r,t){return zu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,t))}async function RD(r,t){return zu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Ng{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new bu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new bu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(t,n,"signInWithPassword",wD);case"emailLink":return bD(t,{email:this._email,oobCode:this._password});default:ar(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(t,s,"signUpPassword",AD);case"emailLink":return RD(t,{idToken:n,email:this._email,oobCode:this._password});default:ar(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,t){return zu(r,"POST","/v1/accounts:signInWithIdp",gs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="http://localhost";class da extends Ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new da(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return wo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,wo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,wo(t,n)}buildRequest(){const t={requestUri:ID,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Uu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xD(r){const t=ou(lu(r)).link,n=t?ou(lu(t)).deep_link_id:null,s=ou(lu(r)).deep_link_id;return(s?ou(lu(s)).link:null)||s||n||t||r}class Og{constructor(t){const n=ou(lu(t)),s=n.apiKey??null,o=n.oobCode??null,u=CD(n.mode??null);St(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=xD(t);try{return new Og(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(t,n){return bu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Og.parseLink(n);return St(s,"argument-error"),bu._fromEmailAndCode(t,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Bu{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wi.credential(t.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return da._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Zi.credential(n,s)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Bu{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ji.credential(t.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Bu{constructor(){super("twitter.com")}static credential(t,n){return da._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(r,t){return zu(r,"POST","/v1/accounts:signUp",gs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await nr._fromIdTokenResponse(t,s,o),f=AT(s);return new pa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=AT(s);return new pa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function AT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends _i{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new sf(t,n,s,o)}}function e1(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(r,u,t,s):u})}async function ND(r,t,n=!1){const s=await No(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return pa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(r,t,n=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(ci(s));const o="reauthenticate";try{const u=await No(r,e1(s,o,t,r),n);St(u.idToken,s,"internal-error");const f=xg(u.idToken);St(f,s,"internal-error");const{sub:p}=f;return St(r.uid===p,s,"user-mismatch"),pa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ar(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(r,t,n=!1){if($n(r.app))return Promise.reject(ci(r));const s="signIn",o=await e1(r,s,t),u=await pa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function MD(r,t){return n1(_a(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(r){const t=_a(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function VD(r,t,n){if($n(r.app))return Promise.reject(ci(r));const s=_a(r),f=await Gm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&r1(r),m}),p=await pa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function PD(r,t,n){return $n(r.app)?Promise.reject(ci(r)):MD(xe(r),Fo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&r1(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(r,t){return vi(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=xe(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await No(s,kD(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function UD(r,t,n,s){return xe(r).onIdTokenChanged(t,n,s)}function jD(r,t,n){return xe(r).beforeAuthStateChanged(t,n)}function Mf(r,t,n,s){return xe(r).onAuthStateChanged(t,n,s)}function zD(r){return xe(r).signOut()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=1e3,qD=10;class s1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);iD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,qD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}s1.type="LOCAL";const HD=s1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}a1.type="SESSION";const o1=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Vf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await FD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=Mg("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function $D(r){Cr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function QD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function YD(){return l1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebaseLocalStorageDb",XD=1,of="firebaseLocalStorage",c1="fbase_key";class qu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pf(r,t){return r.transaction([of],t?"readwrite":"readonly").objectStore(of)}function WD(){const r=indexedDB.deleteDatabase(u1);return new qu(r).toPromise()}function $m(){const r=indexedDB.open(u1,XD);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(of,{keyPath:c1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(of)?t(s):(s.close(),await WD(),t(await $m()))})})}async function wT(r,t,n){const s=Pf(r,!0).put({[c1]:t,value:n});return new qu(s).toPromise()}async function ZD(r,t){const n=Pf(r,!1).get(t),s=await new qu(n).toPromise();return s===void 0?null:s.value}function bT(r,t){const n=Pf(r,!0).delete(t);return new qu(n).toPromise()}const JD=800,tN=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>tN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(YD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await QD(),!this.activeServiceWorker)return;this.sender=new GD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $m();return await wT(t,af,"1"),await bT(t,af),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>ZD(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>bT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Pf(o,!1).getAll();return new qu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const eN=h1;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(r,t){return t?li(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Ng{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return wo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function rN(r){return n1(r.auth,new Vg(r),r.bypassAuthState)}function iN(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),OD(n,new Vg(r),r.bypassAuthState)}async function sN(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),ND(n,new Vg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rN;case"linkViaPopup":case"linkViaRedirect":return sN;case"reauthViaPopup":case"reauthViaRedirect":return iN;default:ar(this.auth,"internal-error")}}resolve(t){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new ju(2e3,1e4);class To extends f1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const t=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aN.get())};t()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="pendingRedirect",zh=new Map;class lN extends f1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=zh.get(this.auth._key());if(!t){try{const s=await uN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}zh.set(this.auth._key(),t)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uN(r,t){const n=fN(t),s=hN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function cN(r,t){zh.set(r._key(),t)}function hN(r){return li(r._redirectPersistence)}function fN(r){return jh(oN,r.config.apiKey,r.name)}async function dN(r,t,n=!1){if($n(r.app))return Promise.reject(ci(r));const s=_a(r),o=nN(s,t),f=await new lN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=600*1e3;class mN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!d1(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pN&&this.cachedEventUids.clear(),this.cachedEventUids.has(RT(t))}saveEventToCache(t){this.cachedEventUids.add(RT(t)),this.lastProcessedEventTime=Date.now()}}function RT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function d1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function gN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(r,t={}){return vi(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vN=/^https?/;async function EN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await yN(r);for(const n of t)try{if(TN(n))return}catch{}ar(r,"unauthorized-domain")}function TN(r){const t=Hm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!vN.test(n))return!1;if(_N.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new ju(3e4,6e4);function IT(){const r=Cr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function AN(r){return new Promise((t,n)=>{var o,u,f;function s(){IT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{IT(),n(Ir(r,"network-request-failed"))},timeout:SN.get()})}if((u=(o=Cr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Cr().gapi)!=null&&f.load)s();else{const p=dD("iframefcb");return Cr()[p]=()=>{gapi.load?s():n(Ir(r,"network-request-failed"))},WS(`${fD()}?onload=${p}`).catch(m=>n(m))}}).catch(t=>{throw Bh=null,t})}let Bh=null;function wN(r){return Bh=Bh||AN(r),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new ju(5e3,15e3),RN="__/auth/iframe",IN="emulator/auth/iframe",CN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DN(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Cg(t,IN):`https://${r.config.authDomain}/${RN}`,s={apiKey:t.apiKey,appName:r.name,v:Ho},o=xN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Uu(s).slice(1)}`}async function NN(r){const t=await wN(r),n=Cr().gapi;return St(n,r,"internal-error"),t.open({where:document.body,url:DN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ir(r,"network-request-failed"),p=Cr().setTimeout(()=>{u(f)},bN.get());function m(){Cr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MN=500,VN=600,PN="_blank",kN="http://localhost";class CT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LN(r,t,n,s=MN,o=VN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...ON,width:s.toString(),height:o.toString(),top:u,left:f},g=ln().toLowerCase();n&&(p=FS(g)?PN:n),qS(g)&&(t=t||kN,m.scrollbars="yes");const v=Object.entries(m).reduce((A,[N,U])=>`${A}${N}=${U},`,"");if(rD(g)&&p!=="_self")return UN(t||"",p),new CT(null);const T=window.open(t||"",p,v);St(T,r,"popup-blocked");try{T.focus()}catch{}return new CT(T)}function UN(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",zN="emulator/auth/handler",BN=encodeURIComponent("fac");async function xT(r,t,n,s,o,u){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ho,eventId:o};if(t instanceof t1){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",bC(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(t instanceof Bu){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await r._getAppCheckToken(),g=m?`#${BN}=${encodeURIComponent(m)}`:"";return`${qN(r)}?${Uu(p).slice(1)}${g}`}function qN({config:r}){return r.emulator?Cg(r,zN):`https://${r.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="webStorageSupport";class HN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o1,this._completeRedirectFn=dN,this._overrideRedirectResult=cN}async _openPopup(t,n,s,o){var f;pi((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await xT(t,n,s,Hm(),o);return LN(t,u,Mg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await xT(t,n,s,Hm(),o);return $D(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await NN(t),s=new mN(t);return n.register("authEvent",o=>(St(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Em,{type:Em},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[Em];u!==void 0&&n(!!u),ar(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return YS()||HS()||Dg()}}const FN=HN;var DT="@firebase/auth",NT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QN(r){Do(new fa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(r)},g=new uD(s,o,u,m);return vD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Do(new fa("auth-internal",t=>{const n=_a(t.getProvider("auth").getImmediate());return(s=>new GN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(DT,NT,$N(r)),ss(DT,NT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=300,YN=bS("authIdTokenMaxAge")||KN;let OT=null;const XN=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>YN)return;const o=n==null?void 0:n.token;OT!==o&&(OT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WN(r=NS()){const t=Rg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=_D(r,{popupRedirectResolver:FN,persistence:[eN,HD,o1]}),s=bS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=XN(u.toString());jD(n,f,()=>f(n.currentUser)),UD(n,p=>f(p))}}const o=AS("auth");return o&&ED(n,`http://${o}`),n}function ZN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}cD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ir("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ZN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QN("Browser");var JN="firebase",tO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(JN,tO,"app");var MT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,p1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,b){function I(){}I.prototype=b.prototype,x.D=b.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(V,P,L){for(var D=Array(arguments.length-2),De=2;De<arguments.length;De++)D[De-2]=arguments[De];return b.prototype[P].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,I){I||(I=0);var V=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)V[P]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(P=0;16>P;++P)V[P]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=x.g[0],I=x.g[1],P=x.g[2];var L=x.g[3],D=b+(L^I&(P^L))+V[0]+3614090360&4294967295;b=I+(D<<7&4294967295|D>>>25),D=L+(P^b&(I^P))+V[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=P+(I^L&(b^I))+V[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(b^P&(L^b))+V[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=b+(L^I&(P^L))+V[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(P^b&(I^P))+V[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=P+(I^L&(b^I))+V[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(b^P&(L^b))+V[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=b+(L^I&(P^L))+V[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(P^b&(I^P))+V[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=P+(I^L&(b^I))+V[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(b^P&(L^b))+V[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=b+(L^I&(P^L))+V[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(P^b&(I^P))+V[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=P+(I^L&(b^I))+V[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(b^P&(L^b))+V[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=b+(P^L&(I^P))+V[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(b^I))+V[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=P+(b^I&(L^b))+V[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(P^L))+V[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=b+(P^L&(I^P))+V[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(b^I))+V[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=P+(b^I&(L^b))+V[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(P^L))+V[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=b+(P^L&(I^P))+V[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(b^I))+V[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=P+(b^I&(L^b))+V[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(P^L))+V[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=b+(P^L&(I^P))+V[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(b^I))+V[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=P+(b^I&(L^b))+V[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(P^L))+V[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=b+(I^P^L)+V[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^P)+V[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=P+(L^b^I)+V[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^b)+V[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=b+(I^P^L)+V[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^P)+V[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=P+(L^b^I)+V[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^b)+V[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=b+(I^P^L)+V[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^P)+V[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=P+(L^b^I)+V[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^b)+V[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=b+(I^P^L)+V[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^P)+V[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=P+(L^b^I)+V[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^b)+V[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=b+(P^(I|~L))+V[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~P))+V[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=P+(b^(L|~I))+V[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~b))+V[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=b+(P^(I|~L))+V[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~P))+V[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=P+(b^(L|~I))+V[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~b))+V[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=b+(P^(I|~L))+V[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~P))+V[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=P+(b^(L|~I))+V[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~b))+V[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=b+(P^(I|~L))+V[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~P))+V[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=P+(b^(L|~I))+V[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~b))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var I=b-this.blockSize,V=this.B,P=this.h,L=0;L<b;){if(P==0)for(;L<=I;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<b;)if(V[P++]=x.charCodeAt(L++),P==this.blockSize){o(this,V),P=0;break}}else for(;L<b;)if(V[P++]=x[L++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var I=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=I&255,I/=256;for(this.u(x),x=Array(16),b=I=0;4>b;++b)for(var V=0;32>V;V+=8)x[I++]=this.g[b]>>>V&255;return x};function u(x,b){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=b(x)}function f(x,b){this.h=b;for(var I=[],V=!0,P=x.length-1;0<=P;P--){var L=x[P]|0;V&&L==b||(I[P]=L,V=!1)}this.g=I}var p={};function m(x){return-128<=x&&128>x?u(x,function(b){return new f([b|0],0>b?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return F(g(-x));for(var b=[],I=1,V=0;x>=I;V++)b[V]=x/I|0,I*=4294967296;return new f(b,0)}function v(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return F(v(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(b,8)),V=T,P=0;P<x.length;P+=8){var L=Math.min(8,x.length-P),D=parseInt(x.substring(P,P+L),b);8>L?(L=g(Math.pow(b,L)),V=V.j(L).add(g(D))):(V=V.j(I),V=V.add(g(D)))}return V}var T=m(0),A=m(1),N=m(16777216);r=f.prototype,r.m=function(){if(H(this))return-F(this).m();for(var x=0,b=1,I=0;I<this.g.length;I++){var V=this.i(I);x+=(0<=V?V:4294967296+V)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(H(this))return"-"+F(this).toString(x);for(var b=g(Math.pow(x,6)),I=this,V="";;){var P=ut(I,b).g;I=J(I,P.j(b));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=P,U(I))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function H(x){return x.h==-1}r.l=function(x){return x=J(this,x),H(x)?-1:U(x)?0:1};function F(x){for(var b=x.g.length,I=[],V=0;V<b;V++)I[V]=~x.g[V];return new f(I,~x.h).add(A)}r.abs=function(){return H(this)?F(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),I=[],V=0,P=0;P<=b;P++){var L=V+(this.i(P)&65535)+(x.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);V=D>>>16,L&=65535,D&=65535,I[P]=D<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(x,b){return x.add(F(b))}r.j=function(x){if(U(this)||U(x))return T;if(H(this))return H(x)?F(this).j(F(x)):F(F(this).j(x));if(H(x))return F(this.j(F(x)));if(0>this.l(N)&&0>x.l(N))return g(this.m()*x.m());for(var b=this.g.length+x.g.length,I=[],V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<x.g.length;P++){var L=this.i(V)>>>16,D=this.i(V)&65535,De=x.i(P)>>>16,ae=x.i(P)&65535;I[2*V+2*P]+=D*ae,W(I,2*V+2*P),I[2*V+2*P+1]+=L*ae,W(I,2*V+2*P+1),I[2*V+2*P+1]+=D*De,W(I,2*V+2*P+1),I[2*V+2*P+2]+=L*De,W(I,2*V+2*P+2)}for(V=0;V<b;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=b;V<2*b;V++)I[V]=0;return new f(I,0)};function W(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function rt(x,b){this.g=x,this.h=b}function ut(x,b){if(U(b))throw Error("division by zero");if(U(x))return new rt(T,T);if(H(x))return b=ut(F(x),b),new rt(F(b.g),F(b.h));if(H(b))return b=ut(x,F(b)),new rt(F(b.g),b.h);if(30<x.g.length){if(H(x)||H(b))throw Error("slowDivide_ only works with positive integers.");for(var I=A,V=b;0>=V.l(x);)I=lt(I),V=lt(V);var P=ft(I,1),L=ft(V,1);for(V=ft(V,2),I=ft(I,2);!U(V);){var D=L.add(V);0>=D.l(x)&&(P=P.add(I),L=D),V=ft(V,1),I=ft(I,1)}return b=J(x,P.j(b)),new rt(P,b)}for(P=T;0<=x.l(b);){for(I=Math.max(1,Math.floor(x.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=g(I),D=L.j(b);H(D)||0<D.l(x);)I-=V,L=g(I),D=L.j(b);U(L)&&(L=A),P=P.add(L),x=J(x,D)}return new rt(P,x)}r.A=function(x){return ut(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),I=[],V=0;V<b;V++)I[V]=this.i(V)&x.i(V);return new f(I,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),I=[],V=0;V<b;V++)I[V]=this.i(V)|x.i(V);return new f(I,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),I=[],V=0;V<b;V++)I[V]=this.i(V)^x.i(V);return new f(I,this.h^x.h)};function lt(x){for(var b=x.g.length+1,I=[],V=0;V<b;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(I,x.h)}function ft(x,b){var I=b>>5;b%=32;for(var V=x.g.length-I,P=[],L=0;L<V;L++)P[L]=0<b?x.i(L+I)>>>b|x.i(L+I+1)<<32-b:x.i(L+I);return new f(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,p1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,as=f}).apply(typeof MT<"u"?MT:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m1,uu,g1,qh,Qm,y1,_1,v1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break t;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,Q){for(var at=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)at[Ut-2]=arguments[Ut];return y.prototype[j].apply(w,at)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const j=c.length||0,Q=w.length||0;c.length=j+Q;for(let at=0;at<Q;at++)c[j+at]=w[at]}else c.push(w)}}class J{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function rt(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var lt=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function ft(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let Q=0;Q<I.length;Q++)_=I[Q],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Ct;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,_){const w=ae.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ae=new J(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,mt=!1,Ct=new De,O=()=>{const c=p.Promise.resolve(void 0);ot=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=ae;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}mt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function It(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{ut(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:vt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}U(It,it);var vt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Le(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++qt,this.da=this.fa=!1}function On(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pn(c){this.src=c,this.g={},this.h=0}pn.prototype.add=function(c,y,_,w,j){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var at=vs(c,y,w,j);return-1<at?(y=c[at],_||(y.fa=!1)):(y=new Le(y,this.src,Q,!!w,j),y.fa=_,c.push(y)),y};function tn(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=0<=j)&&Array.prototype.splice.call(w,j,1),Q&&(On(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function vs(c,y,_,w){for(var j=0;j<c.length;++j){var Q=c[j];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==w)return j}return-1}var Es="closure_lm_"+(1e6*Math.random()|0),Yo={};function Xu(c,y,_,w,j){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Xu(c,y[Q],_,w,j);return null}return _=Wu(_),c&&c[ce]?c.K(y,_,g(w)?!!w.capture:!1,j):Mn(c,y,_,!1,w,j)}function Mn(c,y,_,w,j,Q){if(!y)throw Error("Invalid event type");var at=g(j)?!!j.capture:!!j,Ut=Aa(c);if(Ut||(c[Es]=Ut=new pn(c)),_=Ut.add(y,_,w,at,Q),_.proxy)return _;if(w=nd(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)gt||(j=at),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(Ts(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nd(){function c(_){return y.call(c.src,c.listener,_)}const y=rd;return c}function Xo(c,y,_,w,j){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Xo(c,y[Q],_,w,j);else w=g(w)?!!w.capture:!!w,_=Wu(_),c&&c[ce]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=vs(Q,_,w,j),-1<_&&(On(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Aa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=vs(y,_,w,j)),(_=-1<c?y[c]:null)&&Sa(_))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ce])tn(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Ts(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Aa(y))?(tn(_,c),_.h==0&&(_.src=null,y[Es]=null)):On(c)}}}function Ts(c){return c in Yo?Yo[c]:Yo[c]="on"+c}function rd(c,y){if(c.da)c=!0;else{y=new It(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Sa(c),c=_.call(w,y)}return c}function Aa(c){return c=c[Es],c instanceof pn?c:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wu(c){return typeof c=="function"?c:(c[Wo]||(c[Wo]=function(y){return c.handleEvent(y)}),c[Wo])}function de(){st.call(this),this.i=new pn(this),this.M=this,this.F=null}U(de,st),de.prototype[ce]=!0,de.prototype.removeEventListener=function(c,y,_,w){Xo(this,c,y,_,w)};function Kt(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var j=y;y=new it(w,c),V(y,j)}if(j=!0,_)for(var Q=_.length-1;0<=Q;Q--){var at=y.g=_[Q];j=En(at,w,!0,y)&&j}if(at=y.g=c,j=En(at,w,!0,y)&&j,j=En(at,w,!1,y)&&j,_)for(Q=0;Q<_.length;Q++)at=y.g=_[Q],j=En(at,w,!1,y)&&j}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)On(_[w]);delete c.g[y],c.h--}}this.F=null},de.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},de.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function En(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Q=0;Q<y.length;++Q){var at=y[Q];if(at&&!at.da&&at.capture==_){var Ut=at.listener,Oe=at.ha||at.src;at.fa&&tn(c.i,at),j=Ut.call(Oe,w)!==!1&&j}}return j&&!w.defaultPrevented}function en(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Zu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,Zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class id extends st{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Zu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){st.call(this),this.h=c,this.g={}}U(Ss,st);var As=[];function ws(c){ft(c.g,function(y,_){this.g.hasOwnProperty(_)&&Sa(y)},c),c.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),ws(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=p.JSON.stringify,wa=p.JSON.parse,bs=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Zo(){}Zo.prototype.h=null;function Jo(c){return c.h||(c.h=c.i())}function tl(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){it.call(this,"d")}U(kr,it);function el(){it.call(this,"c")}U(el,it);var ur={},nl=null;function Ei(){return nl=nl||new de}ur.La="serverreachability";function ba(c){it.call(this,ur.La,c)}U(ba,it);function Ti(c){const y=Ei();Kt(y,new ba(y))}ur.STAT_EVENT="statevent";function Ju(c,y){it.call(this,ur.STAT_EVENT,c),this.stat=y}U(Ju,it);function oe(c){const y=Ei();Kt(y,new Ju(y,c))}ur.Ma="timingevent";function Ne(c,y){it.call(this,ur.Ma,c),this.size=y}U(Ne,it);function Te(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function rl(c,y,_,w,j,Q){c.info(function(){if(c.g)if(Q)for(var at="",Ut=Q.split("&"),Oe=0;Oe<Ut.length;Oe++){var jt=Ut[Oe].split("=");if(1<jt.length){var je=jt[0];jt=jt[1];var Me=je.split("_");at=2<=Me.length&&Me[1]=="type"?at+(je+"="+jt+"&"):at+(je+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+at})}function sd(c,y,_,w,j,Q,at){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+Q+" "+at})}function Si(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Rs(c,_)+(w?" "+w:"")})}function tc(c,y){c.info(function(){return"TIMEOUT: "+y})}Vn.prototype.info=function(){};function Rs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<j.length;at++)j[at]=""}}}}return Yn(_)}catch{return y}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function hr(){}U(hr,Zo),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},cr=new hr;function un(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var il={},Ra={};function Xn(c,y,_){c.L=1,c.v=Ns(Tn(y)),c.m=_,c.P=!0,Ur(c,null)}function Ur(c,y){c.F=Date.now(),Is(c),c.A=Tn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),cl(_.i,"t",w),c.C=0,_=c.j.J,c.h=new ye,c.g=gc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new id(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(As[0]=j.toString()),j=As);for(var Q=0;Q<j.length;Q++){var at=Xu(_,j[Q],w||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ti(),rl(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&Un(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)t:{const Me=Un(this.g);var y=this.g.Ba();const $r=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||Me!=4||y==7||(y==8||0>=$r?Ti(3):Ti(2)),wi(this);var _=this.g.Z();this.X=_;e:if(ec(this)){var w=lc(this.g);c="";var j=w.length,Q=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),fr(this);var at="";break e}this.h.i=new p.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Q&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,sd(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Oe=this.g;if((Ut=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ut)){var jt=Ut;break e}}jt=null}if(_=jt)Si(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cs(this,_);else{this.o=!1,this.s=3,oe(12),$e(this),fr(this);break t}}if(this.P){_=!0;let Qe;for(;!this.J&&this.C<at.length;)if(Qe=nc(this,at),Qe==Ra){Me==4&&(this.s=4,oe(14),_=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==il){this.s=4,oe(15),Si(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Si(this.i,this.l,Qe,null),Cs(this,Qe);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||at.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)Si(this.i,this.l,at,"[Invalid Chunked Response]"),$e(this),fr(this);else if(0<at.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),js(je),je.M=!0,oe(11))}}else Si(this.i,this.l,at,null),Cs(this,at);Me==4&&$e(this),this.o&&!this.J&&(Me==4?dc(this.j,this):(this.o=!1,Is(this)))}else cd(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),$e(this),fr(this)}}}catch{}finally{}};function ec(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nc(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Ra:(_=Number(y.substring(_,w)),isNaN(_)?il:(w+=1,w+_>y.length?Ra:(y=y.slice(w,w+_),c.C=w+_,y)))}un.prototype.cancel=function(){this.J=!0,$e(this)};function Is(c){c.S=Date.now()+c.I,rc(c,c.I)}function rc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Te(A(c.ba,c),y)}function wi(c){c.B&&(p.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(tc(this.i,this.A),this.L!=2&&(Ti(),oe(17)),$e(this),this.s=2,fr(this)):rc(this,this.S-c)};function fr(c){c.j.G==0||c.J||dc(c.j,c)}function $e(c){wi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ws(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Cs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||sl(_.h,c))){if(!c.K&&sl(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ua(_),ka(_);else break t;ml(_),oe(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(A(_.Za,_),6e3));if(1>=Ca(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gr(_,11)}else if((c.K||_.g==c)&&Ua(_),!W(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let jt=j[y];if(_.T=jt[0],jt=jt[1],_.G==2)if(jt[0]=="c"){_.K=jt[1],_.ia=jt[2];const je=jt[3];je!=null&&(_.la=je,_.j.info("VER="+_.la));const Me=jt[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const $r=jt[5];$r!=null&&typeof $r=="number"&&0<$r&&(w=1.5*$r,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Qe=c.g;if(Qe){const vr=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var Q=w.h;Q.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(xa(Q,Q.h),Q.h=null))}if(w.D){const yl=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(w.ya=yl,Wt(w.I,w.D,yl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var at=c;if(w.qa=mc(w,w.J?w.ia:null,w.W),at.K){cn(w.h,at);var Ut=at,Oe=w.L;Oe&&(Ut.I=Oe),Ut.B&&(wi(Ut),Is(Ut)),w.g=at}else hc(w);0<_.i.length&&La(_)}else jt[0]!="stop"&&jt[0]!="close"||Gr(_,7);else _.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Gr(_,7):dl(_):jt[0]!="noop"&&_.l&&_.l.ta(jt),_.v=0)}}Ti(4)}catch{}}var ic=class{constructor(c,y){this.g=c,this.map=y}};function jr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ca(c){return c.h?1:c.g?c.g.size:0}function sl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function xa(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jr.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function al(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function ad(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function ol(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Da(c),w=ad(c),j=w.length,Q=0;Q<j;Q++)y.call(void 0,w[Q],_&&_[Q],c)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var Q=c[_].substring(0,w);j=c[_].substring(w+1)}else Q=c[_];y(Q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,Ds(this,c.j),this.o=c.o,this.g=c.g,bi(this,c.s),this.l=c.l;var y=c.i,_=new Br;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),zr(this,_),this.m=c.m}else c&&(y=String(c).match(xs))?(this.h=!1,Ds(this,y[1]||"",!0),this.o=Pn(y[2]||""),this.g=Pn(y[3]||"",!0),bi(this,y[4]),this.l=Pn(y[5]||"",!0),zr(this,y[6]||"",!0),this.m=Pn(y[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}Se.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Os(y,ll,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,ll,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Os(_,_.charAt(0)=="/"?ld:ul,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Os(_,Na)),c.join("")};function Tn(c){return new Se(c)}function Ds(c,y,_){c.j=_?Pn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function bi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function zr(c,y,_){y instanceof Br?(c.i=y,ac(c.i,c.h)):(_||(y=Os(y,ud)),c.i=new Br(y,c.h))}function Wt(c,y,_){c.i.set(y,_)}function Ns(c){return Wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,sc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ll=/[#\/\?@]/g,ul=/[#\?:]/g,ld=/[#\?]/g,ud=/[#\?@]/g,Na=/#/g;function Br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&od(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Br.prototype,r.add=function(c,y){kn(this),this.i=null,c=dr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function qr(c,y){kn(c),y=dr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Hr(c,y){return kn(c),y=dr(c,y),c.g.has(y)}r.forEach=function(c,y){kn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},r.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let Q=0;Q<j.length;Q++)_.push(y[w])}return _},r.V=function(c){kn(this);let y=[];if(typeof c=="string")Hr(this,c)&&(y=y.concat(this.g.get(dr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return kn(this),this.i=null,c=dr(this,c),Hr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function cl(c,y,_){qr(c,y),0<_.length&&(c.i=null,c.g.set(dr(c,y),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Q=encodeURIComponent(String(w)),at=this.V(w);for(w=0;w<at.length;w++){var j=Q;at[w]!==""&&(j+="="+encodeURIComponent(String(at[w]))),c.push(j)}}return this.i=c.join("&")};function dr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ac(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(qr(this,w),cl(this,j,_))},c)),c.j=y}function Ms(c,y){const _=new Vn;if(p.Image){const w=new Image;w.onload=N(Ln,_,"TestLoadImage: loaded",!0,y,w),w.onerror=N(Ln,_,"TestLoadImage: error",!1,y,w),w.onabort=N(Ln,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=N(Ln,_,"TestLoadImage: timeout",!1,y,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Wn(c,y){const _=new Vn,w=new AbortController,j=setTimeout(()=>{w.abort(),Ln(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(j),Q.ok?Ln(_,"TestPingServer: ok",!0,y):Ln(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Ln(_,"TestPingServer: error",!1,y)})}function Ln(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function Vs(){this.g=new bs}function pr(c,y,_){const w=_||"";try{ol(c,function(j,Q){let at=j;g(j)&&(at=Yn(j)),y.push(w+Q+"="+encodeURIComponent(at))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function Ri(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Ri,Zo),Ri.prototype.g=function(){return new Fr(this.l,this.j)},Ri.prototype.i=function(c){return function(){return c}}({});function Fr(c,y){de.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Fr,de),r=Fr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mr(this):gr(this),this.readyState==3&&hl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,mr(this))},r.Qa=function(c){this.g&&(this.response=c,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fl(c){let y="";return ft(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Ue(c,y,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=fl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Wt(c,y,_))}function Gt(c){de.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Gt,de);var Oa=/^https?$/i,Ps=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?Jo(this.o):Jo(cr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){oc(this,Q);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())_.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ps,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of _)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){oc(this,Q)}};function oc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ma(c),yr(c)}function Ma(c){c.A||(c.A=!0,Kt(c,"complete"),Kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Kt(this,"complete"),Kt(this,"abort"),yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},r.bb=function(){Va(this)};function Va(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)en(c.Ea,0,c);else if(Kt(c,"readystatechange"),Un(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var w;if(w=at===0){var j=String(c.D).match(xs)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),w=!Oa.test(j?j.toLowerCase():"")}_=w}if(_)Kt(c,"complete"),Kt(c,"success");else{c.m=6;try{var Q=2<Un(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ma(c)}}finally{yr(c)}}}}function yr(c,y){if(c.g){ks(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Kt(c,"ready");try{_.onreadystatechange=w}catch{}}}function ks(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),wa(y)}};function lc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cd(c){const y={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(W(c[w]))continue;var _=P(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[j]||[];y[j]=Q,Q.push(_)}x(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Pa(c){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,c),this.cb=Ls("retryDelaySeedMs",1e4,c),this.Wa=Ls("forwardChannelMaxRetries",2,c),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jr(c&&c.concurrentRequestLimit),this.Da=new Vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){oe(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=mc(this,null,this.W),La(this)};function dl(c){if(uc(c),c.G==3){var y=c.U++,_=Tn(c.I);if(Wt(_,"SID",c.K),Wt(_,"RID",y),Wt(_,"TYPE","terminate"),Us(c,_),y=new un(c,c.j,y),y.L=2,y.v=Ns(Tn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=gc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Is(y)}pc(c)}function ka(c){c.g&&(js(c),c.g.cancel(),c.g=null)}function uc(c){ka(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function La(c){if(!Ia(c.h)&&!c.s){c.s=!0;var y=c.Ga;ot||O(),mt||(ot(),mt=!0),Ct.add(y,c),c.B=0}}function hd(c,y){return Ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Te(A(c.Ga,c,y),gl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new un(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=b(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(j.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=cc(this,j,y),_=Tn(this.I),Wt(_,"RID",c),Wt(_,"CVER",22),this.D&&Wt(_,"X-HTTP-Session-Id",this.D),Us(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(fl(Q)))+"&"+y:this.m&&Ue(_,this.m,Q)),xa(this.h,j),this.Ua&&Wt(_,"TYPE","init"),this.P?(Wt(_,"$req",y),Wt(_,"SID","null"),j.T=!0,Xn(j,_,null)):Xn(j,_,y),this.G=2}}else this.G==3&&(c?pl(this,c):this.i.length==0||Ia(this.h)||pl(this))};function pl(c,y){var _;y?_=y.l:_=c.U++;const w=Tn(c.I);Wt(w,"SID",c.K),Wt(w,"RID",_),Wt(w,"AID",c.T),Us(c,w),c.m&&c.o&&Ue(w,c.m,c.o),_=new un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=cc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xa(c.h,_),Xn(_,w,y)}function Us(c,y){c.H&&ft(c.H,function(_,w){Wt(y,w,_)}),c.l&&ol({},function(_,w){Wt(y,w,_)})}function cc(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;t:{var j=c.i;let Q=-1;for(;;){const at=["count="+_];Q==-1?0<_?(Q=j[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Ut=!0;for(let Oe=0;Oe<_;Oe++){let jt=j[Oe].g;const je=j[Oe].map;if(jt-=Q,0>jt)Q=Math.max(0,j[Oe].g-100),Ut=!1;else try{pr(je,at,"req"+jt+"_")}catch{w&&w(je)}}if(Ut){w=at.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,w}function hc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ot||O(),mt||(ot(),mt=!0),Ct.add(y,c),c.v=0}}function ml(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Te(A(c.Fa,c),gl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Te(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ka(this),fc(this))};function js(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function fc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);Wt(y,"RID","rpc"),Wt(y,"SID",c.K),Wt(y,"AID",c.T),Wt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Wt(y,"TO",c.ja),Wt(y,"TYPE","xmlhttp"),Us(c,y),c.m&&c.o&&Ue(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ns(Tn(y)),_.m=null,_.P=!0,Ur(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ka(this),ml(this),oe(19))};function Ua(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function dc(c,y){var _=null;if(c.g==y){Ua(c),js(c),c.g=null;var w=2}else if(sl(c.h,y))_=y.D,cn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=Ei(),Kt(w,new Ne(w,_)),La(c)}else hc(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&hd(c,y)||w==2&&ml(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function gl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Gr(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const j=!w;w=new Se(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ds(w,"https"),Ns(w),j?Ms(w.toString(),_):Wn(w.toString(),_)}else oe(2);c.G=0,c.l&&c.l.sa(y),pc(c),uc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function pc(c){if(c.G=0,c.ka=[],c.l){const y=al(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function mc(c,y,_){var w=_ instanceof Se?Tn(_):new Se(_);if(w.g!="")y&&(w.g=y+"."+w.g),bi(w,w.s);else{var j=p.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Q=new Se(null);w&&Ds(Q,w),y&&(Q.g=y),j&&bi(Q,j),_&&(Q.l=_),w=Q}return _=c.D,y=c.ya,_&&y&&Wt(w,_,y),Wt(w,"VER",c.la),Us(c,w),w}function gc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new Ri({eb:_})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}r=yc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ja(){}ja.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){de.call(this),this.g=new Pa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new _r(this)}U(hn,de),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){dl(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Yn(c),c=_);y.i.push(new ic(y.Ya++,c)),y.G==3&&La(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,hn.aa.N.call(this)};function _c(c){kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(_c,kr);function vc(){el.call(this),this.status=1}U(vc,el);function _r(c){this.g=c}U(_r,yc),_r.prototype.ua=function(){Kt(this.g,"a")},_r.prototype.ta=function(c){Kt(this.g,new _c(c))},_r.prototype.sa=function(c){Kt(this.g,new vc)},_r.prototype.ra=function(){Kt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,v1=function(){return new ja},_1=function(){return Ei()},y1=ur,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,qh=Ai,Lr.COMPLETE="complete",g1=Lr,tl.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",de.prototype.listen=de.prototype.K,uu=tl,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,m1=Gt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const VT="@firebase/firestore",PT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new wg("@firebase/firestore");function go(){return ma.logLevel}function ht(r,...t){if(ma.logLevel<=Pt.DEBUG){const n=t.map(Pg);ma.debug(`Firestore (${Go}): ${r}`,...n)}}function mi(r,...t){if(ma.logLevel<=Pt.ERROR){const n=t.map(Pg);ma.error(`Firestore (${Go}): ${r}`,...n)}}function Oo(r,...t){if(ma.logLevel<=Pt.WARN){const n=t.map(Pg);ma.warn(`Firestore (${Go}): ${r}`,...n)}}function Pg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,E1(r,s,n)}function E1(r,t,n){let s=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mi(s),new Error(s)}function Qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||E1(t,o,s)}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends _i{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class nO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rO{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new T1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class iO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new iO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function Km(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Tm(o)===Tm(u)?kt(o,u):Tm(o)?1:-1}return kt(r.length,t.length)}const lO=55296,uO=57343;function Tm(r){const t=r.charCodeAt(0);return t>=lO&&t<=uO}function Mo(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__name__";class br{constructor(t,n,s){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&At(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return br.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof br?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=br.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=br.isNumericId(t),o=br.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?br.extractNumericId(t).compare(br.extractNumericId(n)):Km(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return as.fromString(t.substring(4,t.length-2))}}class re extends br{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new re(n)}static emptyPath(){return new re([])}}const cO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends br{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return cO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LT}static keyField(){return new Ze([LT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(re.fromString(t))}static fromName(t){return new _t(re.fromString(t).popFirst(5))}static empty(){return new _t(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r,t,n){if(!n)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function hO(r,t,n,s){if(t===!0&&s===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function UT(r){if(!_t.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jT(r){if(_t.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function A1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function Nn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function Hu(r,t){if(!A1(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=-62135596800,BT=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*BT);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<zT)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BT}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function fO(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new ls(o,_t.empty(),t)}function dO(r){return new ls(r.readTime,r.key,Ru)}class ls{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(bt.min(),_t.empty(),Ru)}static max(){return new ls(bt.max(),_t.empty(),Ru)}}function pO(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==mO)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,s)=>{n(t)})}static reject(t){return new et((n,s)=>{s(t)})}static waitFor(t){return new et((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next(o=>o?et.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new et((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next(v=>{f[g]=v,++p,p===u&&s(f)},v=>o(v))}})}static doWhile(t,n){return new et((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function yO(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=-1;function Uf(r){return r==null}function lf(r){return r===0&&1/r==-1/0}function _O(r){return typeof r=="number"&&Number.isInteger(r)&&!lf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="";function vO(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=qT(t)),t=EO(r.get(n),t);return qT(t)}function EO(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case w1:n+="";break;default:n+=u}}return n}function qT(r){return r+w1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ys(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function b1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||We.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bh(this.root,t,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bh(this.root,t,this.comparator,!0)}}class bh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new We(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new We(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new FT(this.data.getIterator())}getIteratorFrom(t){return new FT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class FT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new ke(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Mo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R1("Invalid base64 string: "+u):u}}(t);return new Je(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const TO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const n=TO.exec(r);if(Qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="server_timestamp",C1="__type__",x1="__previous_value__",D1="__local_write_time__";function Ug(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[C1])==null?void 0:s.stringValue)===I1}function jf(r){const t=r.mapValue.fields[x1];return Ug(t)?jf(t):t}function Iu(r){const t=us(r.mapValue.fields[D1].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,n,s,o,u,f,p,m,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const uf="(default)";class Cu{constructor(t,n){this.projectId=t,this.database=n||uf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===uf}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="__type__",AO="__max__",Rh={mapValue:{}},O1="__vector__",cf="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ug(r)?4:bO(r)?9007199254740991:wO(r)?10:11:At(28295,{value:r})}function Mr(r,t){if(r===t)return!0;const n=hs(r);if(n!==hs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Iu(r).isEqual(Iu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=us(o.timestampValue),p=us(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),p=Ee(u.doubleValue);return f===p?lf(f)===lf(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Mo(r.arrayValue.values||[],t.arrayValue.values||[],Mr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(HT(f)!==HT(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!Mr(f[m],p[m])))return!1;return!0}(r,t);default:return At(52216,{left:r})}}function xu(r,t){return(r.values||[]).find(n=>Mr(n,t))!==void 0}function Vo(r,t){if(r===t)return 0;const n=hs(r),s=hs(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=Ee(u.integerValue||u.doubleValue),m=Ee(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,t);case 3:return GT(r.timestampValue,t.timestampValue);case 4:return GT(Iu(r),Iu(t));case 5:return Km(r.stringValue,t.stringValue);case 6:return function(u,f){const p=cs(u),m=cs(f);return p.compareTo(m)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=kt(p[g],m[g]);if(v!==0)return v}return kt(p.length,m.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=kt(Ee(u.latitude),Ee(f.latitude));return p!==0?p:kt(Ee(u.longitude),Ee(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return $T(r.arrayValue,t.arrayValue);case 10:return function(u,f){var A,N,U,H;const p=u.fields||{},m=f.fields||{},g=(A=p[cf])==null?void 0:A.arrayValue,v=(N=m[cf])==null?void 0:N.arrayValue,T=kt(((U=g==null?void 0:g.values)==null?void 0:U.length)||0,((H=v==null?void 0:v.values)==null?void 0:H.length)||0);return T!==0?T:$T(g,v)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Rh.mapValue&&f===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(f===Rh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const A=Km(m[T],v[T]);if(A!==0)return A;const N=Vo(p[m[T]],g[v[T]]);if(N!==0)return N}return kt(m.length,v.length)}(r.mapValue,t.mapValue);default:throw At(23264,{he:n})}}function GT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=us(r),s=us(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function $T(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Vo(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function Po(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return cs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _t.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ym(n.fields[f])}`;return o+"}"}(r.mapValue):At(61005,{value:r})}function Hh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jf(r);return t?16+Hh(t):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Hh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ys(s.fields,(u,f)=>{o+=u.length+Hh(f)}),o}(r.mapValue);default:throw At(13486,{value:r})}}function QT(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function jg(r){return!!r&&"arrayValue"in r}function KT(r){return!!r&&"nullValue"in r}function YT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fh(r){return!!r&&"mapValue"in r}function wO(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[N1])==null?void 0:s.stringValue)===O1}function gu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ys(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=gu(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gu(r.arrayValue.values[n]);return t}return{...r}}function bO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===AO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Fh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gu(n)}setAll(t){let n=Ze.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=gu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ys(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new vn(gu(this.value))}}function M1(r){const t=[];return ys(r.fields,(n,s)=>{const o=new Ze([n]);if(Fh(s)){const u=M1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new on(t,0,bt.min(),bt.min(),bt.min(),vn.empty(),0)}static newFoundDocument(t,n,s,o){return new on(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new on(t,2,n,bt.min(),bt.min(),vn.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,bt.min(),bt.min(),vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n){this.position=t,this.inclusive=n}}function XT(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),n.key):s=Vo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function WT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,n="asc"){this.field=t,this.dir=n}}function RO(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class Ie extends V1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new CO(t,n,s):n==="array-contains"?new NO(t,s):n==="in"?new OO(t,s):n==="not-in"?new MO(t,s):n==="array-contains-any"?new VO(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new xO(t,s):new DO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends V1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new or(t,n)}matches(t){return P1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(r){return r.op==="and"}function k1(r){return IO(r)&&P1(r)}function IO(r){for(const t of r.filters)if(t instanceof or)return!1;return!0}function Wm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+Po(r.value);if(k1(r))return r.filters.map(t=>Wm(t)).join(",");{const t=r.filters.map(n=>Wm(n)).join(",");return`${r.op}(${t})`}}function L1(r,t){return r instanceof Ie?function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Mr(s.value,o.value)}(r,t):r instanceof or?function(s,o){return o instanceof or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&L1(f,o.filters[p]),!0):!1}(r,t):void At(19439)}function U1(r){return r instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`}(r):r instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(U1).join(" ,")+"}"}(r):"Filter"}class CO extends Ie{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class xO extends Ie{constructor(t,n){super(t,"in",n),this.keys=j1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class DO extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=j1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function j1(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(s=>_t.fromName(s.referenceValue))}class NO extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jg(n)&&xu(n.arrayValue,this.value)}}class OO extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class MO extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class VO extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>xu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function ZT(r,t=null,n=[],s=[],o=null,u=null,f=null){return new PO(r,t,n,s,o,u,f)}function zg(r){const t=Rt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Wm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Po(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Po(s)).join(",")),t.Te=n}return t.Te}function Bg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!RO(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!L1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!WT(r.startAt,t.startAt)&&WT(r.endAt,t.endAt)}function Zm(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kO(r,t,n,s,o,u,f,p){return new Fu(r,t,n,s,o,u,f,p)}function zf(r){return new Fu(r)}function JT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function z1(r){return r.collectionGroup!==null}function yu(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new ke(Ze.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new ff(u,s))}),n.has(Ze.keyField().canonicalString())||t.Ie.push(new ff(Ze.keyField(),s))}return t.Ie}function xr(r){const t=Rt(r);return t.Ee||(t.Ee=LO(t,yu(r))),t.Ee}function LO(r,t){if(r.limitType==="F")return ZT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ff(o.field,u)});const n=r.endAt?new hf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hf(r.startAt.position,r.startAt.inclusive):null;return ZT(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Jm(r,t){const n=r.filters.concat([t]);return new Fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function tg(r,t,n){return new Fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Bf(r,t){return Bg(xr(r),xr(t))&&r.limitType===t.limitType}function B1(r){return`${zg(xr(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>U1(o)).join(", ")}]`),Uf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Po(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Po(o)).join(",")),`Target(${s})`}(xr(r))}; limitType=${r.limitType})`}function qf(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of yu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=XT(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,yu(s),o)||s.endAt&&!function(f,p,m){const g=XT(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,yu(s),o))}(r,t)}function UO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q1(r){return(t,n)=>{let s=!1;for(const o of yu(r)){const u=jO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jO(r,t,n){const s=r.field.isKeyField()?_t.comparator(t.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Vo(m,g):At(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ys(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return b1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new fe(_t.comparator);function gi(){return zO}const H1=new fe(_t.comparator);function cu(...r){let t=H1;for(const n of r)t=t.insert(n.key,n);return t}function F1(r){let t=H1;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ia(){return _u()}function G1(){return _u()}function _u(){return new va(r=>r.toString(),(r,t)=>r.isEqual(t))}const BO=new fe(_t.comparator),qO=new ke(_t.comparator);function Lt(...r){let t=qO;for(const n of r)t=t.add(n);return t}const HO=new ke(kt);function FO(){return HO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(t)?"-0":t}}function $1(r){return{integerValue:""+r}}function GO(r,t){return _O(t)?$1(t):qg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function $O(r,t,n){return r instanceof Du?function(o,u){const f={fields:{[C1]:{stringValue:I1},[D1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ug(u)&&(u=jf(u)),u&&(f.fields[x1]=u),{mapValue:f}}(n,t):r instanceof Nu?K1(r,t):r instanceof Ou?Y1(r,t):function(o,u){const f=Q1(o,u),p=t0(f)+t0(o.Ae);return Xm(f)&&Xm(o.Ae)?$1(p):qg(o.serializer,p)}(r,t)}function QO(r,t,n){return r instanceof Nu?K1(r,t):r instanceof Ou?Y1(r,t):n}function Q1(r,t){return r instanceof df?function(s){return Xm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Du extends Hf{}class Nu extends Hf{constructor(t){super(),this.elements=t}}function K1(r,t){const n=X1(t);for(const s of r.elements)n.some(o=>Mr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ou extends Hf{constructor(t){super(),this.elements=t}}function Y1(r,t){let n=X1(t);for(const s of r.elements)n=n.filter(o=>!Mr(o,s));return{arrayValue:{values:n}}}class df extends Hf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function t0(r){return Ee(r.integerValue||r.doubleValue)}function X1(r){return jg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,n){this.field=t,this.transform=n}}function YO(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Nu&&o instanceof Nu||s instanceof Ou&&o instanceof Ou?Mo(s.elements,o.elements,Mr):s instanceof df&&o instanceof df?Mr(s.Ae,o.Ae):s instanceof Du&&o instanceof Du}(r.transform,t.transform)}class XO{constructor(t,n){this.version=t,this.transformResults=n}}class ir{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ir}static exists(t){return new ir(void 0,t)}static updateTime(t){return new ir(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ff{}function W1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new J1(r.key,ir.none()):new Gu(r.key,r.data,ir.none());{const n=r.data,s=vn.empty();let o=new ke(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new Dn(o.toArray()),ir.none())}}function WO(r,t,n){r instanceof Gu?function(o,u,f){const p=o.value.clone(),m=n0(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof _s?function(o,u,f){if(!Gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=n0(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(Z1(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function vu(r,t,n,s){return r instanceof Gu?function(u,f,p,m){if(!Gh(u.precondition,f))return p;const g=u.value.clone(),v=r0(u.fieldTransforms,m,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof _s?function(u,f,p,m){if(!Gh(u.precondition,f))return p;const g=r0(u.fieldTransforms,m,f),v=f.data;return v.setAll(Z1(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,t,n,s):function(u,f,p){return Gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function ZO(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=Q1(s.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(s.field,u))}return n||null}function e0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Mo(s,o,(u,f)=>YO(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gu extends Ff{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Ff{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function n0(r,t,n){const s=new Map;Qt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,QO(f,p,n[o]))}return s}function r0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,$O(u,f,t))}return s}class J1 extends Ff{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JO extends Ff{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&WO(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=G1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=W1(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Mo(this.mutations,t.mutations,(n,s)=>e0(n,s))&&Mo(this.baseMutations,t.baseMutations,(n,s)=>e0(n,s))}}class Hg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return BO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Hg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Bt;function r2(r){switch(r){case Z.OK:return At(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function tA(r){if(r===void 0)return mi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return At(39323,{code:r})}}(Bt=be||(be={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new as([4294967295,4294967295],0);function i0(r){const t=i2().encode(r),n=new p1;return n.update(t),new Uint8Array(n.digest())}function s0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class Fg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(s<0)throw new hu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=as.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(as.fromNumber(s)));return o.compare(s2)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=i0(t),[s,o]=s0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Fg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.ge===0)return;const n=i0(t),[s,o]=s0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,$u.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Gf(bt.min(),o,new fe(kt),gi(),Lt())}}class $u{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new $u(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class eA{constructor(t,n){this.targetId=t,this.Ce=n}}class nA{constructor(t,n,s=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class a0{constructor(){this.ve=0,this.Fe=o0(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:At(38017,{changeType:u})}}),new $u(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=o0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a2{constructor(t){this.Ge=t,this.ze=new Map,this.je=gi(),this.Je=Ih(),this.He=Ih(),this.Ye=new fe(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Zm(u))if(s===0){const f=new _t(u.path);this.et(n,f,on.newNoDocument(f,bt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),m=p?this.ct(p,t,f):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=cs(s).toUint8Array()}catch(m){if(m instanceof R1)return Oo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Fg(f,o,u)}catch(m){return Oo(m instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Zm(p.target)){const m=new _t(p.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,on.newNoDocument(m,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Lt();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Gf(t,n,this.Ye,this.je,s);return this.je=gi(),this.Je=Ih(),this.He=Ih(),this.Ye=new fe(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new a0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new a0),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ih(){return new fe(_t.comparator)}function o0(){return new fe(_t.comparator)}const o2={asc:"ASCENDING",desc:"DESCENDING"},l2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u2={and:"AND",or:"OR"};class c2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function eg(r,t){return r.useProto3Json||Uf(t)?t:{value:t}}function pf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function h2(r,t){return pf(r,t.toTimestamp())}function Dr(r){return Qt(!!r,49232),bt.fromTimestamp(function(n){const s=us(n);return new se(s.seconds,s.nanos)}(r))}function Gg(r,t){return ng(r,t).canonicalString()}function ng(r,t){const n=function(o){return new re(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function iA(r){const t=re.fromString(r);return Qt(uA(t),10190,{key:t.toString()}),t}function rg(r,t){return Gg(r.databaseId,t.path)}function Sm(r,t){const n=iA(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _t(aA(n))}function sA(r,t){return Gg(r.databaseId,t)}function f2(r){const t=iA(r);return t.length===4?re.emptyPath():aA(t)}function ig(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function aA(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function l0(r,t,n){return{name:rg(r,t),fields:n.value.mapValue.fields}}function d2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:At(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Qt(v===void 0||typeof v=="string",58123),Je.fromBase64String(v||"")):(Qt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Je.fromUint8Array(v||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(g){const v=g.code===void 0?Z.UNKNOWN:tA(g.code);return new ct(v,g.message||"")}(f);n=new nA(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=Dr(s.document.updateTime),f=s.document.createTime?Dr(s.document.createTime):bt.min(),p=new vn({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(o,u,f,p),g=s.targetIds||[],v=s.removedTargetIds||[];n=new $h(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?Dr(s.readTime):bt.min(),f=on.newNoDocument(o,u),p=s.removedTargetIds||[];n=new $h([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new $h([],u,o,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new n2(o,u),p=s.targetId;n=new eA(p,f)}}return n}function p2(r,t){let n;if(t instanceof Gu)n={update:l0(r,t.key,t.value)};else if(t instanceof J1)n={delete:rg(r,t.key)};else if(t instanceof _s)n={update:l0(r,t.key,t.data),updateMask:A2(t.fieldMask)};else{if(!(t instanceof JO))return At(16599,{Vt:t.type});n={verify:rg(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Du)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof df)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw At(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:h2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:At(27497)}(r,t.precondition)),n}function m2(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Dr(o.updateTime):Dr(u);return f.isEqual(bt.min())&&(f=Dr(u)),new XO(f,o.transformResults||[])}(n,t))):[]}function g2(r,t){return{documents:[sA(r,t.path)]}}function y2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sA(r,o);const u=function(g){if(g.length!==0)return lA(or.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(A){return{field:_o(A.field),direction:E2(A.dir)}}(v))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=eg(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:n,parent:o}}function _2(r){let t=f2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=function(T){const A=oA(T);return A instanceof or&&k1(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(T){return T.map(A=>function(U){return new ff(vo(U.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(A))}(n.orderBy));let p=null;n.limit&&(p=function(T){let A;return A=typeof T=="object"?T.value:T,Uf(A)?null:A}(n.limit));let m=null;n.startAt&&(m=function(T){const A=!!T.before,N=T.values||[];return new hf(N,A)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const A=!T.before,N=T.values||[];return new hf(N,A)}(n.endAt)),kO(t,o,f,u,p,"F",m,g)}function v2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function oA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=vo(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ie.create(vo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(s=>oA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(n.compositeFilter.op))}(r):At(30097,{filter:r})}function E2(r){return o2[r]}function T2(r){return l2[r]}function S2(r){return u2[r]}function _o(r){return{fieldPath:r.canonicalString()}}function vo(r){return Ze.fromServerFormat(r.fieldPath)}function lA(r){return r instanceof Ie?function(n){if(n.op==="=="){if(YT(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(KT(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YT(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(KT(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:T2(n.op),value:n.value}}}(r):r instanceof or?function(n){const s=n.getFilters().map(o=>lA(o));return s.length===1?s[0]:{compositeFilter:{op:S2(n.op),filters:s}}}(r):At(54877,{filter:r})}function A2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function uA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n,s,o,u=bt.min(),f=bt.min(),p=Je.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(t){return new es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.yt=t}}function b2(r){const t=_2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.Cn=new I2}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(ls.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class I2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new ke(re.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(cA,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="LruGarbageCollector",C2=1048576;function h0([r,t],[n,s]){const o=kt(r,n);return o===0?kt(t,s):o}class x2{constructor(t){this.Ir=t,this.buffer=new ke(h0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();h0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(c0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?ht(c0,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.Vr(3e5)})}}class N2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Lf.ce);const s=new x2(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(u0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,p,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o))).next(T=>(s=T,p=Date.now(),this.removeTargets(t,s,n))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(T=>(g=Date.now(),go()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function O2(r,t){return new N2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.changes=new va(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&vu(s.mutation,o,Dn.empty(),se.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Lt()){const o=ia();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=cu();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=ia();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Lt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=gi();const f=_u(),p=function(){return _u()}();return n.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof _s)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),vu(v.mutation,g,v.mutation.getFieldMask(),se.now())):f.set(g.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>p.set(g,new V2(v,f.get(g)??null))),p))}recalculateAndSaveOverlays(t,n){const s=_u();let o=new fe((f,p)=>f-p),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Dn.empty();v=p.applyToLocalView(g,v),s.set(m,v);const T=(o.get(p.batchId)||Lt()).add(m);o=o.insert(p.batchId,T)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,T=G1();v.forEach(A=>{if(!u.has(A)){const N=W1(n.get(A),s.get(A));N!==null&&T.set(A,N),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return et.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):z1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(ia());let p=Ru,m=u;return f.next(g=>et.forEach(g,(v,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next(A=>{m=m.insert(v,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Lt())).next(v=>({batchId:p,changes:F1(v)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next(s=>{let o=cu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=cu();return this.indexManager.getCollectionParents(t,u).next(p=>et.forEach(p,m=>{const g=function(T,A){return new Fu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(v=>{v.forEach((T,A)=>{f=f.insert(T,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,on.newInvalidDocument(v)))});let p=cu();return f.forEach((m,g)=>{const v=u.get(m);v!==void 0&&vu(v.mutation,g,Dn.empty(),se.now()),qf(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Dr(o.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:b2(o.bundledQuery),readTime:Dr(o.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.overlays=new fe(_t.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ia();return et.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=ia(),u=n.length+1,f=new _t(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ia(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ia(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return et.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new e2(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Qr=new ke(He.$r),this.Ur=new ke(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new _t(new re([])),s=new He(n,t),o=new He(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new _t(new re([])),s=new He(n,t),o=new He(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return _t.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(He.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new t2(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new He(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Lg:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(kt);return n.forEach(o=>{const u=new He(o,0),f=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{s=s.add(p.Yr)})}),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new He(new _t(u),0);let p=new ke(kt);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)},f),et.resolve(this.ti(p))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,o=>{const u=new He(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new He(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.ri=t,this.docs=function(){return new fe(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=gi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))}),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=gi();const f=n.path,p=new _t(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||pO(dO(v),s)<=0||(o.has(v.key)||qf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){At(9500)}ii(t,n){return et.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new B2(this)}getSize(t){return et.resolve(this.size)}}class B2 extends M2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.persistence=t,this.si=new va(n=>zg(n),Bg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new $g,this.targetCount=0,this.ai=ko.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ko(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),et.waitFor(u).next(()=>o)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Lf(0),this.li=!1,this.li=!0,this.hi=new U2,this.referenceDelegate=t(this),this.Pi=new q2(this),this.indexManager=new R2,this.remoteDocumentCache=function(o){return new z2(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new w2(n),this.Ii=new k2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new L2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new j2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new H2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return et.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class H2 extends gO{constructor(t){super(),this.currentSequenceNumber=t}}class Qg{constructor(t){this.persistence=t,this.Ri=new $g,this.Vi=null}static mi(t){return new Qg(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,s=>{const o=_t.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class mf{constructor(t,n){this.persistence=t,this.pi=new va(s=>vO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=O2(this,n)}static mi(t,n){return new mf(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return et.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?et.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(p=>{p||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vC()?8:yO(ln())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new F2;return this.Ss(t,n,f).next(p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(go()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(go()<=Pt.DEBUG&&ht("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(go()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xr(n))):et.resolve())}ys(t,n){if(JT(n))return et.resolve(null);let s=xr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=tg(n,null,"F"),s=xr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.Ds(n,p);return this.Cs(n,g,f,m.readTime)?this.ys(t,tg(n,null,"F")):this.vs(t,g,n,m)}))})))}ws(t,n,s,o){return JT(n)||o.isEqual(bt.min())?et.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?et.resolve(null):(go()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.vs(t,f,n,fO(o,Ru)).next(p=>p))})}Ds(t,n){let s=new ke(q1(t));return n.forEach((o,u)=>{qf(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return go()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(t,n,ls.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="LocalStore",$2=3e8;class Q2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(kt),this.xs=new va(u=>zg(u),Bg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new P2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function K2(r,t,n,s){return new Q2(r,t,n,s)}async function fA(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Lt();for(const g of o){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:p}))})})}function Y2(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,m,g,v){const T=g.batch,A=T.keys();let N=et.resolve();return A.forEach(U=>{N=N.next(()=>v.getEntry(m,U)).next(H=>{const F=g.docVersions.get(U);Qt(F!==null,48541),H.version.compareTo(F)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))})}),N.next(()=>p.mutationQueue.removeMutationBatch(m,T))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Lt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function dA(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function X2(r,t){const n=Rt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach((v,T)=>{const A=o.get(T);if(!A)return;p.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T)));let N=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?N=N.withResumeToken(Je.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(T,N),function(H,F,J){return H.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=$2?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(A,N,v)&&p.push(n.Pi.updateTargetData(u,N))});let m=gi(),g=Lt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(W2(u,f,t.documentUpdates).next(v=>{m=v.ks,g=v.qs})),!s.isEqual(bt.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return et.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ms=o,u))}function W2(r,t,n){let s=Lt(),o=Lt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=gi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(bt.min())?(t.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),f=f.insert(p,m)):ht(Yg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{ks:f,qs:o}})}function Z2(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Lg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function J2(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new es(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function sg(r,t,n){const s=Rt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Qo(f))throw f;ht(Yg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function f0(r,t,n){const s=Rt(r);let o=bt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,v){const T=Rt(m),A=T.xs.get(v);return A!==void 0?et.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,v)}(s,f,xr(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Lt())).next(p=>(tM(s,UO(t),p),{documents:p,Qs:u})))}function tM(r,t,n){let s=r.Os.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(t,s)}class d0{constructor(){this.activeTargetIds=FO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eM{constructor(){this.Mo=new d0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new d0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="ConnectivityMonitor";class m0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(p0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(p0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function ag(){return Ch===null?Ch=function(){return 268435456+Math.round(2147483648*Math.random())}():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",rM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===uf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=ag(),p=this.zo(t,n.toUriEncodedString());ht(Am,`Sending RPC '${t}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),v=qo(g);return this.Jo(t,p,m,s,v).then(T=>(ht(Am,`Received RPC '${t}' ${f}: `,T),T),T=>{throw Oo(Am,`RPC '${t}' ${f} failed with error: `,T,"url: ",p,"request:",s),T})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=rM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class aM extends iM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=ag();return new Promise((p,m)=>{const g=new m1;g.setWithCredentials(!0),g.listenOnce(g1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case qh.NO_ERROR:const T=g.getResponseJson();ht(sn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),p(T);break;case qh.TIMEOUT:ht(sn,`RPC '${t}' ${f} timed out`),m(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const A=g.getStatus();if(ht(sn,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N==null?void 0:N.error;if(U&&U.status&&U.message){const H=function(J){const W=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN}(U.status);m(new ct(H,U.message))}else m(new ct(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(sn,`RPC '${t}' ${f} completed.`)}});const v=JSON.stringify(o);ht(sn,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)})}T_(t,n,s){const o=ag(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=v1(),p=_1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=u.join("");ht(sn,`Creating RPC '${t}' stream ${o}: ${v}`,m);const T=f.createWebChannel(v,m);this.I_(T);let A=!1,N=!1;const U=new sM({Yo:F=>{N?ht(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(A||(ht(sn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),ht(sn,`RPC '${t}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),H=(F,J,W)=>{F.listen(J,rt=>{try{W(rt)}catch(ut){setTimeout(()=>{throw ut},0)}})};return H(T,uu.EventType.OPEN,()=>{N||(ht(sn,`RPC '${t}' stream ${o} transport opened.`),U.o_())}),H(T,uu.EventType.CLOSE,()=>{N||(N=!0,ht(sn,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(T))}),H(T,uu.EventType.ERROR,F=>{N||(N=!0,Oo(sn,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),U.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))}),H(T,uu.EventType.MESSAGE,F=>{var J;if(!N){const W=F.data[0];Qt(!!W,16349);const rt=W,ut=(rt==null?void 0:rt.error)||((J=rt[0])==null?void 0:J.error);if(ut){ht(sn,`RPC '${t}' stream ${o} received error:`,ut);const lt=ut.status;let ft=function(I){const V=be[I];if(V!==void 0)return tA(V)}(lt),x=ut.message;ft===void 0&&(ft=Z.INTERNAL,x="Unknown error status: "+lt+" with message "+ut.message),N=!0,U.a_(new ct(ft,x)),T.close()}else ht(sn,`RPC '${t}' stream ${o} received:`,W),U.u_(W)}}),H(p,y1.STAT_EVENT,F=>{F.stat===Qm.PROXY?ht(sn,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Qm.NOPROXY&&ht(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(r){return new c2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="PersistentStream";class mA{constructor(t,n,s,o,u,f,p,m){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ht(g0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ht(g0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oM extends mA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=d2(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Dr(f.readTime):bt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=ig(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=Zm(m)?{documents:g2(u,m)}:{query:y2(u,m).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=rA(u,f.resumeToken);const g=eg(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){p.readTime=pf(u,f.snapshotVersion.toTimestamp());const g=eg(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,t);const s=v2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=ig(this.serializer),n.removeTarget=t,this.q_(n)}}class lM extends mA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=m2(t.writeResults,t.commitTime),s=Dr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ig(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>p2(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{}class cM extends uM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,ng(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(t,ng(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(Z.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class fM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ea(this)&&(ht(ga,"Restarting streams for network reachability change."),await async function(m){const g=Rt(m);g.Ea.add(4),await Qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Qf(g)}(this))})}),this.Ra=new hM(s,o)}}async function Qf(r){if(Ea(r))for(const t of r.da)await t(!0)}async function Qu(r){for(const t of r.da)await t(!1)}function gA(r,t){const n=Rt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Jg(n)?Zg(n):Ko(n).O_()&&Wg(n,t))}function Xg(r,t){const n=Rt(r),s=Ko(n);n.Ia.delete(t),s.O_()&&yA(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Ra.set("Unknown"))}function Wg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ko(r).Y_(t)}function yA(r,t){r.Va.Ue(t),Ko(r).Z_(t)}function Zg(r){r.Va=new a2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ko(r).start(),r.Ra.ua()}function Jg(r){return Ea(r)&&!Ko(r).x_()&&r.Ia.size>0}function Ea(r){return Rt(r).Ea.size===0}function _A(r){r.Va=void 0}async function dM(r){r.Ra.set("Online")}async function pM(r){r.Ia.forEach((t,n)=>{Wg(r,t)})}async function mM(r,t){_A(r),Jg(r)?(r.Ra.ha(t),Zg(r)):r.Ra.set("Unknown")}async function gM(r,t,n){if(r.Ra.set("Online"),t instanceof nA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(r,t)}catch(s){ht(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await gf(r,s)}else if(t instanceof $h?r.Va.Ze(t):t instanceof eA?r.Va.st(t):r.Va.tt(t),!n.isEqual(bt.min()))try{const s=await dA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(Je.EMPTY_BYTE_STRING,v.snapshotVersion)),yA(u,m);const T=new es(v.target,m,g,v.sequenceNumber);Wg(u,T)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){ht(ga,"Failed to raise snapshot:",s),await gf(r,s)}}async function gf(r,t,n){if(!Qo(t))throw t;r.Ea.add(1),await Qu(r),r.Ra.set("Offline"),n||(n=()=>dA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(ga,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Qf(r)})}function vA(r,t){return t().catch(n=>gf(r,n,t))}async function Kf(r){const t=Rt(r),n=fs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lg;for(;yM(t);)try{const o=await Z2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,_M(t,o)}catch(o){await gf(t,o)}EA(t)&&TA(t)}function yM(r){return Ea(r)&&r.Ta.length<10}function _M(r,t){r.Ta.push(t);const n=fs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function EA(r){return Ea(r)&&!fs(r).x_()&&r.Ta.length>0}function TA(r){fs(r).start()}async function vM(r){fs(r).ra()}async function EM(r){const t=fs(r);for(const n of r.Ta)t.ea(n.mutations)}async function TM(r,t,n){const s=r.Ta.shift(),o=Hg.from(s,t,n);await vA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Kf(r)}async function SM(r,t){t&&fs(r).X_&&await async function(s,o){if(function(f){return r2(f)&&f!==Z.ABORTED}(o.code)){const u=s.Ta.shift();fs(s).B_(),await vA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Kf(s)}}(r,t),EA(r)&&TA(r)}async function y0(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ht(ga,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await Qu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Qf(n)}async function AM(r,t){const n=Rt(r);t?(n.Ea.delete(2),await Qf(n)):t||(n.Ea.add(2),await Qu(n),n.Ra.set("Unknown"))}function Ko(r){return r.ma||(r.ma=function(n,s,o){const u=Rt(n);return u.sa(),new oM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:dM.bind(null,r),t_:pM.bind(null,r),r_:mM.bind(null,r),H_:gM.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),Jg(r)?Zg(r):r.Ra.set("Unknown")):(await r.ma.stop(),_A(r))})),r.ma}function fs(r){return r.fa||(r.fa=function(n,s,o){const u=Rt(n);return u.sa(),new lM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:vM.bind(null,r),r_:SM.bind(null,r),ta:EM.bind(null,r),na:TM.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await Kf(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(ga,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new ty(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(r,t){if(mi("AsyncQueue",`${t}: ${r}`),Qo(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(t){return new bo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=cu(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof bo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.ga=new fe(_t.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Lo{constructor(t,n,s,o,u,f,p,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Lo(t,n,bo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class bM{constructor(){this.queries=v0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=v0(),u.forEach((f,p)=>{for(const m of p.Sa)m.onError(s)})})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function v0(){return new va(r=>B1(r),Bf)}async function ny(r,t){const n=Rt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new wM,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=ey(f,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&iy(n)}async function ry(r,t){const n=Rt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RM(r,t){const n=Rt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&iy(n)}function IM(r,t,n){const s=Rt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function iy(r){r.Ca.forEach(t=>{t.next()})}var og,E0;(E0=og||(og={})).Ma="default",E0.Cache="cache";class sy{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.key=t}}class AA{constructor(t){this.key=t}}class CM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=q1(t),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new _0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,T)=>{const A=o.get(v),N=qf(this.query,T)?T:null,U=!!A&&this.mutatedKeys.has(A.key),H=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let F=!1;A&&N?A.data.isEqual(N.data)?U!==H&&(s.track({type:3,doc:N}),F=!0):this.su(A,N)||(s.track({type:2,doc:N}),F=!0,(m&&this.eu(N,m)>0||g&&this.eu(N,g)<0)&&(p=!0)):!A&&N?(s.track({type:0,doc:N}),F=!0):A&&!N&&(s.track({type:1,doc:A}),F=!0,(m||g)&&(p=!0)),F&&(N?(f=f.add(N),u=H?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((v,T)=>function(N,U){const H=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:F})}};return H(N)-H(U)}(v.type,T.type)||this.eu(v.doc,T.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,f.length!==0||g?{snapshot:new Lo(this.query,t.tu,u,f,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new AA(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new SA(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ay="SyncEngine";class xM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class DM{constructor(t){this.key=t,this.hu=!1}}class NM{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new va(p=>B1(p),Bf),this.Iu=new Map,this.Eu=new Set,this.du=new fe(_t.comparator),this.Au=new Map,this.Ru=new $g,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OM(r,t,n=!0){const s=xA(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await wA(s,t,n,!0),o}async function MM(r,t){const n=xA(r);await wA(n,t,!0,!1)}async function wA(r,t,n,s){const o=await J2(r.localStore,xr(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await VM(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&gA(r.remoteStore,o),p}async function VM(r,t,n,s,o){r.pu=(T,A,N)=>async function(H,F,J,W){let rt=F.view.ru(J);rt.Cs&&(rt=await f0(H.localStore,F.query,!1).then(({documents:x})=>F.view.ru(x,rt)));const ut=W&&W.targetChanges.get(F.targetId),lt=W&&W.targetMismatches.get(F.targetId)!=null,ft=F.view.applyChanges(rt,H.isPrimaryClient,ut,lt);return S0(H,F.targetId,ft.au),ft.snapshot}(r,T,A,N);const u=await f0(r.localStore,t,!0),f=new CM(t,u.Qs),p=f.ru(u.documents),m=$u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);S0(r,n,g.au);const v=new xM(t,n,f);return r.Tu.set(t,v),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function PM(r,t,n){const s=Rt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Bf(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Xg(s.remoteStore,o.targetId),lg(s,o.targetId)}).catch($o)):(lg(s,o.targetId),await sg(s.localStore,o.targetId,!0))}async function kM(r,t){const n=Rt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xg(n.remoteStore,s.targetId))}async function LM(r,t,n){const s=FM(r);try{const o=await function(f,p){const m=Rt(f),g=se.now(),v=p.reduce((N,U)=>N.add(U.key),Lt());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=gi(),H=Lt();return m.Ns.getEntries(N,v).next(F=>{U=F,U.forEach((J,W)=>{W.isValidDocument()||(H=H.add(J))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,U)).next(F=>{T=F;const J=[];for(const W of p){const rt=ZO(W,T.get(W.key).overlayedDocument);rt!=null&&J.push(new _s(W.key,rt,M1(rt.value.mapValue),ir.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,J,p)}).next(F=>{A=F;const J=F.applyToLocalDocumentSet(T,H);return m.documentOverlayCache.saveOverlays(N,F.batchId,J)})}).then(()=>({batchId:A.batchId,changes:F1(T)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Vu[f.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(p,m),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Ku(s,o.changes),await Kf(s.remoteStore)}catch(o){const u=ey(o,"Failed to persist write");n.reject(u)}}async function bA(r,t){const n=Rt(r);try{const s=await X2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qt(f.hu,14607):o.removedDocuments.size>0&&(Qt(f.hu,42227),f.hu=!1))}),await Ku(n,s,t)}catch(s){await $o(s)}}function T0(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Rt(f);m.onlineState=p;let g=!1;m.queries.forEach((v,T)=>{for(const A of T.Sa)A.va(p)&&(g=!0)}),g&&iy(m)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function UM(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new fe(_t.comparator);f=f.insert(u,on.newNoDocument(u,bt.min()));const p=Lt().add(u),m=new Gf(bt.min(),new Map,new fe(kt),f,p);await bA(s,m),s.du=s.du.remove(u),s.Au.delete(t),oy(s)}else await sg(s.localStore,t,!1).then(()=>lg(s,t,n)).catch($o)}async function jM(r,t){const n=Rt(r),s=t.batch.batchId;try{const o=await Y2(n.localStore,t);IA(n,s,null),RA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ku(n,o)}catch(o){await $o(o)}}async function zM(r,t,n){const s=Rt(r);try{const o=await function(f,p){const m=Rt(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next(T=>(Qt(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,t);IA(s,t,n),RA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ku(s,o)}catch(o){await $o(o)}}function RA(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function IA(r,t,n){const s=Rt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function lg(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||CA(r,s)})}function CA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Xg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),oy(r))}function S0(r,t,n){for(const s of n)s instanceof SA?(r.Ru.addReference(s.key,t),BM(r,s)):s instanceof AA?(ht(ay,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||CA(r,s.key)):At(19791,{wu:s})}function BM(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht(ay,"New document in limbo: "+n),r.Eu.add(s),oy(r))}function oy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new _t(re.fromString(t)),s=r.fu.next();r.Au.set(s,new DM(n)),r.du=r.du.insert(n,s),gA(r.remoteStore,new es(xr(zf(n.path)),s,"TargetPurposeLimboResolution",Lf.ce))}}async function Ku(r,t,n){const s=Rt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,m)=>{f.push(s.pu(m,t,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Kg.As(m.targetId,g);u.push(T)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(m,g){const v=Rt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>et.forEach(g,A=>et.forEach(A.Es,N=>v.persistence.referenceDelegate.addReference(T,A.targetId,N)).next(()=>et.forEach(A.ds,N=>v.persistence.referenceDelegate.removeReference(T,A.targetId,N)))))}catch(T){if(!Qo(T))throw T;ht(Yg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const N=v.Ms.get(A),U=N.snapshotVersion,H=N.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(A,H)}}}(s.localStore,u))}async function qM(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ht(ay,"User change. New user:",t.toKey());const s=await fA(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(p=>{p.forEach(m=>{m.reject(new ct(Z.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ku(n,s.Ls)}}function HM(r,t){const n=Rt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function xA(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UM.bind(null,t),t.Pu.H_=RM.bind(null,t.eventManager),t.Pu.yu=IM.bind(null,t.eventManager),t}function FM(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zM.bind(null,t),t}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$f(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return K2(this.persistence,new G2,t.initialUser,this.serializer)}Cu(t){return new hA(Qg.mi,this.serializer)}Du(t){return new eM}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class GM extends yf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof mf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new D2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new hA(s=>mf.mi(s,n),this.serializer)}}class ug{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await AM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new bM}()}createDatastore(t){const n=$f(t.databaseInfo.databaseId),s=function(u){return new aM(u)}(t.databaseInfo);return function(u,f,p,m){return new cM(u,f,p,m)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new fM(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>T0(this.syncEngine,n,0),function(){return m0.v()?new m0:new nM}())}createSyncEngine(t,n){return function(o,u,f,p,m,g,v){const T=new NM(o,u,f,p,m,g);return v&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Rt(o);ht(ga,"RemoteStore shutting down."),u.Ea.add(5),await Qu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class $M{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ey(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function bm(r,t){r.asyncQueue.verifyOperationInProgress(),ht(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function A0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await QM(r);ht(ds,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>y0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>y0(t.remoteStore,o)),r._onlineComponents=t}async function QM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(ds,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new yf)}}else ht(ds,"Using default OfflineComponentProvider"),await bm(r,new GM(void 0));return r._offlineComponents}async function DA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(ds,"Using user provided OnlineComponentProvider"),await A0(r,r._uninitializedComponentsProvider._online)):(ht(ds,"Using default OnlineComponentProvider"),await A0(r,new ug))),r._onlineComponents}function KM(r){return DA(r).then(t=>t.syncEngine)}async function _f(r){const t=await DA(r),n=t.eventManager;return n.onListen=OM.bind(null,t.syncEngine),n.onUnlisten=PM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=MM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kM.bind(null,t.syncEngine),n}function YM(r,t,n={}){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const v=new ly({next:A=>{v.Nu(),f.enqueueAndForget(()=>ry(u,T));const N=A.docs.has(p);!N&&A.fromCache?g.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&A.fromCache&&m&&m.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new sy(zf(p.path),v,{includeMetadataChanges:!0,qa:!0});return ny(u,T)}(await _f(r),r.asyncQueue,t,n,s)),s.promise}function XM(r,t,n={}){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const v=new ly({next:A=>{v.Nu(),f.enqueueAndForget(()=>ry(u,T)),A.fromCache&&m.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new sy(p,v,{includeMetadataChanges:!0,qa:!0});return ny(u,T)}(await _f(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firestore.googleapis.com",b0=!0;class R0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OA,this.ssl=b0}else this.host=t.host,this.ssl=t.ssl??b0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<C2)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NA(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eO;switch(s.type){case"firstParty":return new sO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=w0.get(n);s&&(ht("ComponentProvider","Removing Datastore"),w0.delete(n),s.terminate())}(this),Promise.resolve()}}function WM(r,t,n,s={}){var g;r=Nn(r,Yf);const o=qo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&(RS(`https://${p}`),IS("Firestore",!0)),u.host!==OA&&u.host!==p&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!ha(m,f)&&(r._setSettings(m),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=an.MOCK_USER;else{v=cC(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(A)}r._authCredentials=new nO(new T1(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ta(this.firestore,t,this._query)}}class ge{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ge(this.firestore,t,this._key)}toJSON(){return{type:ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Hu(n,ge._jsonSchema))return new ge(t,s||null,new _t(re.fromString(n.referencePath)))}}ge._jsonSchemaVersion="firestore/documentReference/1.0",ge._jsonSchema={type:Ce("string",ge._jsonSchemaVersion),referencePath:Ce("string")};class os extends Ta{constructor(t,n,s){super(t,n,zf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ge(this.firestore,null,new _t(t))}withConverter(t){return new os(this.firestore,t,this._path)}}function aa(r,t,...n){if(r=xe(r),S1("collection","path",t),r instanceof Yf){const s=re.fromString(t,...n);return jT(s),new os(r,null,s)}{if(!(r instanceof ge||r instanceof os))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...n));return jT(s),new os(r.firestore,null,s)}}function yi(r,t,...n){if(r=xe(r),arguments.length===1&&(t=kg.newId()),S1("doc","path",t),r instanceof Yf){const s=re.fromString(t,...n);return UT(s),new ge(r,null,new _t(s))}{if(!(r instanceof ge||r instanceof os))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...n));return UT(s),new ge(r.firestore,r instanceof os?r.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="AsyncQueue";class C0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pA(this,"async_queue_retry"),this._c=()=>{const s=wm();s&&ht(I0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Qo(t))throw t;ht(I0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",x0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=ty.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:x0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function x0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ps extends Yf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new C0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new C0(t),this._firestoreClient=void 0,await t}}}function MA(r,t){const n=typeof r=="object"?r:NS(),s=typeof r=="string"?r:uf,o=Rg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lC("firestore");u&&WM(o,...u)}return o}function Xf(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ZM(r),r._firestoreClient}function ZM(r){var s,o,u;const t=r._freezeSettings(),n=function(p,m,g,v){return new SO(p,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,NA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new $M(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(Je.fromBase64String(t))}catch(n){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hu(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ce("string",Qn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(t){if(Hu(t,Nr._jsonSchema))return new Nr(t.latitude,t.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:Ce("string",Nr._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hu(t,Or._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Or(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:Ce("string",Or._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=/^__.*__$/;class t4{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new _s(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(t,this.data,n,this.fieldTransforms)}}class VA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new _s(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function PA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:r})}}class uy{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new uy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return vf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(PA(this.Ac)&&JM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class e4{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||$f(t)}Cc(t,n,s,o=!1){return new uy({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(r){const t=r._freezeSettings(),n=$f(r._databaseId);return new e4(r._databaseId,!!t.ignoreUndefinedProperties,n)}function kA(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);hy("Data must be an object, but it was:",f,s);const p=LA(s,f);let m,g;if(u.merge)m=new Dn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=cg(t,T,n);if(!f.contains(A))throw new ct(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);jA(v,A)||v.push(A)}m=new Dn(v),g=f.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=f.fieldTransforms;return new t4(new vn(p),m,g)}class td extends Zf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof td}}class cy extends Zf{_toFieldTransform(t){return new KO(t.path,new Du)}isEqual(t){return t instanceof cy}}function n4(r,t,n,s){const o=r.Cc(1,t,n);hy("Data must be an object, but it was:",o,s);const u=[],f=vn.empty();ys(s,(m,g)=>{const v=fy(t,m,n);g=xe(g);const T=o.yc(v);if(g instanceof td)u.push(v);else{const A=Yu(g,T);A!=null&&(u.push(v),f.set(v,A))}});const p=new Dn(u);return new VA(f,p,o.fieldTransforms)}function r4(r,t,n,s,o,u){const f=r.Cc(1,t,n),p=[cg(t,s,n)],m=[o];if(u.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)p.push(cg(t,u[A])),m.push(u[A+1]);const g=[],v=vn.empty();for(let A=p.length-1;A>=0;--A)if(!jA(g,p[A])){const N=p[A];let U=m[A];U=xe(U);const H=f.yc(N);if(U instanceof td)g.push(N);else{const F=Yu(U,H);F!=null&&(g.push(N),v.set(N,F))}}const T=new Dn(g);return new VA(v,T,f.fieldTransforms)}function i4(r,t,n,s=!1){return Yu(n,r.Cc(s?4:3,t))}function Yu(r,t){if(UA(r=xe(r)))return hy("Unsupported field value:",t,r),LA(r,t);if(r instanceof Zf)return function(s,o){if(!PA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=Yu(p,o.wc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:pf(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pf(o.serializer,u)}}if(s instanceof Nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:rA(o.serializer,s._byteString)};if(s instanceof ge){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Or)return function(f,p){return{mapValue:{fields:{[N1]:{stringValue:O1},[cf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return qg(p.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${kf(s)}`)}(r,t)}function LA(r,t){const n={};return b1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ys(r,(s,o)=>{const u=Yu(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function UA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Nr||r instanceof Qn||r instanceof ge||r instanceof Zf||r instanceof Or)}function hy(r,t,n){if(!UA(n)||!A1(n)){const s=kf(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function cg(r,t,n){if((t=xe(t))instanceof Wf)return t._internalPath;if(typeof t=="string")return fy(r,t);throw vf("Field path arguments must be of type string or ",r,!1,void 0,n)}const s4=new RegExp("[~\\*/\\[\\]]");function fy(r,t,n){if(t.search(s4)>=0)throw vf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wf(...t.split("."))._internalPath}catch{throw vf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function vf(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new ct(Z.INVALID_ARGUMENT,p+r+m)}function jA(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new a4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(dy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a4 extends zA{data(){return super.data()}}function dy(r,t){return typeof t=="string"?fy(r,t):t instanceof Wf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class o4 extends py{}function Ef(r,t,...n){let s=[];t instanceof py&&s.push(t),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof my).length,p=u.filter(m=>m instanceof ed).length;if(f>1||f>0&&p>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ed extends o4{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ed(t,n,s)}_apply(t){const n=this._parse(t);return qA(t._query,n),new Ta(t.firestore,t.converter,Jm(t._query,n))}_parse(t){const n=Jf(t.firestore);return function(u,f,p,m,g,v,T){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){O0(T,v);const U=[];for(const H of T)U.push(N0(m,u,H));A={arrayValue:{values:U}}}else A=N0(m,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||O0(T,v),A=i4(p,f,T,v==="in"||v==="not-in");return Ie.create(g,v,A)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Tf(r,t,n){const s=t,o=dy("where",r);return ed._create(o,s,n)}class my extends py{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new my(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)qA(f,m),f=Jm(f,m)}(t._query,n),new Ta(t.firestore,t.converter,Jm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N0(r,t,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z1(t)&&n.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(re.fromString(n));if(!_t.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return QT(r,new _t(s))}if(n instanceof ge)return QT(r,n._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function O0(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qA(r,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class l4{convertValue(t,n="none"){switch(hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ys(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[cf].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>Ee(f.doubleValue));return new Or(n)}convertGeoPoint(t){return new Nr(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=jf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Iu(t));default:return null}}convertTimestamp(t){const n=us(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);Qt(uA(s),9688,{name:t});const o=new Cu(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||mi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class fu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oa extends zA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(dy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ce("string",oa._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Qh extends oa{data(t={}){return super.data(t)}}class la{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new fu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Qh(this._firestore,this._userDataWriter,s.key,s,new fu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new Qh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new fu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Qh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new fu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:u4(p.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=la._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function u4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(r){r=Nn(r,ge);const t=Nn(r.firestore,ps);return YM(Xf(t),r._key).then(n=>$A(t,r,n))}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Ce("string",la._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class gy extends l4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ge(this.firestore,null,n)}}function c4(r){r=Nn(r,Ta);const t=Nn(r.firestore,ps),n=Xf(t),s=new gy(t);return BA(r._query),XM(n,r._query).then(o=>new la(t,s,r,o))}function GA(r,t,n){r=Nn(r,ge);const s=Nn(r.firestore,ps),o=HA(r.converter,t,n);return yy(s,[kA(Jf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ir.none())])}function Sf(r,t,n,...s){r=Nn(r,ge);const o=Nn(r.firestore,ps),u=Jf(o);let f;return f=typeof(t=xe(t))=="string"||t instanceof Wf?r4(u,"updateDoc",r._key,t,n,s):n4(u,"updateDoc",r._key,t),yy(o,[f.toMutation(r._key,ir.exists(!0))])}function h4(r,t){const n=Nn(r.firestore,ps),s=yi(r),o=HA(r.converter,t);return yy(n,[kA(Jf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ir.exists(!1))]).then(()=>s)}function Mu(r,...t){var m,g,v;r=xe(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||D0(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(D0(t[s])){const T=t[s];t[s]=(m=T.next)==null?void 0:m.bind(T),t[s+1]=(g=T.error)==null?void 0:g.bind(T),t[s+2]=(v=T.complete)==null?void 0:v.bind(T)}let u,f,p;if(r instanceof ge)f=Nn(r.firestore,ps),p=zf(r._key.path),u={next:T=>{t[s]&&t[s]($A(f,r,T))},error:t[s+1],complete:t[s+2]};else{const T=Nn(r,Ta);f=Nn(T.firestore,ps),p=T._query;const A=new gy(f);u={next:N=>{t[s]&&t[s](new la(f,A,T,N))},error:t[s+1],complete:t[s+2]},BA(r._query)}return function(A,N,U,H){const F=new ly(H),J=new sy(N,F,U);return A.asyncQueue.enqueueAndForget(async()=>ny(await _f(A),J)),()=>{F.Nu(),A.asyncQueue.enqueueAndForget(async()=>ry(await _f(A),J))}}(Xf(f),p,o,u)}function yy(r,t){return function(s,o){const u=new hi;return s.asyncQueue.enqueueAndForget(async()=>LM(await KM(s),o,u)),u.promise}(Xf(r),t)}function $A(r,t,n){const s=n.docs.get(t._key),o=new gy(r);return new oa(r,o,t._key,s,new fu(n.hasPendingWrites,n.fromCache),t.converter)}function f4(){return new cy("serverTimestamp")}(function(t,n=!0){(function(o){Go=o})(Ho),Do(new fa("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ps(new rO(s.getProvider("auth-internal")),new aO(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),ss(VT,PT,t),ss(VT,PT,"esm2020")})();const d4={apiKey:"AIzaSyB5aFUQbtG1rShW-1O88aZjCG7uErNxmgQ",authDomain:"pdms-test-8a5cc.firebaseapp.com",projectId:"pdms-test-8a5cc",storageBucket:"pdms-test-8a5cc.firebasestorage.app",messagingSenderId:"631678861167",appId:"1:631678861167:web:5cd775b77e53535700329a"},_y=DS(d4);MA(_y);const dn=MA(_y),ya=WN(_y);function p4({onLoginSuccess:r}){const[t,n]=$.useState(""),[s,o]=$.useState(""),u=Pu(),f=()=>{u("/signup")},p=()=>{PD(ya,t,s).then(()=>{r(),u("/dashboard")}).catch(m=>{alert("로그인 실패: "+m.message)})};return R.jsxs(m4,{children:[R.jsxs(g4,{children:[R.jsxs(y4,{children:[R.jsx(_4,{children:"PDMS"}),R.jsx(v4,{children:"Pushcomz Design Management System"})]}),R.jsxs(E4,{children:[R.jsx(T4,{type:"text",value:t,onChange:m=>n(m.target.value),placeholder:"이메일을 입력해주세요."}),R.jsx(S4,{type:"password",value:s,onChange:m=>o(m.target.value),placeholder:"비밀번호를 입력해주세요."})]}),R.jsx(A4,{onClick:p,children:"로그인"}),R.jsxs(b4,{children:[R.jsx(R4,{children:"계정이 없습니까?"}),R.jsx(I4,{onClick:f,children:"등록하기"})]})]}),R.jsx(w4,{children:"© Pushcomz Corp."})]})}const m4=pt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray};
`,g4=pt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white};
`,y4=pt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,_4=pt.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,v4=pt.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,E4=pt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
`,T4=pt.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,S4=pt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,A4=pt.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white};
`,w4=pt.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,b4=pt.div`
  
`,R4=pt.span`
  margin-right: 10px;
  font-size: 13px;
`,I4=pt.button`
  font-size: 13px;
  color: ${({theme:r})=>r.colors.navy};
`,QA="./assets/logo-NEcdCz8m.svg";function C4(){const[r,t]=$.useState(""),[n,s]=$.useState(null),o=Pu();$.useEffect(()=>{const p=Mf(ya,async m=>{if(m){m.displayName&&t(m.displayName);const g=await FA(yi(dn,"users",m.uid));g.exists()?s(g.data().role):s(null)}else t(""),s(null)});return()=>p()},[]);const u=()=>{zD(ya).then(()=>{o("/")}).catch(p=>{alert("로그아웃 중 오류가 발생했습니다: "+p.message)})},f=p=>{switch(p){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}};return R.jsxs(x4,{children:[R.jsx(D4,{src:QA}),R.jsxs(N4,{children:[R.jsxs(O4,{children:[r,"님 (",f(n),")환영합니다."]}),R.jsx(M4,{onClick:u,children:"로그아웃"}),R.jsx(V4,{})]})]})}const x4=pt.header`
  ${({theme:r})=>r.mixin.flex("center","space-between")};
  padding: 15px 20px;
  background-color: ${({theme:r})=>r.colors.navy};
`,D4=pt.img`
  
`,N4=pt.div`

`,O4=pt.span`
  margin-right: 10px;
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`,M4=pt.button`
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`,V4=pt.span`
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`;function P4({userName:r}){const[t,n]=$.useState({completionDt:"",openDt:"",taskForm:"GHS",taskType:"프론트테마",requirement:"",url1:"",url2:""}),s=(u,f)=>{n(p=>({...p,[u]:f}))},o=async u=>{if(u.preventDefault(),!t.requirement){alert("요청 내용을 입력하세요.");return}const f=new Date,p=`${f.getMonth()+1}/${f.getDate()}`,m=g=>{if(!g)return"";const v=new Date(g);return`${v.getMonth()+1}/${v.getDate()}`};h4(aa(dn,"design_request"),{requester:r,request_date:p,completion_dt:m(t.completionDt),open_dt:m(t.openDt),task_form:t.taskForm,task_type:t.taskType,requirement:t.requirement,url1:t.url1,url2:t.url2,review_status:"검수대기",assigned_designer:"미배정",status:"대기",created_at:f4(),updated_at:null,delete_at:null}).then(()=>{alert("요청이 등록되었습니다!"),n({completionDt:"",openDt:"",taskForm:"GHS",taskType:"프론트테마",requirement:"",url1:"",url2:""})}).catch(g=>{alert("등록 중 오류가 발생했습니다: "+g.message)})};return R.jsxs(k4,{onSubmit:o,children:[R.jsx(L4,{children:"디자인 요청 등록"}),R.jsxs(U4,{children:[R.jsxs(Yi,{children:[R.jsx(ea,{htmlFor:"completionDt",children:"요청 완료일"}),R.jsx("input",{type:"date",id:"completionDt",value:t.completionDt,onChange:u=>s("completionDt",u.target.value)})]}),R.jsxs(Yi,{children:[R.jsx(ea,{htmlFor:"openDt",children:"오픈일"}),R.jsx("input",{type:"date",id:"openDt",value:t.openDt,onChange:u=>s("openDt",u.target.value)})]}),R.jsxs(Yi,{children:[R.jsx(ea,{htmlFor:"taskForm",children:"업무형태"}),R.jsxs("select",{id:"taskForm",value:t.taskForm,onChange:u=>s("taskForm",u.target.value),children:[R.jsx("option",{value:"GHS",children:"GHS"}),R.jsx("option",{value:"MHC",children:"MHC"}),R.jsx("option",{value:"MHC/GHS",children:"MHC/GHS"})]})]}),R.jsxs(Yi,{children:[R.jsx(ea,{htmlFor:"taskType",children:"업무타입"}),R.jsxs("select",{id:"taskType",value:t.taskType,onChange:u=>s("taskType",u.target.value),children:[R.jsx("option",{value:"프론트테마",children:"프론트테마"}),R.jsx("option",{value:"별도기획전",children:"별도기획전"}),R.jsx("option",{value:"일자별배너",children:"일자별배너"}),R.jsx("option",{value:"핫새배너",children:"핫새배너"}),R.jsx("option",{value:"큐레이션배너",children:"큐레이션배너"}),R.jsx("option",{value:"GNB-기획전(전문관)",children:"GNB-기획전(전문관)"}),R.jsx("option",{value:"GNB-주류이지픽업",children:"GNB-주류이지픽업"}),R.jsx("option",{value:"GNB-택배배송관",children:"GNB-택배배송관"}),R.jsx("option",{value:"페이/카드프로모션",children:"페이/카드프로모션"}),R.jsx("option",{value:"이벤트배너",children:"이벤트배너"}),R.jsx("option",{value:"상품상세",children:"상품상세"}),R.jsx("option",{value:"제휴",children:"제휴"}),R.jsx("option",{value:"클럽",children:"클럽"}),R.jsx("option",{value:"팝업",children:"팝업"}),R.jsx("option",{value:"푸시",children:"푸시"}),R.jsx("option",{value:"홈테마",children:"홈테마"}),R.jsx("option",{value:"즉시배송",children:"즉시배송"}),R.jsx("option",{value:"트레이딩",children:"트레이딩"}),R.jsx("option",{value:"이벤트",children:"이벤트"}),R.jsx("option",{value:"기타",children:"기타"})]})]}),R.jsxs(Yi,{children:[R.jsx(ea,{htmlFor:"requirement",children:"요청 내용"}),R.jsx("input",{type:"text",id:"requirement",value:t.requirement,onChange:u=>s("requirement",u.target.value),placeholder:"요청 내용을 입력하세요."})]}),R.jsxs(Yi,{children:[R.jsx(ea,{htmlFor:"url1",children:"요청 기획안 URL"}),R.jsx("input",{type:"text",id:"url1",value:t.url1,onChange:u=>s("url1",u.target.value),placeholder:"요청 기획안 URL을 입력하세요."})]}),R.jsxs(Yi,{children:[R.jsx(ea,{htmlFor:"url2",children:"비고"}),R.jsx("input",{type:"text",id:"url2",value:t.url2,onChange:u=>s("url2",u.target.value),placeholder:"비고 URL을 입력하세요."})]}),R.jsx(Yi,{children:R.jsx(j4,{type:"submit",children:"등록하기"})})]})]})}const k4=pt.form``,L4=pt.h2``,U4=pt.ul`
  ${({theme:r})=>r.mixin.flex("center")};
  margin: 20px 0;
  gap: 30px;
`,Yi=pt.li`
  ${({theme:r})=>r.mixin.flex("center")};
  flex-direction: column;
  gap: 10px;
`,ea=pt.label`
  width: 100%;
  text-align: center;
  font-size: 18px;
  font-weight: 700;
`,j4=pt.button`
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 15px;
  background-color: ${({theme:r})=>r.colors.navy};
  color: ${({theme:r})=>r.colors.white};
`;function z4({item:r,onReviewComplete:t}){const{request:n,response:s}=r;return R.jsxs("tr",{children:[R.jsx("td",{children:n.request_date}),R.jsx("td",{children:n.requester}),R.jsx("td",{children:n.completion_dt}),R.jsx("td",{children:n.open_dt}),R.jsx("td",{children:n.task_form}),R.jsx("td",{children:n.task_type}),R.jsx("td",{children:n.requirement}),R.jsx("td",{children:n.url1}),R.jsx("td",{children:n.url2}),R.jsx("td",{children:n.status||"대기"}),R.jsx("td",{children:n.assigned_designer||"미배정"}),R.jsx("td",{children:s==null?void 0:s.result_url}),R.jsx("td",{children:n.status==="완료"?n.review_status!=="검수완료"?R.jsx(B4,{onClick:()=>t(r.id),children:"검수완료"}):R.jsx(q4,{children:"완료"}):R.jsx("span",{children:"-"})})]})}const B4=pt.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white};
  background-color: ${({theme:r})=>r.colors.navy};
`,q4=pt.span`
  color: green;
  font-weight: bold;
`;function H4({data:r,onReviewComplete:t}){return console.log(r),R.jsxs(F4,{children:[R.jsx(G4,{children:"요청 리스트"}),R.jsxs("colgroup",{children:[R.jsx("col",{style:{width:"60px"}}),R.jsx("col",{style:{width:"80px"}}),R.jsx("col",{style:{width:"100px"}}),R.jsx("col",{style:{width:"60px"}}),R.jsx("col",{style:{width:"100px"}}),R.jsx("col",{style:{width:"100px"}}),R.jsx("col",{}),R.jsx("col",{}),R.jsx("col",{}),R.jsx("col",{style:{width:"100px"}}),R.jsx("col",{style:{width:"100px"}}),R.jsx("col",{}),R.jsx("col",{style:{width:"80px"}})]}),R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"요청일"}),R.jsx("th",{children:"요청자"}),R.jsx("th",{children:"완료 요청일"}),R.jsx("th",{children:"오픈일"}),R.jsx("th",{children:"업무형태"}),R.jsx("th",{children:"업무타입"}),R.jsx("th",{children:"요청내용"}),R.jsx("th",{children:"기획안 URL"}),R.jsx("th",{children:"비고"}),R.jsx("th",{children:"진행상태"}),R.jsx("th",{children:"담당디자이너"}),R.jsx("th",{children:"산출물 URL"}),R.jsx("th",{children:"검수"})]})}),R.jsx("tbody",{children:r.length>0?r.map(n=>R.jsx(z4,{item:n,onReviewComplete:t},n.id)):R.jsx("tr",{children:R.jsx("td",{colSpan:12,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})}const F4=pt.table`
  width: 100%;
  text-align: center;
`,G4=pt.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`;function $4(){const[r,t]=$.useState(""),[n,s]=$.useState([]),[o,u]=$.useState({});$.useEffect(()=>{const m=Mf(ya,g=>{g&&g.displayName&&t(g.displayName)});return()=>m()},[]),$.useEffect(()=>{if(!r)return;const m=Ef(aa(dn,"design_request"),Tf("requester","==",r)),g=Mu(m,v=>{const T=v.docs.map(A=>({id:A.id,...A.data()}));s(T)});return()=>g()},[r]),$.useEffect(()=>{const m=Ef(aa(dn,"design_response"),Tf("is_sent_to_requester","==",!0)),g=Mu(m,v=>{const T={};v.docs.forEach(A=>{const N=A.data();T[N.request_id]=N}),u(T)});return()=>g()},[]);const f=async m=>{try{await Sf(yi(dn,"design_request",m),{review_status:"검수완료",reviewed_at:new Date}),alert("검수완료 처리되었습니다.")}catch(g){console.error(g),alert("검수완료 처리 중 오류 발생")}},p=n.map(m=>({id:m.id,request:m,response:o[m.id]||null}));return R.jsxs(R.Fragment,{children:[R.jsx(P4,{userName:r}),R.jsx(Q4,{children:"디자인 요청 리스트"}),R.jsx(H4,{data:p,onReviewComplete:f})]})}const Q4=pt.h2`
  margin-bottom: 20px;
`;function K4(){const[r,t]=$.useState([]),[n,s]=$.useState(""),[o,u]=$.useState({});$.useEffect(()=>{const m=Mf(ya,g=>{g&&g.displayName&&s(g.displayName)});return()=>m()},[]),$.useEffect(()=>{if(!n)return;const m=Ef(aa(dn,"design_request"),Tf("assigned_designer","==",n)),g=Mu(m,v=>{const T=v.docs.map(A=>({id:A.id,...A.data()}));t(T)});return()=>g()},[n]);const f=(m,g,v)=>{u(T=>({...T,[m]:{...T[m],[g]:v}}))},p=async m=>{var A;const g=yi(dn,"design_response",m),v=yi(dn,"design_request",m),T={request_id:m,...o[m],updated_at:new Date};await GA(g,T,{merge:!0}),(A=o[m])!=null&&A.status&&await Sf(v,{status:o[m].status}),alert("응답이 저장되었습니다.")};return R.jsxs(Y4,{children:[R.jsx("h2",{children:"디자이너 화면"}),r.length>0?R.jsx(X4,{children:r.map(m=>R.jsx(W4,{children:R.jsxs(Z4,{children:[R.jsxs("p",{children:[R.jsx("strong",{children:"요청자:"})," ",m.requester]}),R.jsxs("p",{children:[R.jsx("strong",{children:"요청일:"})," ",m.request_date]}),R.jsxs("p",{children:[R.jsx("strong",{children:"업무형태:"})," ",m.task_form]}),R.jsxs("p",{children:[R.jsx("strong",{children:"업무타입:"})," ",m.task_type]}),R.jsxs("p",{children:[R.jsx("strong",{children:"요청내용:"})," ",m.requirement]}),m.url1&&R.jsxs("p",{children:[R.jsx("strong",{children:"기획안:"})," ",R.jsx("a",{href:m.url1,target:"_blank",rel:"noopener noreferrer",children:"보기"})]}),m.url2&&R.jsxs("p",{children:[R.jsx("strong",{children:"비고:"})," ",R.jsx("a",{href:m.url2,target:"_blank",rel:"noopener noreferrer",children:"보기"})]}),R.jsxs("p",{children:[R.jsx("strong",{children:"배정 디자이너:"})," ",m.assigned_designer]}),m.review_status==="검수완료"&&R.jsx("p",{style:{color:"green",fontWeight:"bold",marginTop:"8px"},children:"검수가 완료되었습니다."}),R.jsx(xh,{children:"시작일"}),R.jsx(Rm,{type:"date",onChange:g=>f(m.id,"start_dt",g.target.value)}),R.jsx(xh,{children:"종료일"}),R.jsx(Rm,{type:"date",onChange:g=>f(m.id,"end_dt",g.target.value)}),R.jsx(xh,{children:"산출물 링크"}),R.jsx(Rm,{type:"text",placeholder:"https://...",onChange:g=>f(m.id,"result_url",g.target.value)}),R.jsx(xh,{children:"진행상태"}),R.jsxs(J4,{onChange:g=>f(m.id,"status",g.target.value),children:[R.jsx("option",{value:"대기중",children:"대기"}),R.jsx("option",{value:"진행중",children:"진행중"}),R.jsx("option",{value:"완료",children:"완료"})]}),R.jsx(tV,{onClick:()=>p(m.id),children:"저장"})]})},m.id))}):R.jsx("p",{children:"배정된 요청이 없습니다."})]})}const Y4=pt.div`
  padding: 20px;
`,X4=pt.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`,W4=pt.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  border: 1px solid #ddd;
  padding: 16px;
  border-radius: 8px;
  background: #fff;
`,Z4=pt.div`
  flex: 1;
  p {
    margin: 4px 0;
  }
`,xh=pt.label`
  display: block;
  margin-top: 10px;
  font-weight: bold;
`,Rm=pt.input`
  width: 100%;
  margin-bottom: 10px;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
`,J4=pt.select`
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
`,tV=pt.button`
  margin-top: 10px;
  padding: 10px 15px;
  background: #073863;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`;function eV(){const[r,t]=$.useState([]),[n,s]=$.useState([]),[o,u]=$.useState({}),[f,p]=$.useState({});$.useEffect(()=>{const T=Mu(aa(dn,"design_request"),A=>{const N=A.docs.map(U=>({id:U.id,...U.data()}));t(N)});return()=>T()},[]),$.useEffect(()=>{const T=Mu(aa(dn,"design_response"),A=>{const N={};A.docs.forEach(U=>{const H=U.data();N[H.request_id]=H}),p(N)});return()=>T()},[]),$.useEffect(()=>{(async()=>{const A=Ef(aa(dn,"users"),Tf("role","==",2)),U=(await c4(A)).docs.map(H=>({id:H.id,...H.data()}));s(U)})()},[]);const m=(T,A)=>{u(N=>({...N,[T]:A}))},g=async T=>{const A=o[T];if(!A){alert("디자이너를 선택하세요.");return}const N=yi(dn,"design_request",T);await Sf(N,{assigned_designer:A}),alert("디자이너가 배정되었습니다!"),t(U=>U.map(H=>H.id===T?{...H,assigned_designer:A}:H))},v=async T=>{const A=yi(dn,"design_response",T);await Sf(A,{is_sent_to_requester:!0}),alert("요청자에게 전달되었습니다."),p(N=>({...N,[T]:{...N[T],is_sent_to_requester:!0}}))};return R.jsxs(nV,{children:[R.jsx("h2",{children:"요청 리스트"}),r.length>0?R.jsx(rV,{children:r.map(T=>{const A=f[T.id];return R.jsxs(iV,{children:[R.jsxs(sV,{children:[R.jsxs("p",{children:[R.jsx("strong",{children:"요청일:"})," ",T.request_date]}),R.jsxs("p",{children:[R.jsx("strong",{children:"요청자:"})," ",T.requester]}),R.jsxs("p",{children:[R.jsx("strong",{children:"완료요청일:"})," ",T.completion_dt||"-"]}),R.jsxs("p",{children:[R.jsx("strong",{children:"오픈일:"})," ",T.open_dt||"-"]}),R.jsxs("p",{children:[R.jsx("strong",{children:"업무형태:"})," ",T.task_form]}),R.jsxs("p",{children:[R.jsx("strong",{children:"업무타입:"})," ",T.task_type]}),R.jsxs("p",{children:[R.jsx("strong",{children:"요청내용:"})," ",T.requirement]}),T.url1&&R.jsxs("p",{children:[R.jsx("strong",{children:"기획안1:"})," ",R.jsx("a",{href:T.url1,target:"_blank",rel:"noopener noreferrer",children:"보기"})]}),T.url2&&R.jsxs("p",{children:[R.jsx("strong",{children:"비고:"})," ",R.jsx("a",{href:T.url2,target:"_blank",rel:"noopener noreferrer",children:"보기"})]}),R.jsxs("p",{children:[R.jsx("strong",{children:"담당 디자이너:"})," ",T.assigned_designer||"미배정"]}),T.review_status==="검수완료"&&R.jsx("p",{style:{color:"green",fontWeight:"bold"},children:"검수가 완료되었습니다."}),A&&R.jsxs(aV,{children:[R.jsx("h4",{children:"디자이너 응답"}),R.jsxs("p",{children:[R.jsx("strong",{children:"시작일:"})," ",A.start_dt||"-"]}),R.jsxs("p",{children:[R.jsx("strong",{children:"종료일:"})," ",A.end_dt||"-"]}),R.jsxs("p",{children:[R.jsx("strong",{children:"산출물 링크:"})," ",A.result_url?R.jsx("a",{href:A.result_url,target:"_blank",children:"보기"}):"-"]}),R.jsxs("p",{children:[R.jsx("strong",{children:"진행상태:"})," ",A.status||"-"]}),A.status==="완료"&&!A.is_sent_to_requester&&R.jsx(lV,{onClick:()=>v(T.id),children:"완료"}),A.is_sent_to_requester&&R.jsx("p",{style:{color:"green"},children:"요청자에게 전달됨"})]})]}),R.jsxs(oV,{children:[R.jsxs("select",{value:o[T.id]||"",onChange:N=>m(T.id,N.target.value),children:[R.jsx("option",{value:"",children:"디자이너 선택"}),n.map(N=>R.jsx("option",{value:N.name,children:N.name},N.id))]}),R.jsx("button",{onClick:()=>g(T.id),children:"배정"})]})]},T.id)})}):R.jsx("p",{children:"요청 데이터를 불러오는 중..."})]})}const nV=pt.div`
  padding: 20px;
`,rV=pt.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`,iV=pt.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  border: 1px solid #ddd;
  padding: 16px;
  border-radius: 8px;
  background: #fff;
`,sV=pt.div`
  flex: 1;
  p {
    margin: 4px 0;
  }
`,aV=pt.div`
  margin-top: 15px;
  padding: 10px;
  background: #f9f9f9;
  border: 1px solid #ddd;
  border-radius: 6px;
`,oV=pt.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  select {
    padding: 8px;
    font-size: 14px;
  }
  button {
    padding: 8px 12px;
    background: #073863;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
`,lV=pt.button`
  margin-top: 10px;
  padding: 8px 12px;
  background: #28a745;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`;function uV(){const[r,t]=$.useState(null);$.useEffect(()=>{const s=Mf(ya,async o=>{if(o){const u=await FA(yi(dn,"users",o.uid));u.exists()&&t(u.data().role)}else t(null)});return()=>s()},[]);const n=()=>{if(r===1)return R.jsx($4,{});if(r===2)return R.jsx(K4,{});if(r===3)return R.jsx(eV,{})};return R.jsx(cV,{children:n()})}const cV=pt.main`
  padding: 20px 25px;
`;function hV(){return R.jsxs(fV,{children:[R.jsx(C4,{}),R.jsx(uV,{})]})}const fV=pt.div``;function dV(){const[r,t]=$.useState(""),[n,s]=$.useState(""),[o,u]=$.useState(""),[f,p]=$.useState(""),m=Pu(),g=async()=>{if(o!==f){alert("비밀번호가 일치하지 않습니다.");return}VD(ya,n,o).then(async v=>{const T=v.user;await LD(T,{displayName:r}),await GA(yi(dn,"users",T.uid),{name:r,role:2,createdAt:new Date})}).then(()=>{alert("회원가입이 완료되었습니다!"),m("/")}).catch(v=>{alert("회원가입 중 오류 발생: "+v.message)})};return R.jsx(pV,{children:R.jsxs(mV,{children:[R.jsxs(gV,{children:[R.jsx(yV,{children:"PDMS"}),R.jsx(_V,{children:"Pushcomz Design Management System"})]}),R.jsx(vV,{children:R.jsx(EV,{src:QA})}),R.jsxs(TV,{children:[R.jsx(SV,{type:"text",value:r,onChange:v=>t(v.target.value),placeholder:"이름을 입력해주세요."}),R.jsx(AV,{type:"text",value:n,onChange:v=>s(v.target.value),placeholder:"이메일을 입력해주세요."}),R.jsx(wV,{type:"password",value:o,onChange:v=>u(v.target.value),placeholder:"비밀번호를 입력해주세요."}),R.jsx(bV,{type:"password",value:f,onChange:v=>p(v.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),R.jsx(RV,{onClick:g,children:"등록하기"})]})})}const pV=pt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray};
`,mV=pt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white};
`,gV=pt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,yV=pt.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,_V=pt.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,vV=pt.div`
  margin-right: auto;
`,EV=pt.img`
  
`,TV=pt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,SV=pt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,AV=pt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,wV=pt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,bV=pt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,RV=pt.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white};
`;function IV(){const[r,t]=$.useState(!1);return R.jsx(qR,{basename:"/pdms-test",children:R.jsxs(vR,{children:[R.jsx(Dh,{path:"/",element:R.jsx(p4,{onLoginSuccess:()=>t(!0)})}),R.jsx(Dh,{path:"/dashboard",element:r?R.jsx(hV,{}):R.jsx(yR,{to:"/"})}),R.jsx(Dh,{path:"/signup",element:R.jsx(dV,{})})]})})}const CV=JI`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }
`,xV={white:"#fff",navy:"#073863",gray:"#ECEDF0"},DV={flex:(r="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${r};
    justify-content: ${t}
  `},NV={colors:xV,mixin:DV};Cb.createRoot(document.getElementById("root")).render(R.jsx($.StrictMode,{children:R.jsxs(XI,{theme:NV,children:[R.jsx(IV,{}),R.jsx(CV,{})]})}));
