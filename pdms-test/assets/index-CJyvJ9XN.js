var b2=Object.defineProperty;var v2=(e,t,n)=>t in e?b2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yt=(e,t,n)=>v2(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function x2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var V_={exports:{}},dh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function w2(){if(CE)return dh;CE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return dh.Fragment=t,dh.jsx=n,dh.jsxs=n,dh}var DE;function E2(){return DE||(DE=1,V_.exports=w2()),V_.exports}var v=E2(),j_={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function S2(){if(ME)return qt;ME=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function S(U,J,rt){this.props=U,this.context=J,this.refs=A,this.updater=rt||w}S.prototype.isReactComponent={},S.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=S.prototype;function O(U,J,rt){this.props=U,this.context=J,this.refs=A,this.updater=rt||w}var M=O.prototype=new C;M.constructor=O,E(M,S.prototype),M.isPureReactComponent=!0;var q=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function D(U,J,rt,lt,gt,Tt){return rt=Tt.ref,{$$typeof:e,type:U,key:J,ref:rt!==void 0?rt:null,props:Tt}}function k(U,J){return D(U.type,J,void 0,void 0,void 0,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function z(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(rt){return J[rt]})}var F=/\/+/g;function N(U,J){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):J.toString(36)}function P(){}function bt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ot(U,J,rt,lt,gt){var Tt=typeof U;(Tt==="undefined"||Tt==="boolean")&&(U=null);var xt=!1;if(U===null)xt=!0;else switch(Tt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(U.$$typeof){case e:case t:xt=!0;break;case p:return xt=U._init,ot(xt(U._payload),J,rt,lt,gt)}}if(xt)return gt=gt(U),xt=lt===""?"."+N(U,0):lt,q(gt)?(rt="",xt!=null&&(rt=xt.replace(F,"$&/")+"/"),ot(gt,J,rt,"",function(De){return De})):gt!=null&&(V(gt)&&(gt=k(gt,rt+(gt.key==null||U&&U.key===gt.key?"":(""+gt.key).replace(F,"$&/")+"/")+xt)),J.push(gt)),1;xt=0;var Te=lt===""?".":lt+":";if(q(U))for(var Yt=0;Yt<U.length;Yt++)lt=U[Yt],Tt=Te+N(lt,Yt),xt+=ot(lt,J,rt,Tt,gt);else if(Yt=_(U),typeof Yt=="function")for(U=Yt.call(U),Yt=0;!(lt=U.next()).done;)lt=lt.value,Tt=Te+N(lt,Yt++),xt+=ot(lt,J,rt,Tt,gt);else if(Tt==="object"){if(typeof U.then=="function")return ot(bt(U),J,rt,lt,gt);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return xt}function W(U,J,rt){if(U==null)return U;var lt=[],gt=0;return ot(U,lt,"","",function(Tt){return J.call(rt,Tt,gt++)}),lt}function G(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(rt){(U._status===0||U._status===-1)&&(U._status=1,U._result=rt)},function(rt){(U._status===0||U._status===-1)&&(U._status=2,U._result=rt)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var Q=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function X(){}return qt.Children={map:W,forEach:function(U,J,rt){W(U,function(){J.apply(this,arguments)},rt)},count:function(U){var J=0;return W(U,function(){J++}),J},toArray:function(U){return W(U,function(J){return J})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},qt.Component=S,qt.Fragment=n,qt.Profiler=s,qt.PureComponent=O,qt.StrictMode=i,qt.Suspense=h,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,qt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return L.H.useMemoCache(U)}},qt.cache=function(U){return function(){return U.apply(null,arguments)}},qt.cloneElement=function(U,J,rt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var lt=E({},U.props),gt=U.key,Tt=void 0;if(J!=null)for(xt in J.ref!==void 0&&(Tt=void 0),J.key!==void 0&&(gt=""+J.key),J)!Y.call(J,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&J.ref===void 0||(lt[xt]=J[xt]);var xt=arguments.length-2;if(xt===1)lt.children=rt;else if(1<xt){for(var Te=Array(xt),Yt=0;Yt<xt;Yt++)Te[Yt]=arguments[Yt+2];lt.children=Te}return D(U.type,gt,void 0,void 0,Tt,lt)},qt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},qt.createElement=function(U,J,rt){var lt,gt={},Tt=null;if(J!=null)for(lt in J.key!==void 0&&(Tt=""+J.key),J)Y.call(J,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(gt[lt]=J[lt]);var xt=arguments.length-2;if(xt===1)gt.children=rt;else if(1<xt){for(var Te=Array(xt),Yt=0;Yt<xt;Yt++)Te[Yt]=arguments[Yt+2];gt.children=Te}if(U&&U.defaultProps)for(lt in xt=U.defaultProps,xt)gt[lt]===void 0&&(gt[lt]=xt[lt]);return D(U,Tt,void 0,void 0,null,gt)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(U){return{$$typeof:c,render:U}},qt.isValidElement=V,qt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:G}},qt.memo=function(U,J){return{$$typeof:f,type:U,compare:J===void 0?null:J}},qt.startTransition=function(U){var J=L.T,rt={};L.T=rt;try{var lt=U(),gt=L.S;gt!==null&&gt(rt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(X,Q)}catch(Tt){Q(Tt)}finally{L.T=J}},qt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},qt.use=function(U){return L.H.use(U)},qt.useActionState=function(U,J,rt){return L.H.useActionState(U,J,rt)},qt.useCallback=function(U,J){return L.H.useCallback(U,J)},qt.useContext=function(U){return L.H.useContext(U)},qt.useDebugValue=function(){},qt.useDeferredValue=function(U,J){return L.H.useDeferredValue(U,J)},qt.useEffect=function(U,J,rt){var lt=L.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(U,J)},qt.useId=function(){return L.H.useId()},qt.useImperativeHandle=function(U,J,rt){return L.H.useImperativeHandle(U,J,rt)},qt.useInsertionEffect=function(U,J){return L.H.useInsertionEffect(U,J)},qt.useLayoutEffect=function(U,J){return L.H.useLayoutEffect(U,J)},qt.useMemo=function(U,J){return L.H.useMemo(U,J)},qt.useOptimistic=function(U,J){return L.H.useOptimistic(U,J)},qt.useReducer=function(U,J,rt){return L.H.useReducer(U,J,rt)},qt.useRef=function(U){return L.H.useRef(U)},qt.useState=function(U){return L.H.useState(U)},qt.useSyncExternalStore=function(U,J,rt){return L.H.useSyncExternalStore(U,J,rt)},qt.useTransition=function(){return L.H.useTransition()},qt.version="19.1.0",qt}var IE;function z0(){return IE||(IE=1,j_.exports=S2()),j_.exports}var B=z0();const _t=x2(B);var U_={exports:{}},ph={},z_={exports:{}},B_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function T2(){return OE||(OE=1,function(e){function t(W,G){var Q=W.length;W.push(G);t:for(;0<Q;){var X=Q-1>>>1,U=W[X];if(0<s(U,G))W[X]=G,W[Q]=U,Q=X;else break t}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var G=W[0],Q=W.pop();if(Q!==G){W[0]=Q;t:for(var X=0,U=W.length,J=U>>>1;X<J;){var rt=2*(X+1)-1,lt=W[rt],gt=rt+1,Tt=W[gt];if(0>s(lt,Q))gt<U&&0>s(Tt,lt)?(W[X]=Tt,W[gt]=Q,X=gt):(W[X]=lt,W[rt]=Q,X=rt);else if(gt<U&&0>s(Tt,Q))W[X]=Tt,W[gt]=Q,X=gt;else break t}}return G}function s(W,G){var Q=W.sortIndex-G.sortIndex;return Q!==0?Q:W.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,y=null,_=3,w=!1,E=!1,A=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function q(W){for(var G=n(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=W)i(f),G.sortIndex=G.expirationTime,t(h,G);else break;G=n(f)}}function L(W){if(A=!1,q(W),!E)if(n(h)!==null)E=!0,Y||(Y=!0,N());else{var G=n(f);G!==null&&ot(L,G.startTime-W)}}var Y=!1,D=-1,k=5,V=-1;function z(){return S?!0:!(e.unstable_now()-V<k)}function F(){if(S=!1,Y){var W=e.unstable_now();V=W;var G=!0;try{t:{E=!1,A&&(A=!1,O(D),D=-1),w=!0;var Q=_;try{e:{for(q(W),y=n(h);y!==null&&!(y.expirationTime>W&&z());){var X=y.callback;if(typeof X=="function"){y.callback=null,_=y.priorityLevel;var U=X(y.expirationTime<=W);if(W=e.unstable_now(),typeof U=="function"){y.callback=U,q(W),G=!0;break e}y===n(h)&&i(h),q(W)}else i(h);y=n(h)}if(y!==null)G=!0;else{var J=n(f);J!==null&&ot(L,J.startTime-W),G=!1}}break t}finally{y=null,_=Q,w=!1}G=void 0}}finally{G?N():Y=!1}}}var N;if(typeof M=="function")N=function(){M(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,bt=P.port2;P.port1.onmessage=F,N=function(){bt.postMessage(null)}}else N=function(){C(F,0)};function ot(W,G){D=C(function(){W(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(W){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var Q=_;_=G;try{return W()}finally{_=Q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(W,G){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=_;_=W;try{return G()}finally{_=Q}},e.unstable_scheduleCallback=function(W,G,Q){var X=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,W={id:p++,callback:G,priorityLevel:W,startTime:Q,expirationTime:U,sortIndex:-1},Q>X?(W.sortIndex=Q,t(f,W),n(h)===null&&W===n(f)&&(A?(O(D),D=-1):A=!0,ot(L,Q-X))):(W.sortIndex=U,t(h,W),E||w||(E=!0,Y||(Y=!0,N()))),W},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(W){var G=_;return function(){var Q=_;_=G;try{return W.apply(this,arguments)}finally{_=Q}}}}(B_)),B_}var PE;function A2(){return PE||(PE=1,z_.exports=T2()),z_.exports}var F_={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function R2(){if(NE)return Xn;NE=1;var e=z0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},Xn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},Xn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Xn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Xn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Xn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Xn.requestFormReset=function(h){i.d.r(h)},Xn.unstable_batchedUpdates=function(h,f){return h(f)},Xn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},Xn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Xn.version="19.1.0",Xn}var LE;function k2(){if(LE)return F_.exports;LE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),F_.exports=R2(),F_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function C2(){if(VE)return ph;VE=1;var e=A2(),t=z0(),n=k2();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,d=o;;){var m=u.return;if(m===null)break;var b=m.alternate;if(b===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===u)return c(m),r;if(b===d)return c(m),o;b=b.sibling}throw Error(i(188))}if(u.return!==d.return)u=m,d=b;else{for(var R=!1,I=m.child;I;){if(I===u){R=!0,u=m,d=b;break}if(I===d){R=!0,d=m,u=b;break}I=I.sibling}if(!R){for(I=b.child;I;){if(I===u){R=!0,u=b,d=m;break}if(I===d){R=!0,d=b,u=m;break}I=I.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),M=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function N(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function bt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case Y:return"SuspenseList";case V:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case M:return(r.displayName||"Context")+".Provider";case O:return(r._context.displayName||"Context")+".Consumer";case q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return o=r.displayName||null,o!==null?o:bt(r.type)||"Memo";case k:o=r._payload,r=r._init;try{return bt(r(o))}catch{}}return null}var ot=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},X=[],U=-1;function J(r){return{current:r}}function rt(r){0>U||(r.current=X[U],X[U]=null,U--)}function lt(r,o){U++,X[U]=r.current,r.current=o}var gt=J(null),Tt=J(null),xt=J(null),Te=J(null);function Yt(r,o){switch(lt(xt,o),lt(Tt,r),lt(gt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?iE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=iE(o),r=sE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}rt(gt),lt(gt,r)}function De(){rt(gt),rt(Tt),rt(xt)}function Gn(r){r.memoizedState!==null&&lt(Te,r);var o=gt.current,u=sE(o,r.type);o!==u&&(lt(Tt,r),lt(gt,u))}function wn(r){Tt.current===r&&(rt(gt),rt(Tt)),Te.current===r&&(rt(Te),lh._currentValue=Q)}var pt=Object.prototype.hasOwnProperty,Dt=e.unstable_scheduleCallback,St=e.unstable_cancelCallback,zt=e.unstable_shouldYield,ge=e.unstable_requestPaint,Ke=e.unstable_now,ji=e.unstable_getCurrentPriorityLevel,Ui=e.unstable_ImmediatePriority,di=e.unstable_UserBlockingPriority,Ei=e.unstable_NormalPriority,Sl=e.unstable_LowPriority,ws=e.unstable_IdlePriority,sr=e.log,Tl=e.unstable_setDisableYieldValue,Le=null,le=null;function ri(r){if(typeof sr=="function"&&Tl(r),le&&typeof le.setStrictMode=="function")try{le.setStrictMode(Le,r)}catch{}}var En=Math.clz32?Math.clz32:rr,Al=Math.log,fu=Math.LN2;function rr(r){return r>>>=0,r===0?32:31-(Al(r)/fu|0)|0}var ar=256,or=4194304;function Si(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function lr(r,o,u){var d=r.pendingLanes;if(d===0)return 0;var m=0,b=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var I=d&134217727;return I!==0?(d=I&~b,d!==0?m=Si(d):(R&=I,R!==0?m=Si(R):u||(u=I&~r,u!==0&&(m=Si(u))))):(I=d&~b,I!==0?m=Si(I):R!==0?m=Si(R):u||(u=d&~r,u!==0&&(m=Si(u)))),m===0?0:o!==0&&o!==m&&(o&b)===0&&(b=m&-m,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:m}function cr(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function ra(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ut(){var r=ar;return ar<<=1,(ar&4194048)===0&&(ar=256),r}function ue(){var r=or;return or<<=1,(or&62914560)===0&&(or=4194304),r}function It(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function se(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sn(r,o,u,d,m,b){var R=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var I=r.entanglements,$=r.expirationTimes,nt=r.hiddenUpdates;for(u=R&~u;0<u;){var ct=31-En(u),ft=1<<ct;I[ct]=0,$[ct]=-1;var it=nt[ct];if(it!==null)for(nt[ct]=null,ct=0;ct<it.length;ct++){var st=it[ct];st!==null&&(st.lane&=-536870913)}u&=~ft}d!==0&&Bt(r,d,0),b!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=b&~(R&~o))}function Bt(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-En(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194090}function mo(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-En(u),m=1<<d;m&o|r[d]&o&&(r[d]|=o),u&=~m}}function Es(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function aa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function zi(){var r=G.p;return r!==0?r:(r=window.event,r===void 0?32:EE(r.type))}function oa(r,o){var u=G.p;try{return G.p=r,o()}finally{G.p=u}}var Ve=Math.random().toString(36).slice(2),gn="__reactFiber$"+Ve,en="__reactProps$"+Ve,Bi="__reactContainer$"+Ve,du="__reactEvents$"+Ve,zm="__reactListeners$"+Ve,la="__reactHandles$"+Ve,Xf="__reactResources$"+Ve,yo="__reactMarker$"+Ve;function ca(r){delete r[gn],delete r[en],delete r[du],delete r[zm],delete r[la]}function ur(r){var o=r[gn];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Bi]||u[gn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=lE(r);r!==null;){if(u=r[gn])return u;r=lE(r)}return o}r=u,u=r.parentNode}return null}function Ss(r){if(r=r[gn]||r[Bi]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Ts(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function ai(r){var o=r[Xf];return o||(o=r[Xf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Xe(r){r[yo]=!0}var pu=new Set,Rl={};function rs(r,o){hr(r,o),hr(r+"Capture",o)}function hr(r,o){for(Rl[r]=o,r=0;r<o.length;r++)pu.add(o[r])}var Qf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zf={},_o={};function Jf(r){return pt.call(_o,r)?!0:pt.call(Zf,r)?!1:Qf.test(r)?_o[r]=!0:(Zf[r]=!0,!1)}function ua(r,o,u){if(Jf(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function As(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Ln(r,o,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+d)}}var bo,td;function fr(r){if(bo===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);bo=o&&o[1]||"",td=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bo+r+td}var kl=!1;function Cl(r,o){if(!r||kl)return"";kl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(st){var it=st}Reflect.construct(r,[],ft)}else{try{ft.call()}catch(st){it=st}r.call(ft.prototype)}}else{try{throw Error()}catch(st){it=st}(ft=r())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(st){if(st&&it&&typeof st.stack=="string")return[st.stack,it.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),R=b[0],I=b[1];if(R&&I){var $=R.split(`
`),nt=I.split(`
`);for(m=d=0;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;for(;m<nt.length&&!nt[m].includes("DetermineComponentFrameRoot");)m++;if(d===$.length||m===nt.length)for(d=$.length-1,m=nt.length-1;1<=d&&0<=m&&$[d]!==nt[m];)m--;for(;1<=d&&0<=m;d--,m--)if($[d]!==nt[m]){if(d!==1||m!==1)do if(d--,m--,0>m||$[d]!==nt[m]){var ct=`
`+$[d].replace(" at new "," at ");return r.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",r.displayName)),ct}while(1<=d&&0<=m);break}}}finally{kl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?fr(u):""}function gu(r){switch(r.tag){case 26:case 27:case 5:return fr(r.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Cl(r.type,!1);case 11:return Cl(r.type.render,!1);case 1:return Cl(r.type,!0);case 31:return fr("Activity");default:return""}}function Dl(r){try{var o="";do o+=gu(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function oi(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function mu(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Bm(r){var o=mu(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,b=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(R){d=""+R,b.call(this,R)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ml(r){r._valueTracker||(r._valueTracker=Bm(r))}function yu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=mu(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function vo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Fm=/[\n"\\]/g;function nn(r){return r.replace(Fm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ti(r,o,u,d,m,b,R,I){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),o!=null?R==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+oi(o)):r.value!==""+oi(o)&&(r.value=""+oi(o)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),o!=null?ha(r,R,oi(o)):u!=null?ha(r,R,oi(u)):d!=null&&r.removeAttribute("value"),m==null&&b!=null&&(r.defaultChecked=!!b),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+oi(I):r.removeAttribute("name")}function xo(r,o,u,d,m,b,R,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+oi(u):"",o=o!=null?""+oi(o):u,I||o===r.value||(r.value=o),r.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=I?r.checked:!!d,r.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function ha(r,o,u){o==="number"&&vo(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function dr(r,o,u,d){if(r=r.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=o.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&d&&(r[u].defaultSelected=!0)}else{for(u=""+oi(u),o=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function be(r,o,u){if(o!=null&&(o=""+oi(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+oi(u):""}function wo(r,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(ot(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=oi(o),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function Fi(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(r,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,u):typeof u!="number"||u===0||Eo.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function _u(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&u[m]!==d&&ed(r,m,d)}else for(var b in o)o.hasOwnProperty(b)&&ed(r,b,o[b])}function bu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$m=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(r){return $m.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var pr=null;function qi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gr=null,mr=null;function vu(r){var o=Ss(r);if(o&&(r=o.stateNode)){var u=r[en]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ti(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+nn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var m=d[en]||null;if(!m)throw Error(i(90));Ti(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===r.form&&yu(d)}break t;case"textarea":be(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&dr(r,!!u.multiple,o,!1)}}}var Rs=!1;function nd(r,o,u){if(Rs)return r(o,u);Rs=!0;try{var d=r(o);return d}finally{if(Rs=!1,(gr!==null||mr!==null)&&(Kd(),gr&&(o=gr,r=mr,mr=gr=null,vu(o),r)))for(o=0;o<r.length;o++)vu(r[o])}}function So(r,o){var u=r.stateNode;if(u===null)return null;var d=u[en]||null;if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=!1;if(as)try{var To={};Object.defineProperty(To,"passive",{get:function(){$i=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{$i=!1}var ks=null,fa=null,yr=null;function xu(){if(yr)return yr;var r,o=fa,u=o.length,d,m="value"in ks?ks.value:ks.textContent,b=m.length;for(r=0;r<u&&o[r]===m[r];r++);var R=u-r;for(d=1;d<=R&&o[u-d]===m[b-d];d++);return yr=m.slice(r,1<d?1-d:void 0)}function Cs(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ds(){return!0}function wu(){return!1}function Tn(r){function o(u,d,m,b,R){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(u=r[I],this[I]=u?u(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ds:wu,this.isPropagationStopped=wu,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),o}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Tn(he),Ao=p({},he,{view:0,detail:0}),id=Tn(Ao),Pl,Nl,Ms,Ro=p({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ms&&(Ms&&r.type==="mousemove"?(Pl=r.screenX-Ms.screenX,Nl=r.screenY-Ms.screenY):Nl=Pl=0,Ms=r),Pl)},movementY:function(r){return"movementY"in r?r.movementY:Nl}}),Hi=Tn(Ro),sd=p({},Ro,{dataTransfer:0}),Hm=Tn(sd),ko=p({},Ao,{relatedTarget:0}),Ll=Tn(ko),Eu=p({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),Vl=Tn(Eu),rd=p({},he,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jl=Tn(rd),Wm=p({},he,{data:0}),Su=Tn(Wm),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ad={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=od[r])?!!o[r]:!1}function Do(){return Tu}var ld=p({},Ao,{key:function(r){if(r.key){var o=Co[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Cs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ad[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(r){return r.type==="keypress"?Cs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ul=Tn(ld),cd=p({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=Tn(cd),_r=p({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),ud=Tn(_r),hd=p({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),fd=Tn(hd),dd=p({},Ro,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),zl=Tn(dd),li=p({},he,{newState:0,oldState:0}),pd=Tn(li),gd=[9,13,27,32],Is=as&&"CompositionEvent"in window,g=null;as&&"documentMode"in document&&(g=document.documentMode);var x=as&&"TextEvent"in window&&!g,T=as&&(!Is||g&&8<g&&11>=g),j=" ",tt=!1;function at(r,o){switch(r){case"keyup":return gd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var te=!1;function mn(r,o){switch(r){case"compositionend":return mt(o);case"keypress":return o.which!==32?null:(tt=!0,j);case"textInput":return r=o.data,r===j&&tt?null:r;default:return null}}function ee(r,o){if(te)return r==="compositionend"||!Is&&at(r,o)?(r=xu(),yr=fa=ks=null,te=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!An[r.type]:o==="textarea"}function br(r,o,u,d){gr?mr?mr.push(d):mr=[d]:gr=d,o=ep(o,"onChange"),0<o.length&&(u=new Ol("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var Vn=null,Os=null;function Ru(r){Z1(r,0)}function md(r){var o=Ts(r);if(yu(o))return r}function bx(r,o){if(r==="change")return o}var vx=!1;if(as){var Ym;if(as){var Gm="oninput"in document;if(!Gm){var xx=document.createElement("div");xx.setAttribute("oninput","return;"),Gm=typeof xx.oninput=="function"}Ym=Gm}else Ym=!1;vx=Ym&&(!document.documentMode||9<document.documentMode)}function wx(){Vn&&(Vn.detachEvent("onpropertychange",Ex),Os=Vn=null)}function Ex(r){if(r.propertyName==="value"&&md(Os)){var o=[];br(o,Os,r,qi(r)),nd(Ru,o)}}function KI(r,o,u){r==="focusin"?(wx(),Vn=o,Os=u,Vn.attachEvent("onpropertychange",Ex)):r==="focusout"&&wx()}function XI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return md(Os)}function QI(r,o){if(r==="click")return md(o)}function ZI(r,o){if(r==="input"||r==="change")return md(o)}function JI(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Ai=typeof Object.is=="function"?Object.is:JI;function ku(r,o){if(Ai(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!pt.call(o,m)||!Ai(r[m],o[m]))return!1}return!0}function Sx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Tx(r,o){var u=Sx(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Sx(u)}}function Ax(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Ax(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Rx(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=vo(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=vo(r.document)}return o}function Km(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var tO=as&&"documentMode"in document&&11>=document.documentMode,Bl=null,Xm=null,Cu=null,Qm=!1;function kx(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Qm||Bl==null||Bl!==vo(d)||(d=Bl,"selectionStart"in d&&Km(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Cu&&ku(Cu,d)||(Cu=d,d=ep(Xm,"onSelect"),0<d.length&&(o=new Ol("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=Bl)))}function Mo(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Fl={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionrun:Mo("Transition","TransitionRun"),transitionstart:Mo("Transition","TransitionStart"),transitioncancel:Mo("Transition","TransitionCancel"),transitionend:Mo("Transition","TransitionEnd")},Zm={},Cx={};as&&(Cx=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function Io(r){if(Zm[r])return Zm[r];if(!Fl[r])return r;var o=Fl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Cx)return Zm[r]=o[u];return r}var Dx=Io("animationend"),Mx=Io("animationiteration"),Ix=Io("animationstart"),eO=Io("transitionrun"),nO=Io("transitionstart"),iO=Io("transitioncancel"),Ox=Io("transitionend"),Px=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function os(r,o){Px.set(r,o),rs(o,[r])}var Nx=new WeakMap;function Wi(r,o){if(typeof r=="object"&&r!==null){var u=Nx.get(r);return u!==void 0?u:(o={value:r,source:o,stack:Dl(o)},Nx.set(r,o),o)}return{value:r,source:o,stack:Dl(o)}}var Yi=[],ql=0,ty=0;function yd(){for(var r=ql,o=ty=ql=0;o<r;){var u=Yi[o];Yi[o++]=null;var d=Yi[o];Yi[o++]=null;var m=Yi[o];Yi[o++]=null;var b=Yi[o];if(Yi[o++]=null,d!==null&&m!==null){var R=d.pending;R===null?m.next=m:(m.next=R.next,R.next=m),d.pending=m}b!==0&&Lx(u,m,b)}}function _d(r,o,u,d){Yi[ql++]=r,Yi[ql++]=o,Yi[ql++]=u,Yi[ql++]=d,ty|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function ey(r,o,u,d){return _d(r,o,u,d),bd(r)}function $l(r,o){return _d(r,null,null,o),bd(r)}function Lx(r,o,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var m=!1,b=r.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(m=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,m&&o!==null&&(m=31-En(u),r=b.hiddenUpdates,d=r[m],d===null?r[m]=[o]:d.push(o),o.lane=u|536870912),b):null}function bd(r){if(50<th)throw th=0,o_=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Hl={};function sO(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(r,o,u,d){return new sO(r,o,u,d)}function ny(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vr(r,o){var u=r.alternate;return u===null?(u=Ri(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Vx(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function vd(r,o,u,d,m,b){var R=0;if(d=r,typeof r=="function")ny(r)&&(R=1);else if(typeof r=="string")R=a2(r,u,gt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case V:return r=Ri(31,u,o,m),r.elementType=V,r.lanes=b,r;case E:return Oo(u.children,m,b,o);case A:R=8,m|=24;break;case S:return r=Ri(12,u,o,m|2),r.elementType=S,r.lanes=b,r;case L:return r=Ri(13,u,o,m),r.elementType=L,r.lanes=b,r;case Y:return r=Ri(19,u,o,m),r.elementType=Y,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:case M:R=10;break t;case O:R=9;break t;case q:R=11;break t;case D:R=14;break t;case k:R=16,d=null;break t}R=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Ri(R,u,o,m),o.elementType=r,o.type=d,o.lanes=b,o}function Oo(r,o,u,d){return r=Ri(7,r,d,o),r.lanes=u,r}function iy(r,o,u){return r=Ri(6,r,null,o),r.lanes=u,r}function sy(r,o,u){return o=Ri(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Wl=[],Yl=0,xd=null,wd=0,Gi=[],Ki=0,Po=null,xr=1,wr="";function No(r,o){Wl[Yl++]=wd,Wl[Yl++]=xd,xd=r,wd=o}function jx(r,o,u){Gi[Ki++]=xr,Gi[Ki++]=wr,Gi[Ki++]=Po,Po=r;var d=xr;r=wr;var m=32-En(d)-1;d&=~(1<<m),u+=1;var b=32-En(o)+m;if(30<b){var R=m-m%5;b=(d&(1<<R)-1).toString(32),d>>=R,m-=R,xr=1<<32-En(o)+m|u<<m|d,wr=b+r}else xr=1<<b|u<<m|d,wr=r}function ry(r){r.return!==null&&(No(r,1),jx(r,1,0))}function ay(r){for(;r===xd;)xd=Wl[--Yl],Wl[Yl]=null,wd=Wl[--Yl],Wl[Yl]=null;for(;r===Po;)Po=Gi[--Ki],Gi[Ki]=null,wr=Gi[--Ki],Gi[Ki]=null,xr=Gi[--Ki],Gi[Ki]=null}var ci=null,$e=null,ce=!1,Lo=null,Ps=!1,oy=Error(i(519));function Vo(r){var o=Error(i(418,""));throw Iu(Wi(o,r)),oy}function Ux(r){var o=r.stateNode,u=r.type,d=r.memoizedProps;switch(o[gn]=r,o[en]=d,u){case"dialog":Kt("cancel",o),Kt("close",o);break;case"iframe":case"object":case"embed":Kt("load",o);break;case"video":case"audio":for(u=0;u<nh.length;u++)Kt(nh[u],o);break;case"source":Kt("error",o);break;case"img":case"image":case"link":Kt("error",o),Kt("load",o);break;case"details":Kt("toggle",o);break;case"input":Kt("invalid",o),xo(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ml(o);break;case"select":Kt("invalid",o);break;case"textarea":Kt("invalid",o),wo(o,d.value,d.defaultValue,d.children),Ml(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||nE(o.textContent,u)?(d.popover!=null&&(Kt("beforetoggle",o),Kt("toggle",o)),d.onScroll!=null&&Kt("scroll",o),d.onScrollEnd!=null&&Kt("scrollend",o),d.onClick!=null&&(o.onclick=np),o=!0):o=!1,o||Vo(r)}function zx(r){for(ci=r.return;ci;)switch(ci.tag){case 5:case 13:Ps=!1;return;case 27:case 3:Ps=!0;return;default:ci=ci.return}}function Du(r){if(r!==ci)return!1;if(!ce)return zx(r),ce=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||E_(r.type,r.memoizedProps)),u=!u),u&&$e&&Vo(r),zx(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){$e=cs(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}$e=null}}else o===27?(o=$e,ka(r.type)?(r=R_,R_=null,$e=r):$e=o):$e=ci?cs(r.stateNode.nextSibling):null;return!0}function Mu(){$e=ci=null,ce=!1}function Bx(){var r=Lo;return r!==null&&(mi===null?mi=r:mi.push.apply(mi,r),Lo=null),r}function Iu(r){Lo===null?Lo=[r]:Lo.push(r)}var ly=J(null),jo=null,Er=null;function da(r,o,u){lt(ly,o._currentValue),o._currentValue=u}function Sr(r){r._currentValue=ly.current,rt(ly)}function cy(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function uy(r,o,u,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var b=m.dependencies;if(b!==null){var R=m.child;b=b.firstContext;t:for(;b!==null;){var I=b;b=m;for(var $=0;$<o.length;$++)if(I.context===o[$]){b.lanes|=u,I=b.alternate,I!==null&&(I.lanes|=u),cy(b.return,u,r),d||(R=null);break t}b=I.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(i(341));R.lanes|=u,b=R.alternate,b!==null&&(b.lanes|=u),cy(R,u,r),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===r){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function Ou(r,o,u,d){r=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var I=m.type;Ai(m.pendingProps.value,R.value)||(r!==null?r.push(I):r=[I])}}else if(m===Te.current){if(R=m.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(lh):r=[lh])}m=m.return}r!==null&&uy(o,r,u,d),o.flags|=262144}function Ed(r){for(r=r.firstContext;r!==null;){if(!Ai(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Uo(r){jo=r,Er=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Kn(r){return Fx(jo,r)}function Sd(r,o){return jo===null&&Uo(r),Fx(r,o)}function Fx(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Er===null){if(r===null)throw Error(i(308));Er=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Er=Er.next=o;return u}var rO=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},aO=e.unstable_scheduleCallback,oO=e.unstable_NormalPriority,_n={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hy(){return{controller:new rO,data:new Map,refCount:0}}function Pu(r){r.refCount--,r.refCount===0&&aO(oO,function(){r.controller.abort()})}var Nu=null,fy=0,Gl=0,Kl=null;function lO(r,o){if(Nu===null){var u=Nu=[];fy=0,Gl=p_(),Kl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return fy++,o.then(qx,qx),o}function qx(){if(--fy===0&&Nu!==null){Kl!==null&&(Kl.status="fulfilled");var r=Nu;Nu=null,Gl=0,Kl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function cO(r,o){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var $x=W.S;W.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&lO(r,o),$x!==null&&$x(r,o)};var zo=J(null);function dy(){var r=zo.current;return r!==null?r:ke.pooledCache}function Td(r,o){o===null?lt(zo,zo.current):lt(zo,o.pool)}function Hx(){var r=dy();return r===null?null:{parent:_n._currentValue,pool:r}}var Lu=Error(i(460)),Wx=Error(i(474)),Ad=Error(i(542)),py={then:function(){}};function Yx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Rd(){}function Gx(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Rd,Rd),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Xx(r),r;default:if(typeof o.status=="string")o.then(Rd,Rd);else{if(r=ke,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Xx(r),r}throw Vu=o,Lu}}var Vu=null;function Kx(){if(Vu===null)throw Error(i(459));var r=Vu;return Vu=null,r}function Xx(r){if(r===Lu||r===Ad)throw Error(i(483))}var pa=!1;function gy(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function my(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ga(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ma(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(me&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=bd(r),Lx(r,null,u),o}return _d(r,d,o,u),bd(r)}function ju(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,mo(r,u)}}function yy(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?m=b=R:b=b.next=R,u=u.next}while(u!==null);b===null?m=b=o:b=b.next=o}else m=b=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var _y=!1;function Uu(){if(_y){var r=Kl;if(r!==null)throw r}}function zu(r,o,u,d){_y=!1;var m=r.updateQueue;pa=!1;var b=m.firstBaseUpdate,R=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var $=I,nt=$.next;$.next=null,R===null?b=nt:R.next=nt,R=$;var ct=r.alternate;ct!==null&&(ct=ct.updateQueue,I=ct.lastBaseUpdate,I!==R&&(I===null?ct.firstBaseUpdate=nt:I.next=nt,ct.lastBaseUpdate=$))}if(b!==null){var ft=m.baseState;R=0,ct=nt=$=null,I=b;do{var it=I.lane&-536870913,st=it!==I.lane;if(st?(ne&it)===it:(d&it)===it){it!==0&&it===Gl&&(_y=!0),ct!==null&&(ct=ct.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var Nt=r,Ct=I;it=o;var we=u;switch(Ct.tag){case 1:if(Nt=Ct.payload,typeof Nt=="function"){ft=Nt.call(we,ft,it);break t}ft=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Ct.payload,it=typeof Nt=="function"?Nt.call(we,ft,it):Nt,it==null)break t;ft=p({},ft,it);break t;case 2:pa=!0}}it=I.callback,it!==null&&(r.flags|=64,st&&(r.flags|=8192),st=m.callbacks,st===null?m.callbacks=[it]:st.push(it))}else st={lane:it,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ct===null?(nt=ct=st,$=ft):ct=ct.next=st,R|=it;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;st=I,I=st.next,st.next=null,m.lastBaseUpdate=st,m.shared.pending=null}}while(!0);ct===null&&($=ft),m.baseState=$,m.firstBaseUpdate=nt,m.lastBaseUpdate=ct,b===null&&(m.shared.lanes=0),Sa|=R,r.lanes=R,r.memoizedState=ft}}function Qx(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function Zx(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Qx(u[r],o)}var Xl=J(null),kd=J(0);function Jx(r,o){r=Mr,lt(kd,r),lt(Xl,o),Mr=r|o.baseLanes}function by(){lt(kd,Mr),lt(Xl,Xl.current)}function vy(){Mr=kd.current,rt(Xl),rt(kd)}var ya=0,Ht=null,ve=null,sn=null,Cd=!1,Ql=!1,Bo=!1,Dd=0,Bu=0,Zl=null,uO=0;function Qe(){throw Error(i(321))}function xy(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Ai(r[u],o[u]))return!1;return!0}function wy(r,o,u,d,m,b){return ya=b,Ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=r===null||r.memoizedState===null?Lw:Vw,Bo=!1,b=u(d,m),Bo=!1,Ql&&(b=ew(o,u,d,m)),tw(r),b}function tw(r){W.H=Ld;var o=ve!==null&&ve.next!==null;if(ya=0,sn=ve=Ht=null,Cd=!1,Bu=0,Zl=null,o)throw Error(i(300));r===null||Rn||(r=r.dependencies,r!==null&&Ed(r)&&(Rn=!0))}function ew(r,o,u,d){Ht=r;var m=0;do{if(Ql&&(Zl=null),Bu=0,Ql=!1,25<=m)throw Error(i(301));if(m+=1,sn=ve=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=yO,b=o(u,d)}while(Ql);return b}function hO(){var r=W.H,o=r.useState()[0];return o=typeof o.then=="function"?Fu(o):o,r=r.useState()[0],(ve!==null?ve.memoizedState:null)!==r&&(Ht.flags|=1024),o}function Ey(){var r=Dd!==0;return Dd=0,r}function Sy(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Ty(r){if(Cd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Cd=!1}ya=0,sn=ve=Ht=null,Ql=!1,Bu=Dd=0,Zl=null}function pi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Ht.memoizedState=sn=r:sn=sn.next=r,sn}function rn(){if(ve===null){var r=Ht.alternate;r=r!==null?r.memoizedState:null}else r=ve.next;var o=sn===null?Ht.memoizedState:sn.next;if(o!==null)sn=o,ve=r;else{if(r===null)throw Ht.alternate===null?Error(i(467)):Error(i(310));ve=r,r={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},sn===null?Ht.memoizedState=sn=r:sn=sn.next=r}return sn}function Ay(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fu(r){var o=Bu;return Bu+=1,Zl===null&&(Zl=[]),r=Gx(Zl,r,o),o=Ht,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?Lw:Vw),r}function Md(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fu(r);if(r.$$typeof===M)return Kn(r)}throw Error(i(438,String(r)))}function Ry(r){var o=null,u=Ht.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Ht.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Ay(),Ht.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),d=0;d<r;d++)u[d]=z;return o.index++,u}function Tr(r,o){return typeof o=="function"?o(r):o}function Id(r){var o=rn();return ky(o,ve,r)}function ky(r,o,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var m=r.baseQueue,b=d.pending;if(b!==null){if(m!==null){var R=m.next;m.next=b.next,b.next=R}o.baseQueue=m=b,d.pending=null}if(b=r.baseState,m===null)r.memoizedState=b;else{o=m.next;var I=R=null,$=null,nt=o,ct=!1;do{var ft=nt.lane&-536870913;if(ft!==nt.lane?(ne&ft)===ft:(ya&ft)===ft){var it=nt.revertLane;if(it===0)$!==null&&($=$.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),ft===Gl&&(ct=!0);else if((ya&it)===it){nt=nt.next,it===Gl&&(ct=!0);continue}else ft={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},$===null?(I=$=ft,R=b):$=$.next=ft,Ht.lanes|=it,Sa|=it;ft=nt.action,Bo&&u(b,ft),b=nt.hasEagerState?nt.eagerState:u(b,ft)}else it={lane:ft,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},$===null?(I=$=it,R=b):$=$.next=it,Ht.lanes|=ft,Sa|=ft;nt=nt.next}while(nt!==null&&nt!==o);if($===null?R=b:$.next=I,!Ai(b,r.memoizedState)&&(Rn=!0,ct&&(u=Kl,u!==null)))throw u;r.memoizedState=b,r.baseState=R,r.baseQueue=$,d.lastRenderedState=b}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Cy(r){var o=rn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,m=u.pending,b=o.memoizedState;if(m!==null){u.pending=null;var R=m=m.next;do b=r(b,R.action),R=R.next;while(R!==m);Ai(b,o.memoizedState)||(Rn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,d]}function nw(r,o,u){var d=Ht,m=rn(),b=ce;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var R=!Ai((ve||m).memoizedState,u);R&&(m.memoizedState=u,Rn=!0),m=m.queue;var I=rw.bind(null,d,m,r);if(qu(2048,8,I,[r]),m.getSnapshot!==o||R||sn!==null&&sn.memoizedState.tag&1){if(d.flags|=2048,Jl(9,Od(),sw.bind(null,d,m,u,o),null),ke===null)throw Error(i(349));b||(ya&124)!==0||iw(d,o,u)}return u}function iw(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Ht.updateQueue,o===null?(o=Ay(),Ht.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function sw(r,o,u,d){o.value=u,o.getSnapshot=d,aw(o)&&ow(r)}function rw(r,o,u){return u(function(){aw(o)&&ow(r)})}function aw(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Ai(r,u)}catch{return!0}}function ow(r){var o=$l(r,2);o!==null&&Ii(o,r,2)}function Dy(r){var o=pi();if(typeof r=="function"){var u=r;if(r=u(),Bo){ri(!0);try{u()}finally{ri(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:r},o}function lw(r,o,u,d){return r.baseState=u,ky(r,ve,typeof d=="function"?d:Tr)}function fO(r,o,u,d,m){if(Nd(r))throw Error(i(485));if(r=o.action,r!==null){var b={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};W.T!==null?u(!0):b.isTransition=!1,d(b),u=o.pending,u===null?(b.next=o.pending=b,cw(o,b)):(b.next=u.next,o.pending=u.next=b)}}function cw(r,o){var u=o.action,d=o.payload,m=r.state;if(o.isTransition){var b=W.T,R={};W.T=R;try{var I=u(m,d),$=W.S;$!==null&&$(R,I),uw(r,o,I)}catch(nt){My(r,o,nt)}finally{W.T=b}}else try{b=u(m,d),uw(r,o,b)}catch(nt){My(r,o,nt)}}function uw(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){hw(r,o,d)},function(d){return My(r,o,d)}):hw(r,o,u)}function hw(r,o,u){o.status="fulfilled",o.value=u,fw(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,cw(r,u)))}function My(r,o,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,fw(o),o=o.next;while(o!==d)}r.action=null}function fw(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function dw(r,o){return o}function pw(r,o){if(ce){var u=ke.formState;if(u!==null){t:{var d=Ht;if(ce){if($e){e:{for(var m=$e,b=Ps;m.nodeType!==8;){if(!b){m=null;break e}if(m=cs(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){$e=cs(m.nextSibling),d=m.data==="F!";break t}}Vo(d)}d=!1}d&&(o=u[0])}}return u=pi(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dw,lastRenderedState:o},u.queue=d,u=Ow.bind(null,Ht,d),d.dispatch=u,d=Dy(!1),b=Ly.bind(null,Ht,!1,d.queue),d=pi(),m={state:o,dispatch:null,action:r,pending:null},d.queue=m,u=fO.bind(null,Ht,m,b,u),m.dispatch=u,d.memoizedState=r,[o,u,!1]}function gw(r){var o=rn();return mw(o,ve,r)}function mw(r,o,u){if(o=ky(r,o,dw)[0],r=Id(Tr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Fu(o)}catch(R){throw R===Lu?Ad:R}else d=o;o=rn();var m=o.queue,b=m.dispatch;return u!==o.memoizedState&&(Ht.flags|=2048,Jl(9,Od(),dO.bind(null,m,u),null)),[d,b,r]}function dO(r,o){r.action=o}function yw(r){var o=rn(),u=ve;if(u!==null)return mw(o,u,r);rn(),o=o.memoizedState,u=rn();var d=u.queue.dispatch;return u.memoizedState=r,[o,d,!1]}function Jl(r,o,u,d){return r={tag:r,create:u,deps:d,inst:o,next:null},o=Ht.updateQueue,o===null&&(o=Ay(),Ht.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r),r}function Od(){return{destroy:void 0,resource:void 0}}function _w(){return rn().memoizedState}function Pd(r,o,u,d){var m=pi();d=d===void 0?null:d,Ht.flags|=r,m.memoizedState=Jl(1|o,Od(),u,d)}function qu(r,o,u,d){var m=rn();d=d===void 0?null:d;var b=m.memoizedState.inst;ve!==null&&d!==null&&xy(d,ve.memoizedState.deps)?m.memoizedState=Jl(o,b,u,d):(Ht.flags|=r,m.memoizedState=Jl(1|o,b,u,d))}function bw(r,o){Pd(8390656,8,r,o)}function vw(r,o){qu(2048,8,r,o)}function xw(r,o){return qu(4,2,r,o)}function ww(r,o){return qu(4,4,r,o)}function Ew(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Sw(r,o,u){u=u!=null?u.concat([r]):null,qu(4,4,Ew.bind(null,o,r),u)}function Iy(){}function Tw(r,o){var u=rn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&xy(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function Aw(r,o){var u=rn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&xy(o,d[1]))return d[0];if(d=r(),Bo){ri(!0);try{r()}finally{ri(!1)}}return u.memoizedState=[d,o],d}function Oy(r,o,u){return u===void 0||(ya&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=C1(),Ht.lanes|=r,Sa|=r,u)}function Rw(r,o,u,d){return Ai(u,o)?u:Xl.current!==null?(r=Oy(r,u,d),Ai(r,o)||(Rn=!0),r):(ya&42)===0?(Rn=!0,r.memoizedState=u):(r=C1(),Ht.lanes|=r,Sa|=r,o)}function kw(r,o,u,d,m){var b=G.p;G.p=b!==0&&8>b?b:8;var R=W.T,I={};W.T=I,Ly(r,!1,o,u);try{var $=m(),nt=W.S;if(nt!==null&&nt(I,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ct=cO($,d);$u(r,o,ct,Mi(r))}else $u(r,o,d,Mi(r))}catch(ft){$u(r,o,{then:function(){},status:"rejected",reason:ft},Mi())}finally{G.p=b,W.T=R}}function pO(){}function Py(r,o,u,d){if(r.tag!==5)throw Error(i(476));var m=Cw(r).queue;kw(r,m,o,Q,u===null?pO:function(){return Dw(r),u(d)})}function Cw(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:Q},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Dw(r){var o=Cw(r).next.queue;$u(r,o,{},Mi())}function Ny(){return Kn(lh)}function Mw(){return rn().memoizedState}function Iw(){return rn().memoizedState}function gO(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Mi();r=ga(u);var d=ma(o,r,u);d!==null&&(Ii(d,o,u),ju(d,o,u)),o={cache:hy()},r.payload=o;return}o=o.return}}function mO(r,o,u){var d=Mi();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Nd(r)?Pw(o,u):(u=ey(r,o,u,d),u!==null&&(Ii(u,r,d),Nw(u,o,d)))}function Ow(r,o,u){var d=Mi();$u(r,o,u,d)}function $u(r,o,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Nd(r))Pw(o,m);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var R=o.lastRenderedState,I=b(R,u);if(m.hasEagerState=!0,m.eagerState=I,Ai(I,R))return _d(r,o,m,0),ke===null&&yd(),!1}catch{}finally{}if(u=ey(r,o,m,d),u!==null)return Ii(u,r,d),Nw(u,o,d),!0}return!1}function Ly(r,o,u,d){if(d={lane:2,revertLane:p_(),action:d,hasEagerState:!1,eagerState:null,next:null},Nd(r)){if(o)throw Error(i(479))}else o=ey(r,u,d,2),o!==null&&Ii(o,r,2)}function Nd(r){var o=r.alternate;return r===Ht||o!==null&&o===Ht}function Pw(r,o){Ql=Cd=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function Nw(r,o,u){if((u&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,mo(r,u)}}var Ld={readContext:Kn,use:Md,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},Lw={readContext:Kn,use:Md,useCallback:function(r,o){return pi().memoizedState=[r,o===void 0?null:o],r},useContext:Kn,useEffect:bw,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Pd(4194308,4,Ew.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Pd(4194308,4,r,o)},useInsertionEffect:function(r,o){Pd(4,2,r,o)},useMemo:function(r,o){var u=pi();o=o===void 0?null:o;var d=r();if(Bo){ri(!0);try{r()}finally{ri(!1)}}return u.memoizedState=[d,o],d},useReducer:function(r,o,u){var d=pi();if(u!==void 0){var m=u(o);if(Bo){ri(!0);try{u(o)}finally{ri(!1)}}}else m=o;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=mO.bind(null,Ht,r),[d.memoizedState,r]},useRef:function(r){var o=pi();return r={current:r},o.memoizedState=r},useState:function(r){r=Dy(r);var o=r.queue,u=Ow.bind(null,Ht,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Iy,useDeferredValue:function(r,o){var u=pi();return Oy(u,r,o)},useTransition:function(){var r=Dy(!1);return r=kw.bind(null,Ht,r.queue,!0,!1),pi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var d=Ht,m=pi();if(ce){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),ke===null)throw Error(i(349));(ne&124)!==0||iw(d,o,u)}m.memoizedState=u;var b={value:u,getSnapshot:o};return m.queue=b,bw(rw.bind(null,d,b,r),[r]),d.flags|=2048,Jl(9,Od(),sw.bind(null,d,b,u,o),null),u},useId:function(){var r=pi(),o=ke.identifierPrefix;if(ce){var u=wr,d=xr;u=(d&~(1<<32-En(d)-1)).toString(32)+u,o="«"+o+"R"+u,u=Dd++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=uO++,o="«"+o+"r"+u.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:Ny,useFormState:pw,useActionState:pw,useOptimistic:function(r){var o=pi();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Ly.bind(null,Ht,!0,u),u.dispatch=o,[r,o]},useMemoCache:Ry,useCacheRefresh:function(){return pi().memoizedState=gO.bind(null,Ht)}},Vw={readContext:Kn,use:Md,useCallback:Tw,useContext:Kn,useEffect:vw,useImperativeHandle:Sw,useInsertionEffect:xw,useLayoutEffect:ww,useMemo:Aw,useReducer:Id,useRef:_w,useState:function(){return Id(Tr)},useDebugValue:Iy,useDeferredValue:function(r,o){var u=rn();return Rw(u,ve.memoizedState,r,o)},useTransition:function(){var r=Id(Tr)[0],o=rn().memoizedState;return[typeof r=="boolean"?r:Fu(r),o]},useSyncExternalStore:nw,useId:Mw,useHostTransitionStatus:Ny,useFormState:gw,useActionState:gw,useOptimistic:function(r,o){var u=rn();return lw(u,ve,r,o)},useMemoCache:Ry,useCacheRefresh:Iw},yO={readContext:Kn,use:Md,useCallback:Tw,useContext:Kn,useEffect:vw,useImperativeHandle:Sw,useInsertionEffect:xw,useLayoutEffect:ww,useMemo:Aw,useReducer:Cy,useRef:_w,useState:function(){return Cy(Tr)},useDebugValue:Iy,useDeferredValue:function(r,o){var u=rn();return ve===null?Oy(u,r,o):Rw(u,ve.memoizedState,r,o)},useTransition:function(){var r=Cy(Tr)[0],o=rn().memoizedState;return[typeof r=="boolean"?r:Fu(r),o]},useSyncExternalStore:nw,useId:Mw,useHostTransitionStatus:Ny,useFormState:yw,useActionState:yw,useOptimistic:function(r,o){var u=rn();return ve!==null?lw(u,ve,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Ry,useCacheRefresh:Iw},tc=null,Hu=0;function Vd(r){var o=Hu;return Hu+=1,tc===null&&(tc=[]),Gx(tc,r,o)}function Wu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function jd(r,o){throw o.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function jw(r){var o=r._init;return o(r._payload)}function Uw(r){function o(Z,K){if(r){var et=Z.deletions;et===null?(Z.deletions=[K],Z.flags|=16):et.push(K)}}function u(Z,K){if(!r)return null;for(;K!==null;)o(Z,K),K=K.sibling;return null}function d(Z){for(var K=new Map;Z!==null;)Z.key!==null?K.set(Z.key,Z):K.set(Z.index,Z),Z=Z.sibling;return K}function m(Z,K){return Z=vr(Z,K),Z.index=0,Z.sibling=null,Z}function b(Z,K,et){return Z.index=et,r?(et=Z.alternate,et!==null?(et=et.index,et<K?(Z.flags|=67108866,K):et):(Z.flags|=67108866,K)):(Z.flags|=1048576,K)}function R(Z){return r&&Z.alternate===null&&(Z.flags|=67108866),Z}function I(Z,K,et,ut){return K===null||K.tag!==6?(K=iy(et,Z.mode,ut),K.return=Z,K):(K=m(K,et),K.return=Z,K)}function $(Z,K,et,ut){var Et=et.type;return Et===E?ct(Z,K,et.props.children,ut,et.key):K!==null&&(K.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===k&&jw(Et)===K.type)?(K=m(K,et.props),Wu(K,et),K.return=Z,K):(K=vd(et.type,et.key,et.props,null,Z.mode,ut),Wu(K,et),K.return=Z,K)}function nt(Z,K,et,ut){return K===null||K.tag!==4||K.stateNode.containerInfo!==et.containerInfo||K.stateNode.implementation!==et.implementation?(K=sy(et,Z.mode,ut),K.return=Z,K):(K=m(K,et.children||[]),K.return=Z,K)}function ct(Z,K,et,ut,Et){return K===null||K.tag!==7?(K=Oo(et,Z.mode,ut,Et),K.return=Z,K):(K=m(K,et),K.return=Z,K)}function ft(Z,K,et){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=iy(""+K,Z.mode,et),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return et=vd(K.type,K.key,K.props,null,Z.mode,et),Wu(et,K),et.return=Z,et;case w:return K=sy(K,Z.mode,et),K.return=Z,K;case k:var ut=K._init;return K=ut(K._payload),ft(Z,K,et)}if(ot(K)||N(K))return K=Oo(K,Z.mode,et,null),K.return=Z,K;if(typeof K.then=="function")return ft(Z,Vd(K),et);if(K.$$typeof===M)return ft(Z,Sd(Z,K),et);jd(Z,K)}return null}function it(Z,K,et,ut){var Et=K!==null?K.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Et!==null?null:I(Z,K,""+et,ut);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case _:return et.key===Et?$(Z,K,et,ut):null;case w:return et.key===Et?nt(Z,K,et,ut):null;case k:return Et=et._init,et=Et(et._payload),it(Z,K,et,ut)}if(ot(et)||N(et))return Et!==null?null:ct(Z,K,et,ut,null);if(typeof et.then=="function")return it(Z,K,Vd(et),ut);if(et.$$typeof===M)return it(Z,K,Sd(Z,et),ut);jd(Z,et)}return null}function st(Z,K,et,ut,Et){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Z=Z.get(et)||null,I(K,Z,""+ut,Et);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case _:return Z=Z.get(ut.key===null?et:ut.key)||null,$(K,Z,ut,Et);case w:return Z=Z.get(ut.key===null?et:ut.key)||null,nt(K,Z,ut,Et);case k:var Wt=ut._init;return ut=Wt(ut._payload),st(Z,K,et,ut,Et)}if(ot(ut)||N(ut))return Z=Z.get(et)||null,ct(K,Z,ut,Et,null);if(typeof ut.then=="function")return st(Z,K,et,Vd(ut),Et);if(ut.$$typeof===M)return st(Z,K,et,Sd(K,ut),Et);jd(K,ut)}return null}function Nt(Z,K,et,ut){for(var Et=null,Wt=null,At=K,Mt=K=0,Cn=null;At!==null&&Mt<et.length;Mt++){At.index>Mt?(Cn=At,At=null):Cn=At.sibling;var ae=it(Z,At,et[Mt],ut);if(ae===null){At===null&&(At=Cn);break}r&&At&&ae.alternate===null&&o(Z,At),K=b(ae,K,Mt),Wt===null?Et=ae:Wt.sibling=ae,Wt=ae,At=Cn}if(Mt===et.length)return u(Z,At),ce&&No(Z,Mt),Et;if(At===null){for(;Mt<et.length;Mt++)At=ft(Z,et[Mt],ut),At!==null&&(K=b(At,K,Mt),Wt===null?Et=At:Wt.sibling=At,Wt=At);return ce&&No(Z,Mt),Et}for(At=d(At);Mt<et.length;Mt++)Cn=st(At,Z,Mt,et[Mt],ut),Cn!==null&&(r&&Cn.alternate!==null&&At.delete(Cn.key===null?Mt:Cn.key),K=b(Cn,K,Mt),Wt===null?Et=Cn:Wt.sibling=Cn,Wt=Cn);return r&&At.forEach(function(Oa){return o(Z,Oa)}),ce&&No(Z,Mt),Et}function Ct(Z,K,et,ut){if(et==null)throw Error(i(151));for(var Et=null,Wt=null,At=K,Mt=K=0,Cn=null,ae=et.next();At!==null&&!ae.done;Mt++,ae=et.next()){At.index>Mt?(Cn=At,At=null):Cn=At.sibling;var Oa=it(Z,At,ae.value,ut);if(Oa===null){At===null&&(At=Cn);break}r&&At&&Oa.alternate===null&&o(Z,At),K=b(Oa,K,Mt),Wt===null?Et=Oa:Wt.sibling=Oa,Wt=Oa,At=Cn}if(ae.done)return u(Z,At),ce&&No(Z,Mt),Et;if(At===null){for(;!ae.done;Mt++,ae=et.next())ae=ft(Z,ae.value,ut),ae!==null&&(K=b(ae,K,Mt),Wt===null?Et=ae:Wt.sibling=ae,Wt=ae);return ce&&No(Z,Mt),Et}for(At=d(At);!ae.done;Mt++,ae=et.next())ae=st(At,Z,Mt,ae.value,ut),ae!==null&&(r&&ae.alternate!==null&&At.delete(ae.key===null?Mt:ae.key),K=b(ae,K,Mt),Wt===null?Et=ae:Wt.sibling=ae,Wt=ae);return r&&At.forEach(function(_2){return o(Z,_2)}),ce&&No(Z,Mt),Et}function we(Z,K,et,ut){if(typeof et=="object"&&et!==null&&et.type===E&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case _:t:{for(var Et=et.key;K!==null;){if(K.key===Et){if(Et=et.type,Et===E){if(K.tag===7){u(Z,K.sibling),ut=m(K,et.props.children),ut.return=Z,Z=ut;break t}}else if(K.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===k&&jw(Et)===K.type){u(Z,K.sibling),ut=m(K,et.props),Wu(ut,et),ut.return=Z,Z=ut;break t}u(Z,K);break}else o(Z,K);K=K.sibling}et.type===E?(ut=Oo(et.props.children,Z.mode,ut,et.key),ut.return=Z,Z=ut):(ut=vd(et.type,et.key,et.props,null,Z.mode,ut),Wu(ut,et),ut.return=Z,Z=ut)}return R(Z);case w:t:{for(Et=et.key;K!==null;){if(K.key===Et)if(K.tag===4&&K.stateNode.containerInfo===et.containerInfo&&K.stateNode.implementation===et.implementation){u(Z,K.sibling),ut=m(K,et.children||[]),ut.return=Z,Z=ut;break t}else{u(Z,K);break}else o(Z,K);K=K.sibling}ut=sy(et,Z.mode,ut),ut.return=Z,Z=ut}return R(Z);case k:return Et=et._init,et=Et(et._payload),we(Z,K,et,ut)}if(ot(et))return Nt(Z,K,et,ut);if(N(et)){if(Et=N(et),typeof Et!="function")throw Error(i(150));return et=Et.call(et),Ct(Z,K,et,ut)}if(typeof et.then=="function")return we(Z,K,Vd(et),ut);if(et.$$typeof===M)return we(Z,K,Sd(Z,et),ut);jd(Z,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,K!==null&&K.tag===6?(u(Z,K.sibling),ut=m(K,et),ut.return=Z,Z=ut):(u(Z,K),ut=iy(et,Z.mode,ut),ut.return=Z,Z=ut),R(Z)):u(Z,K)}return function(Z,K,et,ut){try{Hu=0;var Et=we(Z,K,et,ut);return tc=null,Et}catch(At){if(At===Lu||At===Ad)throw At;var Wt=Ri(29,At,null,Z.mode);return Wt.lanes=ut,Wt.return=Z,Wt}finally{}}}var ec=Uw(!0),zw=Uw(!1),Xi=J(null),Ns=null;function _a(r){var o=r.alternate;lt(bn,bn.current&1),lt(Xi,r),Ns===null&&(o===null||Xl.current!==null||o.memoizedState!==null)&&(Ns=r)}function Bw(r){if(r.tag===22){if(lt(bn,bn.current),lt(Xi,r),Ns===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Ns=r)}}else ba()}function ba(){lt(bn,bn.current),lt(Xi,Xi.current)}function Ar(r){rt(Xi),Ns===r&&(Ns=null),rt(bn)}var bn=J(0);function Ud(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||A_(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Vy(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var jy={enqueueSetState:function(r,o,u){r=r._reactInternals;var d=Mi(),m=ga(d);m.payload=o,u!=null&&(m.callback=u),o=ma(r,m,d),o!==null&&(Ii(o,r,d),ju(o,r,d))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=Mi(),m=ga(d);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=ma(r,m,d),o!==null&&(Ii(o,r,d),ju(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Mi(),d=ga(u);d.tag=2,o!=null&&(d.callback=o),o=ma(r,d,u),o!==null&&(Ii(o,r,u),ju(o,r,u))}};function Fw(r,o,u,d,m,b,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,R):o.prototype&&o.prototype.isPureReactComponent?!ku(u,d)||!ku(m,b):!0}function qw(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&jy.enqueueReplaceState(o,o.state,null)}function Fo(r,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}var zd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function $w(r){zd(r)}function Hw(r){console.error(r)}function Ww(r){zd(r)}function Bd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Yw(r,o,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Uy(r,o,u){return u=ga(u),u.tag=3,u.payload={element:null},u.callback=function(){Bd(r,o)},u}function Gw(r){return r=ga(r),r.tag=3,r}function Kw(r,o,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var b=d.value;r.payload=function(){return m(b)},r.callback=function(){Yw(o,u,d)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){Yw(o,u,d),typeof m!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})})}function _O(r,o,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&Ou(o,u,m,!0),u=Xi.current,u!==null){switch(u.tag){case 13:return Ns===null?c_():u.alternate===null&&He===0&&(He=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===py?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),h_(r,d,m)),!1;case 22:return u.flags|=65536,d===py?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),h_(r,d,m)),!1}throw Error(i(435,u.tag))}return h_(r,d,m),c_(),!1}if(ce)return o=Xi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==oy&&(r=Error(i(422),{cause:d}),Iu(Wi(r,u)))):(d!==oy&&(o=Error(i(423),{cause:d}),Iu(Wi(o,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=Wi(d,u),m=Uy(r.stateNode,d,m),yy(r,m),He!==4&&(He=2)),!1;var b=Error(i(520),{cause:d});if(b=Wi(b,u),Ju===null?Ju=[b]:Ju.push(b),He!==4&&(He=2),o===null)return!0;d=Wi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=Uy(u.stateNode,d,r),yy(u,r),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ta===null||!Ta.has(b))))return u.flags|=65536,m&=-m,u.lanes|=m,m=Gw(m),Kw(m,r,u,d),yy(u,m),!1}u=u.return}while(u!==null);return!1}var Xw=Error(i(461)),Rn=!1;function jn(r,o,u,d){o.child=r===null?zw(o,null,u,d):ec(o,r.child,u,d)}function Qw(r,o,u,d,m){u=u.render;var b=o.ref;if("ref"in d){var R={};for(var I in d)I!=="ref"&&(R[I]=d[I])}else R=d;return Uo(o),d=wy(r,o,u,R,b,m),I=Ey(),r!==null&&!Rn?(Sy(r,o,m),Rr(r,o,m)):(ce&&I&&ry(o),o.flags|=1,jn(r,o,d,m),o.child)}function Zw(r,o,u,d,m){if(r===null){var b=u.type;return typeof b=="function"&&!ny(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,Jw(r,o,b,d,m)):(r=vd(u.type,null,d,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!Yy(r,m)){var R=b.memoizedProps;if(u=u.compare,u=u!==null?u:ku,u(R,d)&&r.ref===o.ref)return Rr(r,o,m)}return o.flags|=1,r=vr(b,d),r.ref=o.ref,r.return=o,o.child=r}function Jw(r,o,u,d,m){if(r!==null){var b=r.memoizedProps;if(ku(b,d)&&r.ref===o.ref)if(Rn=!1,o.pendingProps=d=b,Yy(r,m))(r.flags&131072)!==0&&(Rn=!0);else return o.lanes=r.lanes,Rr(r,o,m)}return zy(r,o,u,d,m)}function t1(r,o,u){var d=o.pendingProps,m=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=b!==null?b.baseLanes|u:u,r!==null){for(m=o.child=r.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;o.childLanes=b&~d}else o.childLanes=0,o.child=null;return e1(r,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Td(o,b!==null?b.cachePool:null),b!==null?Jx(o,b):by(),Bw(o);else return o.lanes=o.childLanes=536870912,e1(r,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(Td(o,b.cachePool),Jx(o,b),ba(),o.memoizedState=null):(r!==null&&Td(o,null),by(),ba());return jn(r,o,m,u),o.child}function e1(r,o,u,d){var m=dy();return m=m===null?null:{parent:_n._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},r!==null&&Td(o,null),by(),Bw(o),r!==null&&Ou(r,o,d,!0),null}function Fd(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function zy(r,o,u,d,m){return Uo(o),u=wy(r,o,u,d,void 0,m),d=Ey(),r!==null&&!Rn?(Sy(r,o,m),Rr(r,o,m)):(ce&&d&&ry(o),o.flags|=1,jn(r,o,u,m),o.child)}function n1(r,o,u,d,m,b){return Uo(o),o.updateQueue=null,u=ew(o,d,u,m),tw(r),d=Ey(),r!==null&&!Rn?(Sy(r,o,b),Rr(r,o,b)):(ce&&d&&ry(o),o.flags|=1,jn(r,o,u,b),o.child)}function i1(r,o,u,d,m){if(Uo(o),o.stateNode===null){var b=Hl,R=u.contextType;typeof R=="object"&&R!==null&&(b=Kn(R)),b=new u(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=jy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},gy(o),R=u.contextType,b.context=typeof R=="object"&&R!==null?Kn(R):Hl,b.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Vy(o,u,R,d),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&jy.enqueueReplaceState(b,b.state,null),zu(o,d,b,m),Uu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){b=o.stateNode;var I=o.memoizedProps,$=Fo(u,I);b.props=$;var nt=b.context,ct=u.contextType;R=Hl,typeof ct=="object"&&ct!==null&&(R=Kn(ct));var ft=u.getDerivedStateFromProps;ct=typeof ft=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,ct||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||nt!==R)&&qw(o,b,d,R),pa=!1;var it=o.memoizedState;b.state=it,zu(o,d,b,m),Uu(),nt=o.memoizedState,I||it!==nt||pa?(typeof ft=="function"&&(Vy(o,u,ft,d),nt=o.memoizedState),($=pa||Fw(o,u,$,d,it,nt,R))?(ct||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=nt),b.props=d,b.state=nt,b.context=R,d=$):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,my(r,o),R=o.memoizedProps,ct=Fo(u,R),b.props=ct,ft=o.pendingProps,it=b.context,nt=u.contextType,$=Hl,typeof nt=="object"&&nt!==null&&($=Kn(nt)),I=u.getDerivedStateFromProps,(nt=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==ft||it!==$)&&qw(o,b,d,$),pa=!1,it=o.memoizedState,b.state=it,zu(o,d,b,m),Uu();var st=o.memoizedState;R!==ft||it!==st||pa||r!==null&&r.dependencies!==null&&Ed(r.dependencies)?(typeof I=="function"&&(Vy(o,u,I,d),st=o.memoizedState),(ct=pa||Fw(o,u,ct,d,it,st,$)||r!==null&&r.dependencies!==null&&Ed(r.dependencies))?(nt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,st,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,st,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===r.memoizedProps&&it===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&it===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=st),b.props=d,b.state=st,b.context=$,d=ct):(typeof b.componentDidUpdate!="function"||R===r.memoizedProps&&it===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&it===r.memoizedState||(o.flags|=1024),d=!1)}return b=d,Fd(r,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&d?(o.child=ec(o,r.child,null,m),o.child=ec(o,null,u,m)):jn(r,o,u,m),o.memoizedState=b.state,r=o.child):r=Rr(r,o,m),r}function s1(r,o,u,d){return Mu(),o.flags|=256,jn(r,o,u,d),o.child}var By={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fy(r){return{baseLanes:r,cachePool:Hx()}}function qy(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Qi),r}function r1(r,o,u){var d=o.pendingProps,m=!1,b=(o.flags&128)!==0,R;if((R=b)||(R=r!==null&&r.memoizedState===null?!1:(bn.current&2)!==0),R&&(m=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,r===null){if(ce){if(m?_a(o):ba(),ce){var I=$e,$;if($=I){t:{for($=I,I=Ps;$.nodeType!==8;){if(!I){I=null;break t}if($=cs($.nextSibling),$===null){I=null;break t}}I=$}I!==null?(o.memoizedState={dehydrated:I,treeContext:Po!==null?{id:xr,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},$=Ri(18,null,null,0),$.stateNode=I,$.return=o,o.child=$,ci=o,$e=null,$=!0):$=!1}$||Vo(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return A_(I)?o.lanes=32:o.lanes=536870912,null;Ar(o)}return I=d.children,d=d.fallback,m?(ba(),m=o.mode,I=qd({mode:"hidden",children:I},m),d=Oo(d,m,u,null),I.return=o,d.return=o,I.sibling=d,o.child=I,m=o.child,m.memoizedState=Fy(u),m.childLanes=qy(r,R,u),o.memoizedState=By,d):(_a(o),$y(o,I))}if($=r.memoizedState,$!==null&&(I=$.dehydrated,I!==null)){if(b)o.flags&256?(_a(o),o.flags&=-257,o=Hy(r,o,u)):o.memoizedState!==null?(ba(),o.child=r.child,o.flags|=128,o=null):(ba(),m=d.fallback,I=o.mode,d=qd({mode:"visible",children:d.children},I),m=Oo(m,I,u,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,ec(o,r.child,null,u),d=o.child,d.memoizedState=Fy(u),d.childLanes=qy(r,R,u),o.memoizedState=By,o=m);else if(_a(o),A_(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var nt=R.dgst;R=nt,d=Error(i(419)),d.stack="",d.digest=R,Iu({value:d,source:null,stack:null}),o=Hy(r,o,u)}else if(Rn||Ou(r,o,u,!1),R=(u&r.childLanes)!==0,Rn||R){if(R=ke,R!==null&&(d=u&-u,d=(d&42)!==0?1:Es(d),d=(d&(R.suspendedLanes|u))!==0?0:d,d!==0&&d!==$.retryLane))throw $.retryLane=d,$l(r,d),Ii(R,r,d),Xw;I.data==="$?"||c_(),o=Hy(r,o,u)}else I.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=$.treeContext,$e=cs(I.nextSibling),ci=o,ce=!0,Lo=null,Ps=!1,r!==null&&(Gi[Ki++]=xr,Gi[Ki++]=wr,Gi[Ki++]=Po,xr=r.id,wr=r.overflow,Po=o),o=$y(o,d.children),o.flags|=4096);return o}return m?(ba(),m=d.fallback,I=o.mode,$=r.child,nt=$.sibling,d=vr($,{mode:"hidden",children:d.children}),d.subtreeFlags=$.subtreeFlags&65011712,nt!==null?m=vr(nt,m):(m=Oo(m,I,u,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,I=r.child.memoizedState,I===null?I=Fy(u):($=I.cachePool,$!==null?(nt=_n._currentValue,$=$.parent!==nt?{parent:nt,pool:nt}:$):$=Hx(),I={baseLanes:I.baseLanes|u,cachePool:$}),m.memoizedState=I,m.childLanes=qy(r,R,u),o.memoizedState=By,d):(_a(o),u=r.child,r=u.sibling,u=vr(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,r!==null&&(R=o.deletions,R===null?(o.deletions=[r],o.flags|=16):R.push(r)),o.child=u,o.memoizedState=null,u)}function $y(r,o){return o=qd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function qd(r,o){return r=Ri(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Hy(r,o,u){return ec(o,r.child,null,u),r=$y(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function a1(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),cy(r.return,o,u)}function Wy(r,o,u,d,m){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=u,b.tailMode=m)}function o1(r,o,u){var d=o.pendingProps,m=d.revealOrder,b=d.tail;if(jn(r,o,d.children,u),d=bn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&a1(r,u,o);else if(r.tag===19)a1(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(lt(bn,d),m){case"forwards":for(u=o.child,m=null;u!==null;)r=u.alternate,r!==null&&Ud(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Wy(o,!1,m,u,b);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&Ud(r)===null){o.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}Wy(o,!0,u,null,b);break;case"together":Wy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Rr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Sa|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Ou(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=vr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=vr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Yy(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Ed(r)))}function bO(r,o,u){switch(o.tag){case 3:Yt(o,o.stateNode.containerInfo),da(o,_n,r.memoizedState.cache),Mu();break;case 27:case 5:Gn(o);break;case 4:Yt(o,o.stateNode.containerInfo);break;case 10:da(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(_a(o),o.flags|=128,null):(u&o.child.childLanes)!==0?r1(r,o,u):(_a(o),r=Rr(r,o,u),r!==null?r.sibling:null);_a(o);break;case 19:var m=(r.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(Ou(r,o,u,!1),d=(u&o.childLanes)!==0),m){if(d)return o1(r,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(bn,bn.current),d)break;return null;case 22:case 23:return o.lanes=0,t1(r,o,u);case 24:da(o,_n,r.memoizedState.cache)}return Rr(r,o,u)}function l1(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Rn=!0;else{if(!Yy(r,u)&&(o.flags&128)===0)return Rn=!1,bO(r,o,u);Rn=(r.flags&131072)!==0}else Rn=!1,ce&&(o.flags&1048576)!==0&&jx(o,wd,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")ny(d)?(r=Fo(d,r),o.tag=1,o=i1(null,o,d,r,u)):(o.tag=0,o=zy(null,o,d,r,u));else{if(d!=null){if(m=d.$$typeof,m===q){o.tag=11,o=Qw(null,o,d,r,u);break t}else if(m===D){o.tag=14,o=Zw(null,o,d,r,u);break t}}throw o=bt(d)||d,Error(i(306,o,""))}}return o;case 0:return zy(r,o,o.type,o.pendingProps,u);case 1:return d=o.type,m=Fo(d,o.pendingProps),i1(r,o,d,m,u);case 3:t:{if(Yt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var b=o.memoizedState;m=b.element,my(r,o),zu(o,d,null,u);var R=o.memoizedState;if(d=R.cache,da(o,_n,d),d!==b.cache&&uy(o,[_n],u,!0),Uu(),d=R.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=s1(r,o,d,u);break t}else if(d!==m){m=Wi(Error(i(424)),o),Iu(m),o=s1(r,o,d,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for($e=cs(r.firstChild),ci=o,ce=!0,Lo=null,Ps=!0,u=zw(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Mu(),d===m){o=Rr(r,o,u);break t}jn(r,o,d,u)}o=o.child}return o;case 26:return Fd(r,o),r===null?(u=fE(o.type,null,o.pendingProps,null))?o.memoizedState=u:ce||(u=o.type,r=o.pendingProps,d=ip(xt.current).createElement(u),d[gn]=o,d[en]=r,zn(d,u,r),Xe(d),o.stateNode=d):o.memoizedState=fE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Gn(o),r===null&&ce&&(d=o.stateNode=cE(o.type,o.pendingProps,xt.current),ci=o,Ps=!0,m=$e,ka(o.type)?(R_=m,$e=cs(d.firstChild)):$e=m),jn(r,o,o.pendingProps.children,u),Fd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&ce&&((m=d=$e)&&(d=YO(d,o.type,o.pendingProps,Ps),d!==null?(o.stateNode=d,ci=o,$e=cs(d.firstChild),Ps=!1,m=!0):m=!1),m||Vo(o)),Gn(o),m=o.type,b=o.pendingProps,R=r!==null?r.memoizedProps:null,d=b.children,E_(m,b)?d=null:R!==null&&E_(m,R)&&(o.flags|=32),o.memoizedState!==null&&(m=wy(r,o,hO,null,null,u),lh._currentValue=m),Fd(r,o),jn(r,o,d,u),o.child;case 6:return r===null&&ce&&((r=u=$e)&&(u=GO(u,o.pendingProps,Ps),u!==null?(o.stateNode=u,ci=o,$e=null,r=!0):r=!1),r||Vo(o)),null;case 13:return r1(r,o,u);case 4:return Yt(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=ec(o,null,d,u):jn(r,o,d,u),o.child;case 11:return Qw(r,o,o.type,o.pendingProps,u);case 7:return jn(r,o,o.pendingProps,u),o.child;case 8:return jn(r,o,o.pendingProps.children,u),o.child;case 12:return jn(r,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,da(o,o.type,d.value),jn(r,o,d.children,u),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,Uo(o),m=Kn(m),d=d(m),o.flags|=1,jn(r,o,d,u),o.child;case 14:return Zw(r,o,o.type,o.pendingProps,u);case 15:return Jw(r,o,o.type,o.pendingProps,u);case 19:return o1(r,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},r===null?(u=qd(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=vr(r.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return t1(r,o,u);case 24:return Uo(o),d=Kn(_n),r===null?(m=dy(),m===null&&(m=ke,b=hy(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=u),m=b),o.memoizedState={parent:d,cache:m},gy(o),da(o,_n,m)):((r.lanes&u)!==0&&(my(r,o),zu(o,null,null,u),Uu()),m=r.memoizedState,b=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),da(o,_n,d)):(d=b.cache,da(o,_n,d),d!==m.cache&&uy(o,[_n],u,!0))),jn(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function kr(r){r.flags|=4}function c1(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!yE(o)){if(o=Xi.current,o!==null&&((ne&4194048)===ne?Ns!==null:(ne&62914560)!==ne&&(ne&536870912)===0||o!==Ns))throw Vu=py,Wx;r.flags|=8192}}function $d(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?ue():536870912,r.lanes|=o,rc|=o)}function Yu(r,o){if(!ce)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Be(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function vO(r,o,u){var d=o.pendingProps;switch(ay(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(o),null;case 1:return Be(o),null;case 3:return u=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Sr(_n),De(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Du(o)?kr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Bx())),Be(o),null;case 26:return u=o.memoizedState,r===null?(kr(o),u!==null?(Be(o),c1(o,u)):(Be(o),o.flags&=-16777217)):u?u!==r.memoizedState?(kr(o),Be(o),c1(o,u)):(Be(o),o.flags&=-16777217):(r.memoizedProps!==d&&kr(o),Be(o),o.flags&=-16777217),null;case 27:wn(o),u=xt.current;var m=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&kr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Be(o),null}r=gt.current,Du(o)?Ux(o):(r=cE(m,d,u),o.stateNode=r,kr(o))}return Be(o),null;case 5:if(wn(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&kr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Be(o),null}if(r=gt.current,Du(o))Ux(o);else{switch(m=ip(xt.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}r[gn]=o,r[en]=d;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=r;t:switch(zn(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&kr(o)}}return Be(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&kr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=xt.current,Du(o)){if(r=o.stateNode,u=o.memoizedProps,d=null,m=ci,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[gn]=o,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||nE(r.nodeValue,u)),r||Vo(o)}else r=ip(r).createTextNode(d),r[gn]=o,o.stateNode=r}return Be(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Du(o),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[gn]=o}else Mu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Be(o),m=!1}else m=Bx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Ar(o),o):(Ar(o),null)}if(Ar(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==m&&(d.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),$d(o,o.updateQueue),Be(o),null;case 4:return De(),r===null&&__(o.stateNode.containerInfo),Be(o),null;case 10:return Sr(o.type),Be(o),null;case 19:if(rt(bn),m=o.memoizedState,m===null)return Be(o),null;if(d=(o.flags&128)!==0,b=m.rendering,b===null)if(d)Yu(m,!1);else{if(He!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=Ud(r),b!==null){for(o.flags|=128,Yu(m,!1),r=b.updateQueue,o.updateQueue=r,$d(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Vx(u,r),u=u.sibling;return lt(bn,bn.current&1|2),o.child}r=r.sibling}m.tail!==null&&Ke()>Yd&&(o.flags|=128,d=!0,Yu(m,!1),o.lanes=4194304)}else{if(!d)if(r=Ud(b),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,$d(o,r),Yu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ce)return Be(o),null}else 2*Ke()-m.renderingStartTime>Yd&&u!==536870912&&(o.flags|=128,d=!0,Yu(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(r=m.last,r!==null?r.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Ke(),o.sibling=null,r=bn.current,lt(bn,d?r&1|2:r&1),o):(Be(o),null);case 22:case 23:return Ar(o),vy(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Be(o),o.subtreeFlags&6&&(o.flags|=8192)):Be(o),u=o.updateQueue,u!==null&&$d(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),r!==null&&rt(zo),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Sr(_n),Be(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function xO(r,o){switch(ay(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Sr(_n),De(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return wn(o),null;case 13:if(Ar(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Mu()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return rt(bn),null;case 4:return De(),null;case 10:return Sr(o.type),null;case 22:case 23:return Ar(o),vy(),r!==null&&rt(zo),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Sr(_n),null;case 25:return null;default:return null}}function u1(r,o){switch(ay(o),o.tag){case 3:Sr(_n),De();break;case 26:case 27:case 5:wn(o);break;case 4:De();break;case 13:Ar(o);break;case 19:rt(bn);break;case 10:Sr(o.type);break;case 22:case 23:Ar(o),vy(),r!==null&&rt(zo);break;case 24:Sr(_n)}}function Gu(r,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){d=void 0;var b=u.create,R=u.inst;d=b(),R.destroy=d}u=u.next}while(u!==m)}}catch(I){Ae(o,o.return,I)}}function va(r,o,u){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&r)===r){var R=d.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,m=o;var $=u,nt=I;try{nt()}catch(ct){Ae(m,$,ct)}}}d=d.next}while(d!==b)}}catch(ct){Ae(o,o.return,ct)}}function h1(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{Zx(o,u)}catch(d){Ae(r,r.return,d)}}}function f1(r,o,u){u.props=Fo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){Ae(r,o,d)}}function Ku(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(m){Ae(r,o,m)}}function Ls(r,o){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){Ae(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Ae(r,o,m)}else u.current=null}function d1(r){var o=r.type,u=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){Ae(r,r.return,m)}}function Gy(r,o,u){try{var d=r.stateNode;FO(d,r.type,u,o),d[en]=o}catch(m){Ae(r,r.return,m)}}function p1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ka(r.type)||r.tag===4}function Ky(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||p1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ka(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xy(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=np));else if(d!==4&&(d===27&&ka(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(Xy(r,o,u),r=r.sibling;r!==null;)Xy(r,o,u),r=r.sibling}function Hd(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(d===27&&ka(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Hd(r,o,u),r=r.sibling;r!==null;)Hd(r,o,u),r=r.sibling}function g1(r){var o=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);zn(o,d,u),o[gn]=r,o[en]=u}catch(b){Ae(r,r.return,b)}}var Cr=!1,Ze=!1,Qy=!1,m1=typeof WeakSet=="function"?WeakSet:Set,kn=null;function wO(r,o){if(r=r.containerInfo,x_=cp,r=Rx(r),Km(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var R=0,I=-1,$=-1,nt=0,ct=0,ft=r,it=null;e:for(;;){for(var st;ft!==u||m!==0&&ft.nodeType!==3||(I=R+m),ft!==b||d!==0&&ft.nodeType!==3||($=R+d),ft.nodeType===3&&(R+=ft.nodeValue.length),(st=ft.firstChild)!==null;)it=ft,ft=st;for(;;){if(ft===r)break e;if(it===u&&++nt===m&&(I=R),it===b&&++ct===d&&($=R),(st=ft.nextSibling)!==null)break;ft=it,it=ft.parentNode}ft=st}u=I===-1||$===-1?null:{start:I,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(w_={focusedElem:r,selectionRange:u},cp=!1,kn=o;kn!==null;)if(o=kn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,kn=r;else for(;kn!==null;){switch(o=kn,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,u=o,m=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Nt=Fo(u.type,m,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(Nt,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(Ct){Ae(u,u.return,Ct)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)T_(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":T_(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,kn=r;break}kn=o.return}}function y1(r,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:xa(r,u),d&4&&Gu(5,u);break;case 1:if(xa(r,u),d&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(R){Ae(u,u.return,R)}else{var m=Fo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(R){Ae(u,u.return,R)}}d&64&&h1(u),d&512&&Ku(u,u.return);break;case 3:if(xa(r,u),d&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Zx(r,o)}catch(R){Ae(u,u.return,R)}}break;case 27:o===null&&d&4&&g1(u);case 26:case 5:xa(r,u),o===null&&d&4&&d1(u),d&512&&Ku(u,u.return);break;case 12:xa(r,u);break;case 13:xa(r,u),d&4&&v1(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=MO.bind(null,u),KO(r,u))));break;case 22:if(d=u.memoizedState!==null||Cr,!d){o=o!==null&&o.memoizedState!==null||Ze,m=Cr;var b=Ze;Cr=d,(Ze=o)&&!b?wa(r,u,(u.subtreeFlags&8772)!==0):xa(r,u),Cr=m,Ze=b}break;case 30:break;default:xa(r,u)}}function _1(r){var o=r.alternate;o!==null&&(r.alternate=null,_1(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&ca(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var je=null,gi=!1;function Dr(r,o,u){for(u=u.child;u!==null;)b1(r,o,u),u=u.sibling}function b1(r,o,u){if(le&&typeof le.onCommitFiberUnmount=="function")try{le.onCommitFiberUnmount(Le,u)}catch{}switch(u.tag){case 26:Ze||Ls(u,o),Dr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ze||Ls(u,o);var d=je,m=gi;ka(u.type)&&(je=u.stateNode,gi=!1),Dr(r,o,u),sh(u.stateNode),je=d,gi=m;break;case 5:Ze||Ls(u,o);case 6:if(d=je,m=gi,je=null,Dr(r,o,u),je=d,gi=m,je!==null)if(gi)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(u.stateNode)}catch(b){Ae(u,o,b)}else try{je.removeChild(u.stateNode)}catch(b){Ae(u,o,b)}break;case 18:je!==null&&(gi?(r=je,oE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),fh(r)):oE(je,u.stateNode));break;case 4:d=je,m=gi,je=u.stateNode.containerInfo,gi=!0,Dr(r,o,u),je=d,gi=m;break;case 0:case 11:case 14:case 15:Ze||va(2,u,o),Ze||va(4,u,o),Dr(r,o,u);break;case 1:Ze||(Ls(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&f1(u,o,d)),Dr(r,o,u);break;case 21:Dr(r,o,u);break;case 22:Ze=(d=Ze)||u.memoizedState!==null,Dr(r,o,u),Ze=d;break;default:Dr(r,o,u)}}function v1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fh(r)}catch(u){Ae(o,o.return,u)}}function EO(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new m1),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new m1),o;default:throw Error(i(435,r.tag))}}function Zy(r,o){var u=EO(r);o.forEach(function(d){var m=IO.bind(null,r,d);u.has(d)||(u.add(d),d.then(m,m))})}function ki(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],b=r,R=o,I=R;t:for(;I!==null;){switch(I.tag){case 27:if(ka(I.type)){je=I.stateNode,gi=!1;break t}break;case 5:je=I.stateNode,gi=!1;break t;case 3:case 4:je=I.stateNode.containerInfo,gi=!0;break t}I=I.return}if(je===null)throw Error(i(160));b1(b,R,m),je=null,gi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)x1(o,r),o=o.sibling}var ls=null;function x1(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ki(o,r),Ci(r),d&4&&(va(3,r,r.return),Gu(3,r),va(5,r,r.return));break;case 1:ki(o,r),Ci(r),d&512&&(Ze||u===null||Ls(u,u.return)),d&64&&Cr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=ls;if(ki(o,r),Ci(r),d&512&&(Ze||u===null||Ls(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){t:{d=r.type,u=r.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":b=m.getElementsByTagName("title")[0],(!b||b[yo]||b[gn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(d),m.head.insertBefore(b,m.querySelector("head > title"))),zn(b,d,u),b[gn]=r,Xe(b),d=b;break t;case"link":var R=gE("link","href",m).get(d+(u.href||""));if(R){for(var I=0;I<R.length;I++)if(b=R[I],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(I,1);break e}}b=m.createElement(d),zn(b,d,u),m.head.appendChild(b);break;case"meta":if(R=gE("meta","content",m).get(d+(u.content||""))){for(I=0;I<R.length;I++)if(b=R[I],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(I,1);break e}}b=m.createElement(d),zn(b,d,u),m.head.appendChild(b);break;default:throw Error(i(468,d))}b[gn]=r,Xe(b),d=b}r.stateNode=d}else mE(m,r.type,r.stateNode);else r.stateNode=pE(m,d,r.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?mE(m,r.type,r.stateNode):pE(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Gy(r,r.memoizedProps,u.memoizedProps)}break;case 27:ki(o,r),Ci(r),d&512&&(Ze||u===null||Ls(u,u.return)),u!==null&&d&4&&Gy(r,r.memoizedProps,u.memoizedProps);break;case 5:if(ki(o,r),Ci(r),d&512&&(Ze||u===null||Ls(u,u.return)),r.flags&32){m=r.stateNode;try{Fi(m,"")}catch(st){Ae(r,r.return,st)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,Gy(r,m,u!==null?u.memoizedProps:m)),d&1024&&(Qy=!0);break;case 6:if(ki(o,r),Ci(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(st){Ae(r,r.return,st)}}break;case 3:if(ap=null,m=ls,ls=sp(o.containerInfo),ki(o,r),ls=m,Ci(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{fh(o.containerInfo)}catch(st){Ae(r,r.return,st)}Qy&&(Qy=!1,w1(r));break;case 4:d=ls,ls=sp(r.stateNode.containerInfo),ki(o,r),Ci(r),ls=d;break;case 12:ki(o,r),Ci(r);break;case 13:ki(o,r),Ci(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(s_=Ke()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Zy(r,d)));break;case 22:m=r.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,nt=Cr,ct=Ze;if(Cr=nt||m,Ze=ct||$,ki(o,r),Ze=ct,Cr=nt,Ci(r),d&8192)t:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||$||Cr||Ze||qo(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){$=u=o;try{if(b=$.stateNode,m)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=$.stateNode;var ft=$.memoizedProps.style,it=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;I.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(st){Ae($,$.return,st)}}}else if(o.tag===6){if(u===null){$=o;try{$.stateNode.nodeValue=m?"":$.memoizedProps}catch(st){Ae($,$.return,st)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Zy(r,u))));break;case 19:ki(o,r),Ci(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Zy(r,d)));break;case 30:break;case 21:break;default:ki(o,r),Ci(r)}}function Ci(r){var o=r.flags;if(o&2){try{for(var u,d=r.return;d!==null;){if(p1(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,b=Ky(r);Hd(r,b,m);break;case 5:var R=u.stateNode;u.flags&32&&(Fi(R,""),u.flags&=-33);var I=Ky(r);Hd(r,I,R);break;case 3:case 4:var $=u.stateNode.containerInfo,nt=Ky(r);Xy(r,nt,$);break;default:throw Error(i(161))}}catch(ct){Ae(r,r.return,ct)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function w1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;w1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function xa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)y1(r,o.alternate,o),o=o.sibling}function qo(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:va(4,o,o.return),qo(o);break;case 1:Ls(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&f1(o,o.return,u),qo(o);break;case 27:sh(o.stateNode);case 26:case 5:Ls(o,o.return),qo(o);break;case 22:o.memoizedState===null&&qo(o);break;case 30:qo(o);break;default:qo(o)}r=r.sibling}}function wa(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=r,b=o,R=b.flags;switch(b.tag){case 0:case 11:case 15:wa(m,b,u),Gu(4,b);break;case 1:if(wa(m,b,u),d=b,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(nt){Ae(d,d.return,nt)}if(d=b,m=d.updateQueue,m!==null){var I=d.stateNode;try{var $=m.shared.hiddenCallbacks;if($!==null)for(m.shared.hiddenCallbacks=null,m=0;m<$.length;m++)Qx($[m],I)}catch(nt){Ae(d,d.return,nt)}}u&&R&64&&h1(b),Ku(b,b.return);break;case 27:g1(b);case 26:case 5:wa(m,b,u),u&&d===null&&R&4&&d1(b),Ku(b,b.return);break;case 12:wa(m,b,u);break;case 13:wa(m,b,u),u&&R&4&&v1(m,b);break;case 22:b.memoizedState===null&&wa(m,b,u),Ku(b,b.return);break;case 30:break;default:wa(m,b,u)}o=o.sibling}}function Jy(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Pu(u))}function t_(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Pu(r))}function Vs(r,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)E1(r,o,u,d),o=o.sibling}function E1(r,o,u,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(r,o,u,d),m&2048&&Gu(9,o);break;case 1:Vs(r,o,u,d);break;case 3:Vs(r,o,u,d),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Pu(r)));break;case 12:if(m&2048){Vs(r,o,u,d),r=o.stateNode;try{var b=o.memoizedProps,R=b.id,I=b.onPostCommit;typeof I=="function"&&I(R,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){Ae(o,o.return,$)}}else Vs(r,o,u,d);break;case 13:Vs(r,o,u,d);break;case 23:break;case 22:b=o.stateNode,R=o.alternate,o.memoizedState!==null?b._visibility&2?Vs(r,o,u,d):Xu(r,o):b._visibility&2?Vs(r,o,u,d):(b._visibility|=2,nc(r,o,u,d,(o.subtreeFlags&10256)!==0)),m&2048&&Jy(R,o);break;case 24:Vs(r,o,u,d),m&2048&&t_(o.alternate,o);break;default:Vs(r,o,u,d)}}function nc(r,o,u,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,R=o,I=u,$=d,nt=R.flags;switch(R.tag){case 0:case 11:case 15:nc(b,R,I,$,m),Gu(8,R);break;case 23:break;case 22:var ct=R.stateNode;R.memoizedState!==null?ct._visibility&2?nc(b,R,I,$,m):Xu(b,R):(ct._visibility|=2,nc(b,R,I,$,m)),m&&nt&2048&&Jy(R.alternate,R);break;case 24:nc(b,R,I,$,m),m&&nt&2048&&t_(R.alternate,R);break;default:nc(b,R,I,$,m)}o=o.sibling}}function Xu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,d=o,m=d.flags;switch(d.tag){case 22:Xu(u,d),m&2048&&Jy(d.alternate,d);break;case 24:Xu(u,d),m&2048&&t_(d.alternate,d);break;default:Xu(u,d)}o=o.sibling}}var Qu=8192;function ic(r){if(r.subtreeFlags&Qu)for(r=r.child;r!==null;)S1(r),r=r.sibling}function S1(r){switch(r.tag){case 26:ic(r),r.flags&Qu&&r.memoizedState!==null&&l2(ls,r.memoizedState,r.memoizedProps);break;case 5:ic(r);break;case 3:case 4:var o=ls;ls=sp(r.stateNode.containerInfo),ic(r),ls=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Qu,Qu=16777216,ic(r),Qu=o):ic(r));break;default:ic(r)}}function T1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Zu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];kn=d,R1(d,r)}T1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A1(r),r=r.sibling}function A1(r){switch(r.tag){case 0:case 11:case 15:Zu(r),r.flags&2048&&va(9,r,r.return);break;case 3:Zu(r);break;case 12:Zu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Wd(r)):Zu(r);break;default:Zu(r)}}function Wd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];kn=d,R1(d,r)}T1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:va(8,o,o.return),Wd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Wd(o));break;default:Wd(o)}r=r.sibling}}function R1(r,o){for(;kn!==null;){var u=kn;switch(u.tag){case 0:case 11:case 15:va(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Pu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,kn=d;else t:for(u=r;kn!==null;){d=kn;var m=d.sibling,b=d.return;if(_1(d),d===u){kn=null;break t}if(m!==null){m.return=b,kn=m;break t}kn=b}}}var SO={getCacheForType:function(r){var o=Kn(_n),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},TO=typeof WeakMap=="function"?WeakMap:Map,me=0,ke=null,Gt=null,ne=0,ye=0,Di=null,Ea=!1,sc=!1,e_=!1,Mr=0,He=0,Sa=0,$o=0,n_=0,Qi=0,rc=0,Ju=null,mi=null,i_=!1,s_=0,Yd=1/0,Gd=null,Ta=null,Un=0,Aa=null,ac=null,oc=0,r_=0,a_=null,k1=null,th=0,o_=null;function Mi(){if((me&2)!==0&&ne!==0)return ne&-ne;if(W.T!==null){var r=Gl;return r!==0?r:p_()}return zi()}function C1(){Qi===0&&(Qi=(ne&536870912)===0||ce?Ut():536870912);var r=Xi.current;return r!==null&&(r.flags|=32),Qi}function Ii(r,o,u){(r===ke&&(ye===2||ye===9)||r.cancelPendingCommit!==null)&&(lc(r,0),Ra(r,ne,Qi,!1)),se(r,u),((me&2)===0||r!==ke)&&(r===ke&&((me&2)===0&&($o|=u),He===4&&Ra(r,ne,Qi,!1)),js(r))}function D1(r,o,u){if((me&6)!==0)throw Error(i(327));var d=!u&&(o&124)===0&&(o&r.expiredLanes)===0||cr(r,o),m=d?kO(r,o):u_(r,o,!0),b=d;do{if(m===0){sc&&!d&&Ra(r,o,0,!1);break}else{if(u=r.current.alternate,b&&!AO(u)){m=u_(r,o,!1),b=!1;continue}if(m===2){if(b=o,r.errorRecoveryDisabledLanes&b)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;t:{var I=r;m=Ju;var $=I.current.memoizedState.isDehydrated;if($&&(lc(I,R).flags|=256),R=u_(I,R,!1),R!==2){if(e_&&!$){I.errorRecoveryDisabledLanes|=b,$o|=b,m=4;break t}b=mi,mi=m,b!==null&&(mi===null?mi=b:mi.push.apply(mi,b))}m=R}if(b=!1,m!==2)continue}}if(m===1){lc(r,0),Ra(r,o,0,!0);break}t:{switch(d=r,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ra(d,o,Qi,!Ea);break t;case 2:mi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=s_+300-Ke(),10<m)){if(Ra(d,o,Qi,!Ea),lr(d,0,!0)!==0)break t;d.timeoutHandle=rE(M1.bind(null,d,u,mi,Gd,i_,o,Qi,$o,rc,Ea,b,2,-0,0),m);break t}M1(d,u,mi,Gd,i_,o,Qi,$o,rc,Ea,b,0,-0,0)}}break}while(!0);js(r)}function M1(r,o,u,d,m,b,R,I,$,nt,ct,ft,it,st){if(r.timeoutHandle=-1,ft=o.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(oh={stylesheets:null,count:0,unsuspend:o2},S1(o),ft=c2(),ft!==null)){r.cancelPendingCommit=ft(j1.bind(null,r,o,b,u,d,m,R,I,$,ct,1,it,st)),Ra(r,b,R,!nt);return}j1(r,o,b,u,d,m,R,I,$)}function AO(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],b=m.getSnapshot;m=m.value;try{if(!Ai(b(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ra(r,o,u,d){o&=~n_,o&=~$o,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var m=o;0<m;){var b=31-En(m),R=1<<b;d[b]=-1,m&=~R}u!==0&&Bt(r,u,o)}function Kd(){return(me&6)===0?(eh(0),!1):!0}function l_(){if(Gt!==null){if(ye===0)var r=Gt.return;else r=Gt,Er=jo=null,Ty(r),tc=null,Hu=0,r=Gt;for(;r!==null;)u1(r.alternate,r),r=r.return;Gt=null}}function lc(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,$O(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),l_(),ke=r,Gt=u=vr(r.current,null),ne=o,ye=0,Di=null,Ea=!1,sc=cr(r,o),e_=!1,rc=Qi=n_=$o=Sa=He=0,mi=Ju=null,i_=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var m=31-En(d),b=1<<m;o|=r[m],d&=~b}return Mr=o,yd(),u}function I1(r,o){Ht=null,W.H=Ld,o===Lu||o===Ad?(o=Kx(),ye=3):o===Wx?(o=Kx(),ye=4):ye=o===Xw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Di=o,Gt===null&&(He=1,Bd(r,Wi(o,r.current)))}function O1(){var r=W.H;return W.H=Ld,r===null?Ld:r}function P1(){var r=W.A;return W.A=SO,r}function c_(){He=4,Ea||(ne&4194048)!==ne&&Xi.current!==null||(sc=!0),(Sa&134217727)===0&&($o&134217727)===0||ke===null||Ra(ke,ne,Qi,!1)}function u_(r,o,u){var d=me;me|=2;var m=O1(),b=P1();(ke!==r||ne!==o)&&(Gd=null,lc(r,o)),o=!1;var R=He;t:do try{if(ye!==0&&Gt!==null){var I=Gt,$=Di;switch(ye){case 8:l_(),R=6;break t;case 3:case 2:case 9:case 6:Xi.current===null&&(o=!0);var nt=ye;if(ye=0,Di=null,cc(r,I,$,nt),u&&sc){R=0;break t}break;default:nt=ye,ye=0,Di=null,cc(r,I,$,nt)}}RO(),R=He;break}catch(ct){I1(r,ct)}while(!0);return o&&r.shellSuspendCounter++,Er=jo=null,me=d,W.H=m,W.A=b,Gt===null&&(ke=null,ne=0,yd()),R}function RO(){for(;Gt!==null;)N1(Gt)}function kO(r,o){var u=me;me|=2;var d=O1(),m=P1();ke!==r||ne!==o?(Gd=null,Yd=Ke()+500,lc(r,o)):sc=cr(r,o);t:do try{if(ye!==0&&Gt!==null){o=Gt;var b=Di;e:switch(ye){case 1:ye=0,Di=null,cc(r,o,b,1);break;case 2:case 9:if(Yx(b)){ye=0,Di=null,L1(o);break}o=function(){ye!==2&&ye!==9||ke!==r||(ye=7),js(r)},b.then(o,o);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:Yx(b)?(ye=0,Di=null,L1(o)):(ye=0,Di=null,cc(r,o,b,7));break;case 5:var R=null;switch(Gt.tag){case 26:R=Gt.memoizedState;case 5:case 27:var I=Gt;if(!R||yE(R)){ye=0,Di=null;var $=I.sibling;if($!==null)Gt=$;else{var nt=I.return;nt!==null?(Gt=nt,Xd(nt)):Gt=null}break e}}ye=0,Di=null,cc(r,o,b,5);break;case 6:ye=0,Di=null,cc(r,o,b,6);break;case 8:l_(),He=6;break t;default:throw Error(i(462))}}CO();break}catch(ct){I1(r,ct)}while(!0);return Er=jo=null,W.H=d,W.A=m,me=u,Gt!==null?0:(ke=null,ne=0,yd(),He)}function CO(){for(;Gt!==null&&!zt();)N1(Gt)}function N1(r){var o=l1(r.alternate,r,Mr);r.memoizedProps=r.pendingProps,o===null?Xd(r):Gt=o}function L1(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=n1(u,o,o.pendingProps,o.type,void 0,ne);break;case 11:o=n1(u,o,o.pendingProps,o.type.render,o.ref,ne);break;case 5:Ty(o);default:u1(u,o),o=Gt=Vx(o,Mr),o=l1(u,o,Mr)}r.memoizedProps=r.pendingProps,o===null?Xd(r):Gt=o}function cc(r,o,u,d){Er=jo=null,Ty(o),tc=null,Hu=0;var m=o.return;try{if(_O(r,m,o,u,ne)){He=1,Bd(r,Wi(u,r.current)),Gt=null;return}}catch(b){if(m!==null)throw Gt=m,b;He=1,Bd(r,Wi(u,r.current)),Gt=null;return}o.flags&32768?(ce||d===1?r=!0:sc||(ne&536870912)!==0?r=!1:(Ea=r=!0,(d===2||d===9||d===3||d===6)&&(d=Xi.current,d!==null&&d.tag===13&&(d.flags|=16384))),V1(o,r)):Xd(o)}function Xd(r){var o=r;do{if((o.flags&32768)!==0){V1(o,Ea);return}r=o.return;var u=vO(o.alternate,o,Mr);if(u!==null){Gt=u;return}if(o=o.sibling,o!==null){Gt=o;return}Gt=o=r}while(o!==null);He===0&&(He=5)}function V1(r,o){do{var u=xO(r.alternate,r);if(u!==null){u.flags&=32767,Gt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Gt=r;return}Gt=r=u}while(r!==null);He=6,Gt=null}function j1(r,o,u,d,m,b,R,I,$){r.cancelPendingCommit=null;do Qd();while(Un!==0);if((me&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=ty,Sn(r,u,b,R,I,$),r===ke&&(Gt=ke=null,ne=0),ac=o,Aa=r,oc=u,r_=b,a_=m,k1=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,OO(Ei,function(){return q1(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,m=G.p,G.p=2,R=me,me|=4;try{wO(r,o,u)}finally{me=R,G.p=m,W.T=d}}Un=1,U1(),z1(),B1()}}function U1(){if(Un===1){Un=0;var r=Aa,o=ac,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var d=G.p;G.p=2;var m=me;me|=4;try{x1(o,r);var b=w_,R=Rx(r.containerInfo),I=b.focusedElem,$=b.selectionRange;if(R!==I&&I&&I.ownerDocument&&Ax(I.ownerDocument.documentElement,I)){if($!==null&&Km(I)){var nt=$.start,ct=$.end;if(ct===void 0&&(ct=nt),"selectionStart"in I)I.selectionStart=nt,I.selectionEnd=Math.min(ct,I.value.length);else{var ft=I.ownerDocument||document,it=ft&&ft.defaultView||window;if(it.getSelection){var st=it.getSelection(),Nt=I.textContent.length,Ct=Math.min($.start,Nt),we=$.end===void 0?Ct:Math.min($.end,Nt);!st.extend&&Ct>we&&(R=we,we=Ct,Ct=R);var Z=Tx(I,Ct),K=Tx(I,we);if(Z&&K&&(st.rangeCount!==1||st.anchorNode!==Z.node||st.anchorOffset!==Z.offset||st.focusNode!==K.node||st.focusOffset!==K.offset)){var et=ft.createRange();et.setStart(Z.node,Z.offset),st.removeAllRanges(),Ct>we?(st.addRange(et),st.extend(K.node,K.offset)):(et.setEnd(K.node,K.offset),st.addRange(et))}}}}for(ft=[],st=I;st=st.parentNode;)st.nodeType===1&&ft.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ft.length;I++){var ut=ft[I];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}cp=!!x_,w_=x_=null}finally{me=m,G.p=d,W.T=u}}r.current=o,Un=2}}function z1(){if(Un===2){Un=0;var r=Aa,o=ac,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var d=G.p;G.p=2;var m=me;me|=4;try{y1(r,o.alternate,o)}finally{me=m,G.p=d,W.T=u}}Un=3}}function B1(){if(Un===4||Un===3){Un=0,ge();var r=Aa,o=ac,u=oc,d=k1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Un=5:(Un=0,ac=Aa=null,F1(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Ta=null),aa(u),o=o.stateNode,le&&typeof le.onCommitFiberRoot=="function")try{le.onCommitFiberRoot(Le,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=W.T,m=G.p,G.p=2,W.T=null;try{for(var b=r.onRecoverableError,R=0;R<d.length;R++){var I=d[R];b(I.value,{componentStack:I.stack})}}finally{W.T=o,G.p=m}}(oc&3)!==0&&Qd(),js(r),m=r.pendingLanes,(u&4194090)!==0&&(m&42)!==0?r===o_?th++:(th=0,o_=r):th=0,eh(0)}}function F1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Pu(o)))}function Qd(r){return U1(),z1(),B1(),q1()}function q1(){if(Un!==5)return!1;var r=Aa,o=r_;r_=0;var u=aa(oc),d=W.T,m=G.p;try{G.p=32>u?32:u,W.T=null,u=a_,a_=null;var b=Aa,R=oc;if(Un=0,ac=Aa=null,oc=0,(me&6)!==0)throw Error(i(331));var I=me;if(me|=4,A1(b.current),E1(b,b.current,R,u),me=I,eh(0,!1),le&&typeof le.onPostCommitFiberRoot=="function")try{le.onPostCommitFiberRoot(Le,b)}catch{}return!0}finally{G.p=m,W.T=d,F1(r,o)}}function $1(r,o,u){o=Wi(u,o),o=Uy(r.stateNode,o,2),r=ma(r,o,2),r!==null&&(se(r,2),js(r))}function Ae(r,o,u){if(r.tag===3)$1(r,r,u);else for(;o!==null;){if(o.tag===3){$1(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ta===null||!Ta.has(d))){r=Wi(u,r),u=Gw(2),d=ma(o,u,2),d!==null&&(Kw(u,d,o,r),se(d,2),js(d));break}}o=o.return}}function h_(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new TO;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(e_=!0,m.add(u),r=DO.bind(null,r,o,u),o.then(r,r))}function DO(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,ke===r&&(ne&u)===u&&(He===4||He===3&&(ne&62914560)===ne&&300>Ke()-s_?(me&2)===0&&lc(r,0):n_|=u,rc===ne&&(rc=0)),js(r)}function H1(r,o){o===0&&(o=ue()),r=$l(r,o),r!==null&&(se(r,o),js(r))}function MO(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),H1(r,u)}function IO(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),H1(r,u)}function OO(r,o){return Dt(r,o)}var Zd=null,uc=null,f_=!1,Jd=!1,d_=!1,Ho=0;function js(r){r!==uc&&r.next===null&&(uc===null?Zd=uc=r:uc=uc.next=r),Jd=!0,f_||(f_=!0,NO())}function eh(r,o){if(!d_&&Jd){d_=!0;do for(var u=!1,d=Zd;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var b=0;else{var R=d.suspendedLanes,I=d.pingedLanes;b=(1<<31-En(42|r)+1)-1,b&=m&~(R&~I),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,K1(d,b))}else b=ne,b=lr(d,d===ke?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||cr(d,b)||(u=!0,K1(d,b));d=d.next}while(u);d_=!1}}function PO(){W1()}function W1(){Jd=f_=!1;var r=0;Ho!==0&&(qO()&&(r=Ho),Ho=0);for(var o=Ke(),u=null,d=Zd;d!==null;){var m=d.next,b=Y1(d,o);b===0?(d.next=null,u===null?Zd=m:u.next=m,m===null&&(uc=u)):(u=d,(r!==0||(b&3)!==0)&&(Jd=!0)),d=m}eh(r)}function Y1(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var R=31-En(b),I=1<<R,$=m[R];$===-1?((I&u)===0||(I&d)!==0)&&(m[R]=ra(I,o)):$<=o&&(r.expiredLanes|=I),b&=~I}if(o=ke,u=ne,u=lr(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===o&&(ye===2||ye===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&St(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||cr(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(d!==null&&St(d),aa(u)){case 2:case 8:u=di;break;case 32:u=Ei;break;case 268435456:u=ws;break;default:u=Ei}return d=G1.bind(null,r),u=Dt(u,d),r.callbackPriority=o,r.callbackNode=u,o}return d!==null&&d!==null&&St(d),r.callbackPriority=2,r.callbackNode=null,2}function G1(r,o){if(Un!==0&&Un!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Qd()&&r.callbackNode!==u)return null;var d=ne;return d=lr(r,r===ke?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(D1(r,d,o),Y1(r,Ke()),r.callbackNode!=null&&r.callbackNode===u?G1.bind(null,r):null)}function K1(r,o){if(Qd())return null;D1(r,o,!0)}function NO(){HO(function(){(me&6)!==0?Dt(Ui,PO):W1()})}function p_(){return Ho===0&&(Ho=Ut()),Ho}function X1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Il(""+r)}function Q1(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function LO(r,o,u,d,m){if(o==="submit"&&u&&u.stateNode===m){var b=X1((m[en]||null).action),R=d.submitter;R&&(o=(o=R[en]||null)?X1(o.formAction):R.getAttribute("formAction"),o!==null&&(b=o,R=null));var I=new Ol("action","action",null,d,m);r.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ho!==0){var $=R?Q1(m,R):new FormData(m);Py(u,{pending:!0,data:$,method:m.method,action:b},null,$)}}else typeof b=="function"&&(I.preventDefault(),$=R?Q1(m,R):new FormData(m),Py(u,{pending:!0,data:$,method:m.method,action:b},b,$))},currentTarget:m}]})}}for(var g_=0;g_<Jm.length;g_++){var m_=Jm[g_],VO=m_.toLowerCase(),jO=m_[0].toUpperCase()+m_.slice(1);os(VO,"on"+jO)}os(Dx,"onAnimationEnd"),os(Mx,"onAnimationIteration"),os(Ix,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(eO,"onTransitionRun"),os(nO,"onTransitionStart"),os(iO,"onTransitionCancel"),os(Ox,"onTransitionEnd"),hr("onMouseEnter",["mouseout","mouseover"]),hr("onMouseLeave",["mouseout","mouseover"]),hr("onPointerEnter",["pointerout","pointerover"]),hr("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nh));function Z1(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],m=d.event;d=d.listeners;t:{var b=void 0;if(o)for(var R=d.length-1;0<=R;R--){var I=d[R],$=I.instance,nt=I.currentTarget;if(I=I.listener,$!==b&&m.isPropagationStopped())break t;b=I,m.currentTarget=nt;try{b(m)}catch(ct){zd(ct)}m.currentTarget=null,b=$}else for(R=0;R<d.length;R++){if(I=d[R],$=I.instance,nt=I.currentTarget,I=I.listener,$!==b&&m.isPropagationStopped())break t;b=I,m.currentTarget=nt;try{b(m)}catch(ct){zd(ct)}m.currentTarget=null,b=$}}}}function Kt(r,o){var u=o[du];u===void 0&&(u=o[du]=new Set);var d=r+"__bubble";u.has(d)||(J1(o,r,2,!1),u.add(d))}function y_(r,o,u){var d=0;o&&(d|=4),J1(u,r,d,o)}var tp="_reactListening"+Math.random().toString(36).slice(2);function __(r){if(!r[tp]){r[tp]=!0,pu.forEach(function(u){u!=="selectionchange"&&(UO.has(u)||y_(u,!1,r),y_(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[tp]||(o[tp]=!0,y_("selectionchange",!1,o))}}function J1(r,o,u,d){switch(EE(o)){case 2:var m=f2;break;case 8:m=d2;break;default:m=I_}u=m.bind(null,o,u,r),m=void 0,!$i||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(o,u,{capture:!0,passive:m}):r.addEventListener(o,u,!0):m!==void 0?r.addEventListener(o,u,{passive:m}):r.addEventListener(o,u,!1)}function b_(r,o,u,d,m){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var I=d.stateNode.containerInfo;if(I===m)break;if(R===4)for(R=d.return;R!==null;){var $=R.tag;if(($===3||$===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;I!==null;){if(R=ur(I),R===null)return;if($=R.tag,$===5||$===6||$===26||$===27){d=b=R;continue t}I=I.parentNode}}d=d.return}nd(function(){var nt=b,ct=qi(u),ft=[];t:{var it=Px.get(r);if(it!==void 0){var st=Ol,Nt=r;switch(r){case"keypress":if(Cs(u)===0)break t;case"keydown":case"keyup":st=Ul;break;case"focusin":Nt="focus",st=Ll;break;case"focusout":Nt="blur",st=Ll;break;case"beforeblur":case"afterblur":st=Ll;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=ud;break;case Dx:case Mx:case Ix:st=Vl;break;case Ox:st=fd;break;case"scroll":case"scrollend":st=id;break;case"wheel":st=zl;break;case"copy":case"cut":case"paste":st=jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Au;break;case"toggle":case"beforetoggle":st=pd}var Ct=(o&4)!==0,we=!Ct&&(r==="scroll"||r==="scrollend"),Z=Ct?it!==null?it+"Capture":null:it;Ct=[];for(var K=nt,et;K!==null;){var ut=K;if(et=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||et===null||Z===null||(ut=So(K,Z),ut!=null&&Ct.push(ih(K,ut,et))),we)break;K=K.return}0<Ct.length&&(it=new st(it,Nt,null,u,ct),ft.push({event:it,listeners:Ct}))}}if((o&7)===0){t:{if(it=r==="mouseover"||r==="pointerover",st=r==="mouseout"||r==="pointerout",it&&u!==pr&&(Nt=u.relatedTarget||u.fromElement)&&(ur(Nt)||Nt[Bi]))break t;if((st||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,st?(Nt=u.relatedTarget||u.toElement,st=nt,Nt=Nt?ur(Nt):null,Nt!==null&&(we=a(Nt),Ct=Nt.tag,Nt!==we||Ct!==5&&Ct!==27&&Ct!==6)&&(Nt=null)):(st=null,Nt=nt),st!==Nt)){if(Ct=Hi,ut="onMouseLeave",Z="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Ct=Au,ut="onPointerLeave",Z="onPointerEnter",K="pointer"),we=st==null?it:Ts(st),et=Nt==null?it:Ts(Nt),it=new Ct(ut,K+"leave",st,u,ct),it.target=we,it.relatedTarget=et,ut=null,ur(ct)===nt&&(Ct=new Ct(Z,K+"enter",Nt,u,ct),Ct.target=et,Ct.relatedTarget=we,ut=Ct),we=ut,st&&Nt)e:{for(Ct=st,Z=Nt,K=0,et=Ct;et;et=hc(et))K++;for(et=0,ut=Z;ut;ut=hc(ut))et++;for(;0<K-et;)Ct=hc(Ct),K--;for(;0<et-K;)Z=hc(Z),et--;for(;K--;){if(Ct===Z||Z!==null&&Ct===Z.alternate)break e;Ct=hc(Ct),Z=hc(Z)}Ct=null}else Ct=null;st!==null&&tE(ft,it,st,Ct,!1),Nt!==null&&we!==null&&tE(ft,we,Nt,Ct,!0)}}t:{if(it=nt?Ts(nt):window,st=it.nodeName&&it.nodeName.toLowerCase(),st==="select"||st==="input"&&it.type==="file")var Et=bx;else if(yn(it))if(vx)Et=ZI;else{Et=XI;var Wt=KI}else st=it.nodeName,!st||st.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?nt&&bu(nt.elementType)&&(Et=bx):Et=QI;if(Et&&(Et=Et(r,nt))){br(ft,Et,u,ct);break t}Wt&&Wt(r,it,nt),r==="focusout"&&nt&&it.type==="number"&&nt.memoizedProps.value!=null&&ha(it,"number",it.value)}switch(Wt=nt?Ts(nt):window,r){case"focusin":(yn(Wt)||Wt.contentEditable==="true")&&(Bl=Wt,Xm=nt,Cu=null);break;case"focusout":Cu=Xm=Bl=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,kx(ft,u,ct);break;case"selectionchange":if(tO)break;case"keydown":case"keyup":kx(ft,u,ct)}var At;if(Is)t:{switch(r){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else te?at(r,u)&&(Mt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Mt="onCompositionStart");Mt&&(T&&u.locale!=="ko"&&(te||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&te&&(At=xu()):(ks=ct,fa="value"in ks?ks.value:ks.textContent,te=!0)),Wt=ep(nt,Mt),0<Wt.length&&(Mt=new Su(Mt,r,null,u,ct),ft.push({event:Mt,listeners:Wt}),At?Mt.data=At:(At=mt(u),At!==null&&(Mt.data=At)))),(At=x?mn(r,u):ee(r,u))&&(Mt=ep(nt,"onBeforeInput"),0<Mt.length&&(Wt=new Su("onBeforeInput","beforeinput",null,u,ct),ft.push({event:Wt,listeners:Mt}),Wt.data=At)),LO(ft,r,nt,u,ct)}Z1(ft,o)})}function ih(r,o,u){return{instance:r,listener:o,currentTarget:u}}function ep(r,o){for(var u=o+"Capture",d=[];r!==null;){var m=r,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=So(r,u),m!=null&&d.unshift(ih(r,m,b)),m=So(r,o),m!=null&&d.push(ih(r,m,b))),r.tag===3)return d;r=r.return}return[]}function hc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function tE(r,o,u,d,m){for(var b=o._reactName,R=[];u!==null&&u!==d;){var I=u,$=I.alternate,nt=I.stateNode;if(I=I.tag,$!==null&&$===d)break;I!==5&&I!==26&&I!==27||nt===null||($=nt,m?(nt=So(u,b),nt!=null&&R.unshift(ih(u,nt,$))):m||(nt=So(u,b),nt!=null&&R.push(ih(u,nt,$)))),u=u.return}R.length!==0&&r.push({event:o,listeners:R})}var zO=/\r\n?/g,BO=/\u0000|\uFFFD/g;function eE(r){return(typeof r=="string"?r:""+r).replace(zO,`
`).replace(BO,"")}function nE(r,o){return o=eE(o),eE(r)===o}function np(){}function xe(r,o,u,d,m,b){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Fi(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Fi(r,""+d);break;case"className":As(r,"class",d);break;case"tabIndex":As(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":As(r,u,d);break;case"style":_u(r,d,b);break;case"data":if(o!=="object"){As(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Il(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&xe(r,o,"name",m.name,m,null),xe(r,o,"formEncType",m.formEncType,m,null),xe(r,o,"formMethod",m.formMethod,m,null),xe(r,o,"formTarget",m.formTarget,m,null)):(xe(r,o,"encType",m.encType,m,null),xe(r,o,"method",m.method,m,null),xe(r,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Il(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=np);break;case"onScroll":d!=null&&Kt("scroll",r);break;case"onScrollEnd":d!=null&&Kt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=Il(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":Kt("beforetoggle",r),Kt("toggle",r),ua(r,"popover",d);break;case"xlinkActuate":Ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ln(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ln(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ln(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ln(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ua(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=qm.get(u)||u,ua(r,u,d))}}function v_(r,o,u,d,m,b){switch(u){case"style":_u(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?Fi(r,d):(typeof d=="number"||typeof d=="bigint")&&Fi(r,""+d);break;case"onScroll":d!=null&&Kt("scroll",r);break;case"onScrollEnd":d!=null&&Kt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=np);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),b=r[en]||null,b=b!=null?b[u]:null,typeof b=="function"&&r.removeEventListener(o,b,m),typeof d=="function")){typeof b!="function"&&b!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,d,m);break t}u in r?r[u]=d:d===!0?r.setAttribute(u,""):ua(r,u,d)}}}function zn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",r),Kt("load",r);var d=!1,m=!1,b;for(b in u)if(u.hasOwnProperty(b)){var R=u[b];if(R!=null)switch(b){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:xe(r,o,b,R,u,null)}}m&&xe(r,o,"srcSet",u.srcSet,u,null),d&&xe(r,o,"src",u.src,u,null);return;case"input":Kt("invalid",r);var I=b=R=m=null,$=null,nt=null;for(d in u)if(u.hasOwnProperty(d)){var ct=u[d];if(ct!=null)switch(d){case"name":m=ct;break;case"type":R=ct;break;case"checked":$=ct;break;case"defaultChecked":nt=ct;break;case"value":b=ct;break;case"defaultValue":I=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,o));break;default:xe(r,o,d,ct,u,null)}}xo(r,b,I,$,nt,R,m,!1),Ml(r);return;case"select":Kt("invalid",r),d=R=b=null;for(m in u)if(u.hasOwnProperty(m)&&(I=u[m],I!=null))switch(m){case"value":b=I;break;case"defaultValue":R=I;break;case"multiple":d=I;default:xe(r,o,m,I,u,null)}o=b,u=R,r.multiple=!!d,o!=null?dr(r,!!d,o,!1):u!=null&&dr(r,!!d,u,!0);return;case"textarea":Kt("invalid",r),b=m=d=null;for(R in u)if(u.hasOwnProperty(R)&&(I=u[R],I!=null))switch(R){case"value":d=I;break;case"defaultValue":m=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:xe(r,o,R,I,u,null)}wo(r,d,m,b),Ml(r);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(d=u[$],d!=null))switch($){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:xe(r,o,$,d,u,null)}return;case"dialog":Kt("beforetoggle",r),Kt("toggle",r),Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":Kt("load",r);break;case"video":case"audio":for(d=0;d<nh.length;d++)Kt(nh[d],r);break;case"image":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"embed":case"source":case"link":Kt("error",r),Kt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in u)if(u.hasOwnProperty(nt)&&(d=u[nt],d!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:xe(r,o,nt,d,u,null)}return;default:if(bu(o)){for(ct in u)u.hasOwnProperty(ct)&&(d=u[ct],d!==void 0&&v_(r,o,ct,d,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(d=u[I],d!=null&&xe(r,o,I,d,u,null))}function FO(r,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,R=null,I=null,$=null,nt=null,ct=null;for(st in u){var ft=u[st];if(u.hasOwnProperty(st)&&ft!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":$=ft;default:d.hasOwnProperty(st)||xe(r,o,st,null,d,ft)}}for(var it in d){var st=d[it];if(ft=u[it],d.hasOwnProperty(it)&&(st!=null||ft!=null))switch(it){case"type":b=st;break;case"name":m=st;break;case"checked":nt=st;break;case"defaultChecked":ct=st;break;case"value":R=st;break;case"defaultValue":I=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,o));break;default:st!==ft&&xe(r,o,it,st,d,ft)}}Ti(r,R,I,$,nt,ct,b,m);return;case"select":st=R=I=it=null;for(b in u)if($=u[b],u.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":st=$;default:d.hasOwnProperty(b)||xe(r,o,b,null,d,$)}for(m in d)if(b=d[m],$=u[m],d.hasOwnProperty(m)&&(b!=null||$!=null))switch(m){case"value":it=b;break;case"defaultValue":I=b;break;case"multiple":R=b;default:b!==$&&xe(r,o,m,b,d,$)}o=I,u=R,d=st,it!=null?dr(r,!!u,it,!1):!!d!=!!u&&(o!=null?dr(r,!!u,o,!0):dr(r,!!u,u?[]:"",!1));return;case"textarea":st=it=null;for(I in u)if(m=u[I],u.hasOwnProperty(I)&&m!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:xe(r,o,I,null,d,m)}for(R in d)if(m=d[R],b=u[R],d.hasOwnProperty(R)&&(m!=null||b!=null))switch(R){case"value":it=m;break;case"defaultValue":st=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&xe(r,o,R,m,d,b)}be(r,it,st);return;case"option":for(var Nt in u)if(it=u[Nt],u.hasOwnProperty(Nt)&&it!=null&&!d.hasOwnProperty(Nt))switch(Nt){case"selected":r.selected=!1;break;default:xe(r,o,Nt,null,d,it)}for($ in d)if(it=d[$],st=u[$],d.hasOwnProperty($)&&it!==st&&(it!=null||st!=null))switch($){case"selected":r.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:xe(r,o,$,it,d,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in u)it=u[Ct],u.hasOwnProperty(Ct)&&it!=null&&!d.hasOwnProperty(Ct)&&xe(r,o,Ct,null,d,it);for(nt in d)if(it=d[nt],st=u[nt],d.hasOwnProperty(nt)&&it!==st&&(it!=null||st!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,o));break;default:xe(r,o,nt,it,d,st)}return;default:if(bu(o)){for(var we in u)it=u[we],u.hasOwnProperty(we)&&it!==void 0&&!d.hasOwnProperty(we)&&v_(r,o,we,void 0,d,it);for(ct in d)it=d[ct],st=u[ct],!d.hasOwnProperty(ct)||it===st||it===void 0&&st===void 0||v_(r,o,ct,it,d,st);return}}for(var Z in u)it=u[Z],u.hasOwnProperty(Z)&&it!=null&&!d.hasOwnProperty(Z)&&xe(r,o,Z,null,d,it);for(ft in d)it=d[ft],st=u[ft],!d.hasOwnProperty(ft)||it===st||it==null&&st==null||xe(r,o,ft,it,d,st)}var x_=null,w_=null;function ip(r){return r.nodeType===9?r:r.ownerDocument}function iE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function E_(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var S_=null;function qO(){var r=window.event;return r&&r.type==="popstate"?r===S_?!1:(S_=r,!0):(S_=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,$O=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,HO=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(r){return aE.resolve(null).then(r).catch(WO)}:rE;function WO(r){setTimeout(function(){throw r})}function ka(r){return r==="head"}function oE(r,o){var u=o,d=0,m=0;do{var b=u.nextSibling;if(r.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<d&&8>d){u=d;var R=r.ownerDocument;if(u&1&&sh(R.documentElement),u&2&&sh(R.body),u&4)for(u=R.head,sh(u),R=u.firstChild;R;){var I=R.nextSibling,$=R.nodeName;R[yo]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=I}}if(m===0){r.removeChild(b),fh(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:d=u.charCodeAt(0)-48;else d=0;u=b}while(u);fh(o)}function T_(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":T_(u),ca(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function YO(r,o,u,d){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[yo])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=cs(r.nextSibling),r===null)break}return null}function GO(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=cs(r.nextSibling),r===null))return null;return r}function A_(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function KO(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function cs(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var R_=null;function lE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function cE(r,o,u){switch(o=ip(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function sh(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);ca(r)}var Zi=new Map,uE=new Set;function sp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ir=G.d;G.d={f:XO,r:QO,D:ZO,C:JO,L:t2,m:e2,X:i2,S:n2,M:s2};function XO(){var r=Ir.f(),o=Kd();return r||o}function QO(r){var o=Ss(r);o!==null&&o.tag===5&&o.type==="form"?Dw(o):Ir.r(r)}var fc=typeof document>"u"?null:document;function hE(r,o,u){var d=fc;if(d&&typeof o=="string"&&o){var m=nn(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),uE.has(m)||(uE.add(m),r={rel:r,crossOrigin:u,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),zn(o,"link",r),Xe(o),d.head.appendChild(o)))}}function ZO(r){Ir.D(r),hE("dns-prefetch",r,null)}function JO(r,o){Ir.C(r,o),hE("preconnect",r,o)}function t2(r,o,u){Ir.L(r,o,u);var d=fc;if(d&&r&&o){var m='link[rel="preload"][as="'+nn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+nn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+nn(u.imageSizes)+'"]')):m+='[href="'+nn(r)+'"]';var b=m;switch(o){case"style":b=dc(r);break;case"script":b=pc(r)}Zi.has(b)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),Zi.set(b,r),d.querySelector(m)!==null||o==="style"&&d.querySelector(rh(b))||o==="script"&&d.querySelector(ah(b))||(o=d.createElement("link"),zn(o,"link",r),Xe(o),d.head.appendChild(o)))}}function e2(r,o){Ir.m(r,o);var u=fc;if(u&&r){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+nn(d)+'"][href="'+nn(r)+'"]',b=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=pc(r)}if(!Zi.has(b)&&(r=p({rel:"modulepreload",href:r},o),Zi.set(b,r),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ah(b)))return}d=u.createElement("link"),zn(d,"link",r),Xe(d),u.head.appendChild(d)}}}function n2(r,o,u){Ir.S(r,o,u);var d=fc;if(d&&r){var m=ai(d).hoistableStyles,b=dc(r);o=o||"default";var R=m.get(b);if(!R){var I={loading:0,preload:null};if(R=d.querySelector(rh(b)))I.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=Zi.get(b))&&k_(r,u);var $=R=d.createElement("link");Xe($),zn($,"link",r),$._p=new Promise(function(nt,ct){$.onload=nt,$.onerror=ct}),$.addEventListener("load",function(){I.loading|=1}),$.addEventListener("error",function(){I.loading|=2}),I.loading|=4,rp(R,o,d)}R={type:"stylesheet",instance:R,count:1,state:I},m.set(b,R)}}}function i2(r,o){Ir.X(r,o);var u=fc;if(u&&r){var d=ai(u).hoistableScripts,m=pc(r),b=d.get(m);b||(b=u.querySelector(ah(m)),b||(r=p({src:r,async:!0},o),(o=Zi.get(m))&&C_(r,o),b=u.createElement("script"),Xe(b),zn(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function s2(r,o){Ir.M(r,o);var u=fc;if(u&&r){var d=ai(u).hoistableScripts,m=pc(r),b=d.get(m);b||(b=u.querySelector(ah(m)),b||(r=p({src:r,async:!0,type:"module"},o),(o=Zi.get(m))&&C_(r,o),b=u.createElement("script"),Xe(b),zn(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function fE(r,o,u,d){var m=(m=xt.current)?sp(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=dc(u.href),u=ai(m).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=dc(u.href);var b=ai(m).hoistableStyles,R=b.get(r);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,R),(b=m.querySelector(rh(r)))&&!b._p&&(R.instance=b,R.state.loading=5),Zi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Zi.set(r,u),b||r2(m,r,u,R.state))),o&&d===null)throw Error(i(528,""));return R}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=pc(u),u=ai(m).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function dc(r){return'href="'+nn(r)+'"'}function rh(r){return'link[rel="stylesheet"]['+r+"]"}function dE(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function r2(r,o,u,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),zn(o,"link",u),Xe(o),r.head.appendChild(o))}function pc(r){return'[src="'+nn(r)+'"]'}function ah(r){return"script[async]"+r}function pE(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+nn(u.href)+'"]');if(d)return o.instance=d,Xe(d),d;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Xe(d),zn(d,"style",m),rp(d,u.precedence,r),o.instance=d;case"stylesheet":m=dc(u.href);var b=r.querySelector(rh(m));if(b)return o.state.loading|=4,o.instance=b,Xe(b),b;d=dE(u),(m=Zi.get(m))&&k_(d,m),b=(r.ownerDocument||r).createElement("link"),Xe(b);var R=b;return R._p=new Promise(function(I,$){R.onload=I,R.onerror=$}),zn(b,"link",d),o.state.loading|=4,rp(b,u.precedence,r),o.instance=b;case"script":return b=pc(u.src),(m=r.querySelector(ah(b)))?(o.instance=m,Xe(m),m):(d=u,(m=Zi.get(b))&&(d=p({},u),C_(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),Xe(m),zn(m,"link",d),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,rp(d,u.precedence,r));return o.instance}function rp(r,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,b=m,R=0;R<d.length;R++){var I=d[R];if(I.dataset.precedence===o)b=I;else if(b!==m)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function k_(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function C_(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var ap=null;function gE(r,o,u){if(ap===null){var d=new Map,m=ap=new Map;m.set(u,d)}else m=ap,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var b=u[m];if(!(b[yo]||b[gn]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(o)||"";R=r+R;var I=d.get(R);I?I.push(b):d.set(R,[b])}}return d}function mE(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function a2(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function yE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var oh=null;function o2(){}function l2(r,o,u){if(oh===null)throw Error(i(475));var d=oh;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=dc(u.href),b=r.querySelector(rh(m));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=op.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=b,Xe(b);return}b=r.ownerDocument||r,u=dE(u),(m=Zi.get(m))&&k_(u,m),b=b.createElement("link"),Xe(b);var R=b;R._p=new Promise(function(I,$){R.onload=I,R.onerror=$}),zn(b,"link",u),o.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=op.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function c2(){if(oh===null)throw Error(i(475));var r=oh;return r.stylesheets&&r.count===0&&D_(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&D_(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function op(){if(this.count--,this.count===0){if(this.stylesheets)D_(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var lp=null;function D_(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,lp=new Map,o.forEach(u2,r),lp=null,op.call(r))}function u2(r,o){if(!(o.state.loading&4)){var u=lp.get(r);if(u)var d=u.get(null);else{u=new Map,lp.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var R=m[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),d=R)}d&&u.set(null,d)}m=o.instance,R=m.getAttribute("data-precedence"),b=u.get(R)||d,b===d&&u.set(null,m),u.set(R,m),this.count++,d=op.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),b?b.parentNode.insertBefore(m,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var lh={$$typeof:M,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function h2(r,o,u,d,m,b,R,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=It(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=It(0),this.hiddenUpdates=It(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function _E(r,o,u,d,m,b,R,I,$,nt,ct,ft){return r=new h2(r,o,u,R,I,$,nt,ft),o=1,b===!0&&(o|=24),b=Ri(3,null,null,o),r.current=b,b.stateNode=r,o=hy(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:o},gy(b),r}function bE(r){return r?(r=Hl,r):Hl}function vE(r,o,u,d,m,b){m=bE(m),d.context===null?d.context=m:d.pendingContext=m,d=ga(o),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=ma(r,d,o),u!==null&&(Ii(u,r,o),ju(u,r,o))}function xE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function M_(r,o){xE(r,o),(r=r.alternate)&&xE(r,o)}function wE(r){if(r.tag===13){var o=$l(r,67108864);o!==null&&Ii(o,r,67108864),M_(r,67108864)}}var cp=!0;function f2(r,o,u,d){var m=W.T;W.T=null;var b=G.p;try{G.p=2,I_(r,o,u,d)}finally{G.p=b,W.T=m}}function d2(r,o,u,d){var m=W.T;W.T=null;var b=G.p;try{G.p=8,I_(r,o,u,d)}finally{G.p=b,W.T=m}}function I_(r,o,u,d){if(cp){var m=O_(d);if(m===null)b_(r,o,d,up,u),SE(r,d);else if(g2(m,r,o,u,d))d.stopPropagation();else if(SE(r,d),o&4&&-1<p2.indexOf(r)){for(;m!==null;){var b=Ss(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=Si(b.pendingLanes);if(R!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var $=1<<31-En(R);I.entanglements[1]|=$,R&=~$}js(b),(me&6)===0&&(Yd=Ke()+500,eh(0))}}break;case 13:I=$l(b,2),I!==null&&Ii(I,b,2),Kd(),M_(b,2)}if(b=O_(d),b===null&&b_(r,o,d,up,u),b===m)break;m=b}m!==null&&d.stopPropagation()}else b_(r,o,d,null,u)}}function O_(r){return r=qi(r),P_(r)}var up=null;function P_(r){if(up=null,r=ur(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return up=r,null}function EE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ji()){case Ui:return 2;case di:return 8;case Ei:case Sl:return 32;case ws:return 268435456;default:return 32}default:return 32}}var N_=!1,Ca=null,Da=null,Ma=null,ch=new Map,uh=new Map,Ia=[],p2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SE(r,o){switch(r){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":ch.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(o.pointerId)}}function hh(r,o,u,d,m,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[m]},o!==null&&(o=Ss(o),o!==null&&wE(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function g2(r,o,u,d,m){switch(o){case"focusin":return Ca=hh(Ca,r,o,u,d,m),!0;case"dragenter":return Da=hh(Da,r,o,u,d,m),!0;case"mouseover":return Ma=hh(Ma,r,o,u,d,m),!0;case"pointerover":var b=m.pointerId;return ch.set(b,hh(ch.get(b)||null,r,o,u,d,m)),!0;case"gotpointercapture":return b=m.pointerId,uh.set(b,hh(uh.get(b)||null,r,o,u,d,m)),!0}return!1}function TE(r){var o=ur(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,oa(r.priority,function(){if(u.tag===13){var d=Mi();d=Es(d);var m=$l(u,d);m!==null&&Ii(m,u,d),M_(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hp(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=O_(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);pr=d,u.target.dispatchEvent(d),pr=null}else return o=Ss(u),o!==null&&wE(o),r.blockedOn=u,!1;o.shift()}return!0}function AE(r,o,u){hp(r)&&u.delete(o)}function m2(){N_=!1,Ca!==null&&hp(Ca)&&(Ca=null),Da!==null&&hp(Da)&&(Da=null),Ma!==null&&hp(Ma)&&(Ma=null),ch.forEach(AE),uh.forEach(AE)}function fp(r,o){r.blockedOn===o&&(r.blockedOn=null,N_||(N_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,m2)))}var dp=null;function RE(r){dp!==r&&(dp=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dp===r&&(dp=null);for(var o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],m=r[o+2];if(typeof d!="function"){if(P_(d||u)===null)continue;break}var b=Ss(u);b!==null&&(r.splice(o,3),o-=3,Py(b,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function fh(r){function o($){return fp($,r)}Ca!==null&&fp(Ca,r),Da!==null&&fp(Da,r),Ma!==null&&fp(Ma,r),ch.forEach(o),uh.forEach(o);for(var u=0;u<Ia.length;u++){var d=Ia[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Ia.length&&(u=Ia[0],u.blockedOn===null);)TE(u),u.blockedOn===null&&Ia.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],b=u[d+1],R=m[en]||null;if(typeof b=="function")R||RE(u);else if(R){var I=null;if(b&&b.hasAttribute("formAction")){if(m=b,R=b[en]||null)I=R.formAction;else if(P_(m)!==null)continue}else I=R.action;typeof I=="function"?u[d+1]=I:(u.splice(d,3),d-=3),RE(u)}}}function L_(r){this._internalRoot=r}pp.prototype.render=L_.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=Mi();vE(u,d,r,o,null,null)},pp.prototype.unmount=L_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;vE(r.current,2,null,r,null,null),Kd(),o[Bi]=null}};function pp(r){this._internalRoot=r}pp.prototype.unstable_scheduleHydration=function(r){if(r){var o=zi();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Ia.length&&o!==0&&o<Ia[u].priority;u++);Ia.splice(u,0,r),u===0&&TE(r)}};var kE=t.version;if(kE!=="19.1.0")throw Error(i(527,kE,"19.1.0"));G.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var y2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{Le=gp.inject(y2),le=gp}catch{}}return ph.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,d="",m=$w,b=Hw,R=Ww,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=_E(r,1,!1,null,null,u,d,m,b,R,I,null),r[Bi]=o.current,__(r),new L_(o)},ph.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var d=!1,m="",b=$w,R=Hw,I=Ww,$=null,nt=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&($=u.unstable_transitionCallbacks),u.formState!==void 0&&(nt=u.formState)),o=_E(r,1,!0,o,u??null,d,m,b,R,I,$,nt),o.context=bE(null),u=o.current,d=Mi(),d=Es(d),m=ga(d),m.callback=null,ma(u,m,d),u=d,o.current.lanes=u,se(o,u),js(o),r[Bi]=o.current,__(r),new pp(o)},ph.version="19.1.0",ph}var jE;function D2(){if(jE)return U_.exports;jE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),U_.exports=C2(),U_.exports}var M2=D2();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var UE="popstate";function I2(e={}){function t(i,s){let{pathname:a,search:l,hash:c}=i.location;return Lb("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:rf(s)}return P2(t,n,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function is(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O2(){return Math.random().toString(36).substring(2,10)}function zE(e,t){return{usr:e.state,key:e.key,idx:t}}function Lb(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Qc(t):t,state:n,key:t&&t.key||i||O2()}}function rf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function P2(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let S=p(),C=S==null?null:S-f;f=S,h&&h({action:c,location:A.location,delta:C})}function _(S,C){c="PUSH";let O=Lb(A.location,S,C);f=p()+1;let M=zE(O,f),q=A.createHref(O);try{l.pushState(M,"",q)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(q)}a&&h&&h({action:c,location:A.location,delta:1})}function w(S,C){c="REPLACE";let O=Lb(A.location,S,C);f=p();let M=zE(O,f),q=A.createHref(O);l.replaceState(M,"",q),a&&h&&h({action:c,location:A.location,delta:0})}function E(S){return N2(S)}let A={get action(){return c},get location(){return e(s,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(UE,y),h=S,()=>{s.removeEventListener(UE,y),h=null}},createHref(S){return t(s,S)},createURL:E,encodeLocation(S){let C=E(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:w,go(S){return l.go(S)}};return A}function N2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ze(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:rf(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function HR(e,t,n="/"){return L2(e,t,n,!1)}function L2(e,t,n,i){let s=typeof t=="string"?Qc(t):t,a=Kr(s.pathname||"/",n);if(a==null)return null;let l=WR(e);V2(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=G2(a);c=W2(l[h],f,i)}return c}function WR(e,t=[],n=[],i=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ze(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Wr([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),WR(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:$2(f,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of YR(a.path))s(a,l,h)}),t}function YR(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=YR(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function V2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:H2(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var j2=/^:[\w-]+$/,U2=3,z2=2,B2=1,F2=10,q2=-2,BE=e=>e==="*";function $2(e,t){let n=e.split("/"),i=n.length;return n.some(BE)&&(i+=q2),t&&(i+=z2),n.filter(s=>!BE(s)).reduce((s,a)=>s+(j2.test(a)?U2:a===""?B2:F2),i)}function H2(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function W2(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=xg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=xg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Wr([a,y.pathname]),pathnameBase:Z2(Wr([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Wr([a,y.pathnameBase]))}return l}function xg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=Y2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},_)=>{if(p==="*"){let E=c[_]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const w=c[_];return y&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function Y2(e,t=!1,n=!0){is(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function G2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return is(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Kr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function K2(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Qc(e):e;return{pathname:n?n.startsWith("/")?n:X2(n,t):t,search:J2(i),hash:tP(s)}}function X2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function q_(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function B0(e){let t=Q2(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function F0(e,t,n,i=!1){let s;typeof e=="string"?s=Qc(e):(s={...e},ze(!s.pathname||!s.pathname.includes("?"),q_("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),q_("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),q_("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=K2(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Wr=e=>e.join("/").replace(/\/\/+/g,"/"),Z2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var GR=["POST","PUT","PATCH","DELETE"];new Set(GR);var nP=["GET",...GR];new Set(nP);var Zc=B.createContext(null);Zc.displayName="DataRouter";var Jg=B.createContext(null);Jg.displayName="DataRouterState";B.createContext(!1);var KR=B.createContext({isTransitioning:!1});KR.displayName="ViewTransition";var iP=B.createContext(new Map);iP.displayName="Fetchers";var sP=B.createContext(null);sP.displayName="Await";var xs=B.createContext(null);xs.displayName="Navigation";var Mf=B.createContext(null);Mf.displayName="Location";var nr=B.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var q0=B.createContext(null);q0.displayName="RouteError";function rP(e,{relative:t}={}){ze(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=B.useContext(xs),{hash:s,pathname:a,search:l}=If(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Wr([n,a])),i.createHref({pathname:c,search:l,hash:s})}function Jc(){return B.useContext(Mf)!=null}function ea(){return ze(Jc(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Mf).location}var XR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QR(e){B.useContext(xs).static||B.useLayoutEffect(e)}function tu(){let{isDataRoute:e}=B.useContext(nr);return e?_P():aP()}function aP(){ze(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let e=B.useContext(Zc),{basename:t,navigator:n}=B.useContext(xs),{matches:i}=B.useContext(nr),{pathname:s}=ea(),a=JSON.stringify(B0(i)),l=B.useRef(!1);return QR(()=>{l.current=!0}),B.useCallback((h,f={})=>{if(is(l.current,XR),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=F0(h,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Wr([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,s,e])}B.createContext(null);function If(e,{relative:t}={}){let{matches:n}=B.useContext(nr),{pathname:i}=ea(),s=JSON.stringify(B0(n));return B.useMemo(()=>F0(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function oP(e,t){return ZR(e,t)}function ZR(e,t,n,i){var C;ze(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(xs),{matches:a}=B.useContext(nr),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let O=p&&p.path||"";JR(h,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=ea(),_;if(t){let O=typeof t=="string"?Qc(t):t;ze(f==="/"||((C=O.pathname)==null?void 0:C.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=y;let w=_.pathname||"/",E=w;if(f!=="/"){let O=f.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=HR(e,{pathname:E});is(p||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),is(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=fP(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:Wr([f,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:Wr([f,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,n,i);return t&&S?B.createElement(Mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},S):S}function lP(){let e=yP(),t=eP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:s},n):null,l)}var cP=B.createElement(lP,null),uP=class extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?B.createElement(nr.Provider,{value:this.props.routeContext},B.createElement(q0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hP({routeContext:e,match:t,children:n}){let i=B.useContext(Zc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(nr.Provider,{value:e},n)}function fP(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:y}=n,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let y,_=!1,w=null,E=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||cP,l&&(c<0&&p===0?(JR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===p&&(_=!0,E=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,p+1)),S=()=>{let C;return y?C=w:_?C=E:f.route.Component?C=B.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=h,B.createElement(hP,{match:f,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?B.createElement(uP,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:S(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):S()},null)}function $0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dP(e){let t=B.useContext(Zc);return ze(t,$0(e)),t}function pP(e){let t=B.useContext(Jg);return ze(t,$0(e)),t}function gP(e){let t=B.useContext(nr);return ze(t,$0(e)),t}function H0(e){let t=gP(e),n=t.matches[t.matches.length-1];return ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function mP(){return H0("useRouteId")}function yP(){var i;let e=B.useContext(q0),t=pP("useRouteError"),n=H0("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function _P(){let{router:e}=dP("useNavigate"),t=H0("useNavigate"),n=B.useRef(!1);return QR(()=>{n.current=!0}),B.useCallback(async(s,a={})=>{is(n.current,XR),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var FE={};function JR(e,t,n){!t&&!FE[e]&&(FE[e]=!0,is(!1,n))}B.memo(bP);function bP({routes:e,future:t,state:n}){return ZR(e,void 0,n,t)}function vP({to:e,replace:t,state:n,relative:i}){ze(Jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=B.useContext(xs);is(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=B.useContext(nr),{pathname:l}=ea(),c=tu(),h=F0(e,B0(a),l,i==="path"),f=JSON.stringify(h);return B.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:i})},[c,f,i,t,n]),null}function Xp(e){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xP({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){ze(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Qc(n));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:_="default"}=n,w=B.useMemo(()=>{let E=Kr(h,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:y,key:_},navigationType:i}},[l,h,f,p,y,_,i]);return is(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:B.createElement(xs.Provider,{value:c},B.createElement(Mf.Provider,{children:t,value:w}))}function wP({children:e,location:t}){return oP(Vb(e),t)}function Vb(e,t=[]){let n=[];return B.Children.forEach(e,(i,s)=>{if(!B.isValidElement(i))return;let a=[...t,s];if(i.type===B.Fragment){n.push.apply(n,Vb(i.props.children,a));return}ze(i.type===Xp,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Vb(i.props.children,a)),n.push(l)}),n}var Qp="get",Zp="application/x-www-form-urlencoded";function tm(e){return e!=null&&typeof e.tagName=="string"}function EP(e){return tm(e)&&e.tagName.toLowerCase()==="button"}function SP(e){return tm(e)&&e.tagName.toLowerCase()==="form"}function TP(e){return tm(e)&&e.tagName.toLowerCase()==="input"}function AP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RP(e,t){return e.button===0&&(!t||t==="_self")&&!AP(e)}function jb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function kP(e,t){let n=jb(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var mp=null;function CP(){if(mp===null)try{new FormData(document.createElement("form"),0),mp=!1}catch{mp=!0}return mp}var DP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $_(e){return e!=null&&!DP.has(e)?(is(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zp}"`),null):e}function MP(e,t){let n,i,s,a,l;if(SP(e)){let c=e.getAttribute("action");i=c?Kr(c,t):null,n=e.getAttribute("method")||Qp,s=$_(e.getAttribute("enctype"))||Zp,a=new FormData(e)}else if(EP(e)||TP(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?Kr(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Qp,s=$_(e.getAttribute("formenctype"))||$_(c.getAttribute("enctype"))||Zp,a=new FormData(c,e),!CP()){let{name:f,type:p,value:y}=e;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,y)}}else{if(tm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qp,i=null,s=Zp,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function W0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IP(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&Kr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function OP(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function NP(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await OP(a,n);return l.links?l.links():[]}return[]}));return UP(i.flat(1).filter(PP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qE(e,t,n,i,s,a){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?t.filter((h,f)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function LP(e,t,{includeHydrateFallback:n}={}){return VP(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function VP(e){return[...new Set(e)]}function jP(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function UP(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(jP(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function tk(){let e=B.useContext(Zc);return W0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zP(){let e=B.useContext(Jg);return W0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Y0=B.createContext(void 0);Y0.displayName="FrameworkContext";function ek(){let e=B.useContext(Y0);return W0(e,"You must render this element inside a <HydratedRouter> element"),e}function BP(e,t){let n=B.useContext(Y0),[i,s]=B.useState(!1),[a,l]=B.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=t,_=B.useRef(null);B.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let A=C=>{C.forEach(O=>{l(O.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[e]),B.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let w=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,_,{}]:[a,_,{onFocus:gh(c,w),onBlur:gh(h,E),onMouseEnter:gh(f,w),onMouseLeave:gh(p,E),onTouchStart:gh(y,w)}]:[!1,_,{}]}function gh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function FP({page:e,...t}){let{router:n}=tk(),i=B.useMemo(()=>HR(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?B.createElement($P,{page:e,matches:i,...t}):null}function qP(e){let{manifest:t,routeModules:n}=ek(),[i,s]=B.useState([]);return B.useEffect(()=>{let a=!1;return NP(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function $P({page:e,matches:t,...n}){let i=ea(),{manifest:s,routeModules:a}=ek(),{basename:l}=tk(),{loaderData:c,matches:h}=zP(),f=B.useMemo(()=>qE(e,t,h,s,i,"data"),[e,t,h,s,i]),p=B.useMemo(()=>qE(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=B.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,A=!1;if(t.forEach(C=>{var M;let O=s.routes[C.route.id];!O||!O.hasLoader||(!f.some(q=>q.route.id===C.route.id)&&C.route.id in c&&((M=a[C.route.id])!=null&&M.shouldRevalidate)||O.hasClientLoader?A=!0:E.add(C.route.id))}),E.size===0)return[];let S=IP(e,l,"data");return A&&E.size>0&&S.searchParams.set("_routes",t.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[l,c,i,s,f,t,e,a]),_=B.useMemo(()=>LP(p,s),[p,s]),w=qP(p);return B.createElement(B.Fragment,null,y.map(E=>B.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>B.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:A})=>B.createElement("link",{key:E,...A})))}function HP(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nk&&(window.__reactRouterVersion="7.7.0")}catch{}function WP({basename:e,children:t,window:n}){let i=B.useRef();i.current==null&&(i.current=I2({window:n,v5Compat:!0}));let s=i.current,[a,l]=B.useState({action:s.action,location:s.location}),c=B.useCallback(h=>{B.startTransition(()=>l(h))},[l]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(xP,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sk=B.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:y,..._},w){let{basename:E}=B.useContext(xs),A=typeof f=="string"&&ik.test(f),S,C=!1;if(typeof f=="string"&&A&&(S=f,nk))try{let V=new URL(window.location.href),z=f.startsWith("//")?new URL(V.protocol+f):new URL(f),F=Kr(z.pathname,E);z.origin===V.origin&&F!=null?f=F+z.search+z.hash:C=!0}catch{is(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=rP(f,{relative:s}),[M,q,L]=BP(i,_),Y=XP(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function D(V){t&&t(V),V.defaultPrevented||Y(V)}let k=B.createElement("a",{..._,...L,href:S||O,onClick:C||a?t:D,ref:HP(w,q),target:h,"data-discover":!A&&n==="render"?"true":void 0});return M&&!A?B.createElement(B.Fragment,null,k,B.createElement(FP,{page:O})):k});sk.displayName="Link";var YP=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let y=If(l,{relative:f.relative}),_=ea(),w=B.useContext(Jg),{navigator:E,basename:A}=B.useContext(xs),S=w!=null&&eN(y)&&c===!0,C=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,O=_.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(O=O.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&A&&(M=Kr(M,A)||M);const q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let L=O===C||!s&&O.startsWith(C)&&O.charAt(q)==="/",Y=M!=null&&(M===C||!s&&M.startsWith(C)&&M.charAt(C.length)==="/"),D={isActive:L,isPending:Y,isTransitioning:S},k=L?t:void 0,V;typeof i=="function"?V=i(D):V=[i,L?"active":null,Y?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(D):a;return B.createElement(sk,{...f,"aria-current":k,className:V,ref:p,style:z,to:l,viewTransition:c},typeof h=="function"?h(D):h)});YP.displayName="NavLink";var GP=B.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Qp,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:y,..._},w)=>{let E=JP(),A=tN(c,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&ik.test(c),O=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let q=M.nativeEvent.submitter,L=(q==null?void 0:q.getAttribute("formmethod"))||l;E(q||M.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:y})};return B.createElement("form",{ref:w,method:S,action:A,onSubmit:i?h:O,..._,"data-discover":!C&&e==="render"?"true":void 0})});GP.displayName="Form";function KP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rk(e){let t=B.useContext(Zc);return ze(t,KP(e)),t}function XP(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=tu(),h=ea(),f=If(e,{relative:a});return B.useCallback(p=>{if(RP(p,t)){p.preventDefault();let y=n!==void 0?n:rf(h)===rf(f);c(e,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,f,n,i,t,e,s,a,l])}function G0(e){is(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=B.useRef(jb(e)),n=B.useRef(!1),i=ea(),s=B.useMemo(()=>kP(i.search,n.current?null:t.current),[i.search]),a=tu(),l=B.useCallback((c,h)=>{const f=jb(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,a("?"+f,h)},[a,s]);return[s,l]}var QP=0,ZP=()=>`__${String(++QP)}__`;function JP(){let{router:e}=rk("useSubmit"),{basename:t}=B.useContext(xs),n=mP();return B.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=MP(i,t);if(s.navigate===!1){let p=s.fetcherKey||ZP();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function tN(e,{relative:t}={}){let{basename:n}=B.useContext(xs),i=B.useContext(nr);ze(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...If(e||".",{relative:t})},l=ea();if(e==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Wr([n,a.pathname])),rf(a)}function eN(e,t={}){let n=B.useContext(KR);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rk("useViewTransitionState"),s=If(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Kr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Kr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return xg(s.pathname,l)!=null||xg(s.pathname,a)!=null}var Pn=function(){return Pn=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Pn.apply(this,arguments)};function af(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var Me="-ms-",Fh="-moz-",fe="-webkit-",ak="comm",em="rule",K0="decl",nN="@import",ok="@keyframes",iN="@layer",lk=Math.abs,X0=String.fromCharCode,Ub=Object.assign;function sN(e,t){return On(e,0)^45?(((t<<2^On(e,0))<<2^On(e,1))<<2^On(e,2))<<2^On(e,3):0}function ck(e){return e.trim()}function Lr(e,t){return(e=t.exec(e))?e[0]:e}function $t(e,t,n){return e.replace(t,n)}function Jp(e,t,n){return e.indexOf(t,n)}function On(e,t){return e.charCodeAt(t)|0}function Pc(e,t,n){return e.slice(t,n)}function $s(e){return e.length}function uk(e){return e.length}function Ch(e,t){return t.push(e),e}function rN(e,t){return e.map(t).join("")}function $E(e,t){return e.filter(function(n){return!Lr(n,t)})}var nm=1,Nc=1,hk=0,ss=0,un=0,eu="";function im(e,t,n,i,s,a,l,c){return{value:e,root:t,parent:n,type:i,props:s,children:a,line:nm,column:Nc,length:l,return:"",siblings:c}}function ja(e,t){return Ub(im("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function gc(e){for(;e.root;)e=ja(e.root,{children:[e]});Ch(e,e.siblings)}function aN(){return un}function oN(){return un=ss>0?On(eu,--ss):0,Nc--,un===10&&(Nc=1,nm--),un}function gs(){return un=ss<hk?On(eu,ss++):0,Nc++,un===10&&(Nc=1,nm++),un}function sl(){return On(eu,ss)}function tg(){return ss}function sm(e,t){return Pc(eu,e,t)}function zb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lN(e){return nm=Nc=1,hk=$s(eu=e),ss=0,[]}function cN(e){return eu="",e}function H_(e){return ck(sm(ss-1,Bb(e===91?e+2:e===40?e+1:e)))}function uN(e){for(;(un=sl())&&un<33;)gs();return zb(e)>2||zb(un)>3?"":" "}function hN(e,t){for(;--t&&gs()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return sm(e,tg()+(t<6&&sl()==32&&gs()==32))}function Bb(e){for(;gs();)switch(un){case e:return ss;case 34:case 39:e!==34&&e!==39&&Bb(un);break;case 40:e===41&&Bb(e);break;case 92:gs();break}return ss}function fN(e,t){for(;gs()&&e+un!==57;)if(e+un===84&&sl()===47)break;return"/*"+sm(t,ss-1)+"*"+X0(e===47?e:gs())}function dN(e){for(;!zb(sl());)gs();return sm(e,ss)}function pN(e){return cN(eg("",null,null,null,[""],e=lN(e),0,[0],e))}function eg(e,t,n,i,s,a,l,c,h){for(var f=0,p=0,y=l,_=0,w=0,E=0,A=1,S=1,C=1,O=0,M="",q=s,L=a,Y=i,D=M;S;)switch(E=O,O=gs()){case 40:if(E!=108&&On(D,y-1)==58){Jp(D+=$t(H_(O),"&","&\f"),"&\f",lk(f?c[f-1]:0))!=-1&&(C=-1);break}case 34:case 39:case 91:D+=H_(O);break;case 9:case 10:case 13:case 32:D+=uN(E);break;case 92:D+=hN(tg()-1,7);continue;case 47:switch(sl()){case 42:case 47:Ch(gN(fN(gs(),tg()),t,n,h),h);break;default:D+="/"}break;case 123*A:c[f++]=$s(D)*C;case 125*A:case 59:case 0:switch(O){case 0:case 125:S=0;case 59+p:C==-1&&(D=$t(D,/\f/g,"")),w>0&&$s(D)-y&&Ch(w>32?WE(D+";",i,n,y-1,h):WE($t(D," ","")+";",i,n,y-2,h),h);break;case 59:D+=";";default:if(Ch(Y=HE(D,t,n,f,p,s,c,M,q=[],L=[],y,a),a),O===123)if(p===0)eg(D,t,Y,Y,q,a,y,c,L);else switch(_===99&&On(D,3)===110?100:_){case 100:case 108:case 109:case 115:eg(e,Y,Y,i&&Ch(HE(e,Y,Y,0,0,s,c,M,s,q=[],y,L),L),s,L,y,c,i?q:L);break;default:eg(D,Y,Y,Y,[""],L,0,c,L)}}f=p=w=0,A=C=1,M=D="",y=l;break;case 58:y=1+$s(D),w=E;default:if(A<1){if(O==123)--A;else if(O==125&&A++==0&&oN()==125)continue}switch(D+=X0(O),O*A){case 38:C=p>0?1:(D+="\f",-1);break;case 44:c[f++]=($s(D)-1)*C,C=1;break;case 64:sl()===45&&(D+=H_(gs())),_=sl(),p=y=$s(M=D+=dN(tg())),O++;break;case 45:E===45&&$s(D)==2&&(A=0)}}return a}function HE(e,t,n,i,s,a,l,c,h,f,p,y){for(var _=s-1,w=s===0?a:[""],E=uk(w),A=0,S=0,C=0;A<i;++A)for(var O=0,M=Pc(e,_+1,_=lk(S=l[A])),q=e;O<E;++O)(q=ck(S>0?w[O]+" "+M:$t(M,/&\f/g,w[O])))&&(h[C++]=q);return im(e,t,n,s===0?em:c,h,f,p,y)}function gN(e,t,n,i){return im(e,t,n,ak,X0(aN()),Pc(e,2,-2),0,i)}function WE(e,t,n,i,s){return im(e,t,n,K0,Pc(e,0,i),Pc(e,i+1,-1),i,s)}function fk(e,t,n){switch(sN(e,t)){case 5103:return fe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+e+e;case 4789:return Fh+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+e+Fh+e+Me+e+e;case 5936:switch(On(e,t+11)){case 114:return fe+e+Me+$t(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return fe+e+Me+$t(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return fe+e+Me+$t(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return fe+e+Me+e+e;case 6165:return fe+e+Me+"flex-"+e+e;case 5187:return fe+e+$t(e,/(\w+).+(:[^]+)/,fe+"box-$1$2"+Me+"flex-$1$2")+e;case 5443:return fe+e+Me+"flex-item-"+$t(e,/flex-|-self/g,"")+(Lr(e,/flex-|baseline/)?"":Me+"grid-row-"+$t(e,/flex-|-self/g,""))+e;case 4675:return fe+e+Me+"flex-line-pack"+$t(e,/align-content|flex-|-self/g,"")+e;case 5548:return fe+e+Me+$t(e,"shrink","negative")+e;case 5292:return fe+e+Me+$t(e,"basis","preferred-size")+e;case 6060:return fe+"box-"+$t(e,"-grow","")+fe+e+Me+$t(e,"grow","positive")+e;case 4554:return fe+$t(e,/([^-])(transform)/g,"$1"+fe+"$2")+e;case 6187:return $t($t($t(e,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),e,"")+e;case 5495:case 3959:return $t(e,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return $t($t(e,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+Me+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+e+e;case 4200:if(!Lr(e,/flex-|baseline/))return Me+"grid-column-align"+Pc(e,t)+e;break;case 2592:case 3360:return Me+$t(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(i,s){return t=s,Lr(i.props,/grid-\w+-end/)})?~Jp(e+(n=n[t].value),"span",0)?e:Me+$t(e,"-start","")+e+Me+"grid-row-span:"+(~Jp(n,"span",0)?Lr(n,/\d+/):+Lr(n,/\d+/)-+Lr(e,/\d+/))+";":Me+$t(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(i){return Lr(i.props,/grid-\w+-start/)})?e:Me+$t($t(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return $t(e,/(.+)-inline(.+)/,fe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($s(e)-1-t>6)switch(On(e,t+1)){case 109:if(On(e,t+4)!==45)break;case 102:return $t(e,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+Fh+(On(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Jp(e,"stretch",0)?fk($t(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return $t(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,a,l,c,h,f){return Me+s+":"+a+f+(l?Me+s+"-span:"+(c?h:+h-+a)+f:"")+e});case 4949:if(On(e,t+6)===121)return $t(e,":",":"+fe)+e;break;case 6444:switch(On(e,On(e,14)===45?18:11)){case 120:return $t(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fe+(On(e,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+Me+"$2box$3")+e;case 100:return $t(e,":",":"+Me)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return $t(e,"scroll-","scroll-snap-")+e}return e}function wg(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function mN(e,t,n,i){switch(e.type){case iN:if(e.children.length)break;case nN:case K0:return e.return=e.return||e.value;case ak:return"";case ok:return e.return=e.value+"{"+wg(e.children,i)+"}";case em:if(!$s(e.value=e.props.join(",")))return""}return $s(n=wg(e.children,i))?e.return=e.value+"{"+n+"}":""}function yN(e){var t=uk(e);return function(n,i,s,a){for(var l="",c=0;c<t;c++)l+=e[c](n,i,s,a)||"";return l}}function _N(e){return function(t){t.root||(t=t.return)&&e(t)}}function bN(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case K0:e.return=fk(e.value,e.length,n);return;case ok:return wg([ja(e,{value:$t(e.value,"@","@"+fe)})],i);case em:if(e.length)return rN(n=e.props,function(s){switch(Lr(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":gc(ja(e,{props:[$t(s,/:(read-\w+)/,":"+Fh+"$1")]})),gc(ja(e,{props:[s]})),Ub(e,{props:$E(n,i)});break;case"::placeholder":gc(ja(e,{props:[$t(s,/:(plac\w+)/,":"+fe+"input-$1")]})),gc(ja(e,{props:[$t(s,/:(plac\w+)/,":"+Fh+"$1")]})),gc(ja(e,{props:[$t(s,/:(plac\w+)/,Me+"input-$1")]})),gc(ja(e,{props:[s]})),Ub(e,{props:$E(n,i)});break}return""})}}var vN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Oi={},Lc=typeof process<"u"&&Oi!==void 0&&(Oi.REACT_APP_SC_ATTR||Oi.SC_ATTR)||"data-styled",dk="active",pk="data-styled-version",rm="6.1.19",Q0=`/*!sc*/
`,Eg=typeof window<"u"&&typeof document<"u",xN=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Oi!==void 0&&Oi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Oi.REACT_APP_SC_DISABLE_SPEEDY!==""?Oi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Oi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Oi!==void 0&&Oi.SC_DISABLE_SPEEDY!==void 0&&Oi.SC_DISABLE_SPEEDY!==""&&Oi.SC_DISABLE_SPEEDY!=="false"&&Oi.SC_DISABLE_SPEEDY),wN={},am=Object.freeze([]),Vc=Object.freeze({});function gk(e,t,n){return n===void 0&&(n=Vc),e.theme!==n.theme&&e.theme||t||n.theme}var mk=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),EN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,SN=/(^-|-$)/g;function YE(e){return e.replace(EN,"-").replace(SN,"")}var TN=/(a)(d)/gi,yp=52,GE=function(e){return String.fromCharCode(e+(e>25?39:97))};function Fb(e){var t,n="";for(t=Math.abs(e);t>yp;t=t/yp|0)n=GE(t%yp)+n;return(GE(t%yp)+n).replace(TN,"$1-$2")}var W_,yk=5381,Sc=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},_k=function(e){return Sc(yk,e)};function bk(e){return Fb(_k(e)>>>0)}function AN(e){return e.displayName||e.name||"Component"}function Y_(e){return typeof e=="string"&&!0}var vk=typeof Symbol=="function"&&Symbol.for,xk=vk?Symbol.for("react.memo"):60115,RN=vk?Symbol.for("react.forward_ref"):60112,kN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DN=((W_={})[RN]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},W_[xk]=wk,W_);function KE(e){return("type"in(t=e)&&t.type.$$typeof)===xk?wk:"$$typeof"in e?DN[e.$$typeof]:kN;var t}var MN=Object.defineProperty,IN=Object.getOwnPropertyNames,XE=Object.getOwnPropertySymbols,ON=Object.getOwnPropertyDescriptor,PN=Object.getPrototypeOf,QE=Object.prototype;function Ek(e,t,n){if(typeof t!="string"){if(QE){var i=PN(t);i&&i!==QE&&Ek(e,i,n)}var s=IN(t);XE&&(s=s.concat(XE(t)));for(var a=KE(e),l=KE(t),c=0;c<s.length;++c){var h=s[c];if(!(h in CN||n&&n[h]||l&&h in l||a&&h in a)){var f=ON(t,h);try{MN(e,h,f)}catch{}}}}return e}function cl(e){return typeof e=="function"}function Z0(e){return typeof e=="object"&&"styledComponentId"in e}function tl(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function qb(e,t){if(e.length===0)return"";for(var n=e[0],i=1;i<e.length;i++)n+=e[i];return n}function of(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function $b(e,t,n){if(n===void 0&&(n=!1),!n&&!of(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=$b(e[i],t[i]);else if(of(t))for(var i in t)e[i]=$b(e[i],t[i]);return e}function J0(e,t){Object.defineProperty(e,"toString",{value:t})}function ul(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var NN=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,i=0;i<t;i++)n+=this.groupSizes[i];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,a=s;t>=a;)if((a<<=1)<0)throw ul(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(i),this.length=a;for(var l=s;l<a;l++)this.groupSizes[l]=0}for(var c=this.indexOfGroup(t+1),h=(l=0,n.length);l<h;l++)this.tag.insertRule(c,n[l])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],i=this.indexOfGroup(t),s=i+n;this.groupSizes[t]=0;for(var a=i;a<s;a++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),a=s+i,l=s;l<a;l++)n+="".concat(this.tag.getRule(l)).concat(Q0);return n},e}(),ng=new Map,Sg=new Map,ig=1,_p=function(e){if(ng.has(e))return ng.get(e);for(;Sg.has(ig);)ig++;var t=ig++;return ng.set(e,t),Sg.set(t,e),t},LN=function(e,t){ig=t+1,ng.set(e,t),Sg.set(t,e)},VN="style[".concat(Lc,"][").concat(pk,'="').concat(rm,'"]'),jN=new RegExp("^".concat(Lc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),UN=function(e,t,n){for(var i,s=n.split(","),a=0,l=s.length;a<l;a++)(i=s[a])&&e.registerName(t,i)},zN=function(e,t){for(var n,i=((n=t.textContent)!==null&&n!==void 0?n:"").split(Q0),s=[],a=0,l=i.length;a<l;a++){var c=i[a].trim();if(c){var h=c.match(jN);if(h){var f=0|parseInt(h[1],10),p=h[2];f!==0&&(LN(p,f),UN(e,p,h[3]),e.getTag().insertRules(f,s)),s.length=0}else s.push(c)}}},ZE=function(e){for(var t=document.querySelectorAll(VN),n=0,i=t.length;n<i;n++){var s=t[n];s&&s.getAttribute(Lc)!==dk&&(zN(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function BN(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Sk=function(e){var t=document.head,n=e||t,i=document.createElement("style"),s=function(c){var h=Array.from(c.querySelectorAll("style[".concat(Lc,"]")));return h[h.length-1]}(n),a=s!==void 0?s.nextSibling:null;i.setAttribute(Lc,dk),i.setAttribute(pk,rm);var l=BN();return l&&i.setAttribute("nonce",l),n.insertBefore(i,a),i},FN=function(){function e(t){this.element=Sk(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,s=0,a=i.length;s<a;s++){var l=i[s];if(l.ownerNode===n)return l}throw ul(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),qN=function(){function e(t){this.element=Sk(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),$N=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),JE=Eg,HN={isServer:!Eg,useCSSOMInjection:!xN},Tg=function(){function e(t,n,i){t===void 0&&(t=Vc),n===void 0&&(n={});var s=this;this.options=Pn(Pn({},HN),t),this.gs=n,this.names=new Map(i),this.server=!!t.isServer,!this.server&&Eg&&JE&&(JE=!1,ZE(this)),J0(this,function(){return function(a){for(var l=a.getTag(),c=l.length,h="",f=function(y){var _=function(C){return Sg.get(C)}(y);if(_===void 0)return"continue";var w=a.names.get(_),E=l.getGroup(y);if(w===void 0||!w.size||E.length===0)return"continue";var A="".concat(Lc,".g").concat(y,'[id="').concat(_,'"]'),S="";w!==void 0&&w.forEach(function(C){C.length>0&&(S+="".concat(C,","))}),h+="".concat(E).concat(A,'{content:"').concat(S,'"}').concat(Q0)},p=0;p<c;p++)f(p);return h}(s)})}return e.registerId=function(t){return _p(t)},e.prototype.rehydrate=function(){!this.server&&Eg&&ZE(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Pn(Pn({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var i=n.useCSSOMInjection,s=n.target;return n.isServer?new $N(s):i?new FN(s):new qN(s)}(this.options),new NN(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(_p(t),this.names.has(t))this.names.get(t).add(n);else{var i=new Set;i.add(n),this.names.set(t,i)}},e.prototype.insertRules=function(t,n,i){this.registerName(t,n),this.getTag().insertRules(_p(t),i)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(_p(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),WN=/&/g,YN=/^\s*\/\/.*$/gm;function Tk(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Tk(n.children,t)),n})}function GN(e){var t,n,i,s=Vc,a=s.options,l=a===void 0?Vc:a,c=s.plugins,h=c===void 0?am:c,f=function(_,w,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(t):_},p=h.slice();p.push(function(_){_.type===em&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(WN,n).replace(i,f))}),l.prefix&&p.push(bN),p.push(mN);var y=function(_,w,E,A){w===void 0&&(w=""),E===void 0&&(E=""),A===void 0&&(A="&"),t=A,n=w,i=new RegExp("\\".concat(n,"\\b"),"g");var S=_.replace(YN,""),C=pN(E||w?"".concat(E," ").concat(w," { ").concat(S," }"):S);l.namespace&&(C=Tk(C,l.namespace));var O=[];return wg(C,yN(p.concat(_N(function(M){return O.push(M)})))),O};return y.hash=h.length?h.reduce(function(_,w){return w.name||ul(15),Sc(_,w.name)},yk).toString():"",y}var KN=new Tg,Hb=GN(),Ak=_t.createContext({shouldForwardProp:void 0,styleSheet:KN,stylis:Hb});Ak.Consumer;_t.createContext(void 0);function Wb(){return B.useContext(Ak)}var XN=function(){function e(t,n){var i=this;this.inject=function(s,a){a===void 0&&(a=Hb);var l=i.name+a.hash;s.hasNameForId(i.id,l)||s.insertRules(i.id,l,a(i.rules,l,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,J0(this,function(){throw ul(12,String(i.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Hb),this.name+t.hash},e}(),QN=function(e){return e>="A"&&e<="Z"};function tS(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(n===1&&i==="-"&&e[0]==="-")return e;QN(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var Rk=function(e){return e==null||e===!1||e===""},kk=function(e){var t,n,i=[];for(var s in e){var a=e[s];e.hasOwnProperty(s)&&!Rk(a)&&(Array.isArray(a)&&a.isCss||cl(a)?i.push("".concat(tS(s),":"),a,";"):of(a)?i.push.apply(i,af(af(["".concat(s," {")],kk(a),!1),["}"],!1)):i.push("".concat(tS(s),": ").concat((t=s,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in vN||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Ga(e,t,n,i){if(Rk(e))return[];if(Z0(e))return[".".concat(e.styledComponentId)];if(cl(e)){if(!cl(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var s=e(t);return Ga(s,t,n,i)}var a;return e instanceof XN?n?(e.inject(n,i),[e.getName(i)]):[e]:of(e)?kk(e):Array.isArray(e)?Array.prototype.concat.apply(am,e.map(function(l){return Ga(l,t,n,i)})):[e.toString()]}function Ck(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(cl(n)&&!Z0(n))return!1}return!0}var ZN=_k(rm),JN=function(){function e(t,n,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&Ck(t),this.componentId=n,this.baseHash=Sc(ZN,n),this.baseStyle=i,Tg.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=tl(s,this.staticRulesId);else{var a=qb(Ga(this.rules,t,n,i)),l=Fb(Sc(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,l)){var c=i(a,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,c)}s=tl(s,l),this.staticRulesId=l}else{for(var h=Sc(this.baseHash,i.hash),f="",p=0;p<this.rules.length;p++){var y=this.rules[p];if(typeof y=="string")f+=y;else if(y){var _=qb(Ga(y,t,n,i));h=Sc(h,_+p),f+=_}}if(f){var w=Fb(h>>>0);n.hasNameForId(this.componentId,w)||n.insertRules(this.componentId,w,i(f,".".concat(w),void 0,this.componentId)),s=tl(s,w)}}return s},e}(),lf=_t.createContext(void 0);lf.Consumer;function tL(e){var t=_t.useContext(lf),n=B.useMemo(function(){return function(i,s){if(!i)throw ul(14);if(cl(i)){var a=i(s);return a}if(Array.isArray(i)||typeof i!="object")throw ul(8);return s?Pn(Pn({},s),i):i}(e.theme,t)},[e.theme,t]);return e.children?_t.createElement(lf.Provider,{value:n},e.children):null}var G_={};function eL(e,t,n){var i=Z0(e),s=e,a=!Y_(e),l=t.attrs,c=l===void 0?am:l,h=t.componentId,f=h===void 0?function(q,L){var Y=typeof q!="string"?"sc":YE(q);G_[Y]=(G_[Y]||0)+1;var D="".concat(Y,"-").concat(bk(rm+Y+G_[Y]));return L?"".concat(L,"-").concat(D):D}(t.displayName,t.parentComponentId):h,p=t.displayName,y=p===void 0?function(q){return Y_(q)?"styled.".concat(q):"Styled(".concat(AN(q),")")}(e):p,_=t.displayName&&t.componentId?"".concat(YE(t.displayName),"-").concat(t.componentId):t.componentId||f,w=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,E=t.shouldForwardProp;if(i&&s.shouldForwardProp){var A=s.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;E=function(q,L){return A(q,L)&&S(q,L)}}else E=A}var C=new JN(n,_,i?s.componentStyle:void 0);function O(q,L){return function(Y,D,k){var V=Y.attrs,z=Y.componentStyle,F=Y.defaultProps,N=Y.foldedComponentIds,P=Y.styledComponentId,bt=Y.target,ot=_t.useContext(lf),W=Wb(),G=Y.shouldForwardProp||W.shouldForwardProp,Q=gk(D,ot,F)||Vc,X=function(Tt,xt,Te){for(var Yt,De=Pn(Pn({},xt),{className:void 0,theme:Te}),Gn=0;Gn<Tt.length;Gn+=1){var wn=cl(Yt=Tt[Gn])?Yt(De):Yt;for(var pt in wn)De[pt]=pt==="className"?tl(De[pt],wn[pt]):pt==="style"?Pn(Pn({},De[pt]),wn[pt]):wn[pt]}return xt.className&&(De.className=tl(De.className,xt.className)),De}(V,D,Q),U=X.as||bt,J={};for(var rt in X)X[rt]===void 0||rt[0]==="$"||rt==="as"||rt==="theme"&&X.theme===Q||(rt==="forwardedAs"?J.as=X.forwardedAs:G&&!G(rt,U)||(J[rt]=X[rt]));var lt=function(Tt,xt){var Te=Wb(),Yt=Tt.generateAndInjectStyles(xt,Te.styleSheet,Te.stylis);return Yt}(z,X),gt=tl(N,P);return lt&&(gt+=" "+lt),X.className&&(gt+=" "+X.className),J[Y_(U)&&!mk.has(U)?"class":"className"]=gt,k&&(J.ref=k),B.createElement(U,J)}(M,q,L)}O.displayName=y;var M=_t.forwardRef(O);return M.attrs=w,M.componentStyle=C,M.displayName=y,M.shouldForwardProp=E,M.foldedComponentIds=i?tl(s.foldedComponentIds,s.styledComponentId):"",M.styledComponentId=_,M.target=i?s.target:e,Object.defineProperty(M,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(q){this._foldedDefaultProps=i?function(L){for(var Y=[],D=1;D<arguments.length;D++)Y[D-1]=arguments[D];for(var k=0,V=Y;k<V.length;k++)$b(L,V[k],!0);return L}({},s.defaultProps,q):q}}),J0(M,function(){return".".concat(M.styledComponentId)}),a&&Ek(M,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),M}function eS(e,t){for(var n=[e[0]],i=0,s=t.length;i<s;i+=1)n.push(t[i],e[i+1]);return n}var nS=function(e){return Object.assign(e,{isCss:!0})};function Dk(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(cl(e)||of(e))return nS(Ga(eS(am,af([e],t,!0))));var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?Ga(i):nS(Ga(eS(i,t)))}function Yb(e,t,n){if(n===void 0&&(n=Vc),!t)throw ul(1,t);var i=function(s){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];return e(t,n,Dk.apply(void 0,af([s],a,!1)))};return i.attrs=function(s){return Yb(e,t,Pn(Pn({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return Yb(e,t,Pn(Pn({},n),s))},i}var Mk=function(e){return Yb(eL,e)},H=Mk;mk.forEach(function(e){H[e]=Mk(e)});var nL=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Ck(t),Tg.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,i,s){var a=s(qb(Ga(this.rules,n,i,s)),""),l=this.componentId+t;i.insertRules(l,l,a)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,i,s){t>2&&Tg.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,n,i,s)},e}();function Ik(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Dk.apply(void 0,af([e],t,!1)),s="sc-global-".concat(bk(JSON.stringify(i))),a=new nL(i,s),l=function(h){var f=Wb(),p=_t.useContext(lf),y=_t.useRef(f.styleSheet.allocateGSInstance(s)).current;return f.styleSheet.server&&c(y,h,f.styleSheet,p,f.stylis),_t.useLayoutEffect(function(){if(!f.styleSheet.server)return c(y,h,f.styleSheet,p,f.stylis),function(){return a.removeStyles(y,f.styleSheet)}},[y,h,f.styleSheet,p,f.stylis]),null};function c(h,f,p,y,_){if(a.isStatic)a.renderStyles(h,wN,p,_);else{var w=Pn(Pn({},f),{theme:gk(f,y,l.defaultProps)});a.renderStyles(h,w,p,_)}}return _t.memo(l)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=()=>{};var iS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},sL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},Pk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const a=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,f=h?e[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,w=f&63;h||(w=64,l||(_=64)),i.push(n[p],n[y],n[_],n[w])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ok(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):sL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||c==null||f==null||y==null)throw new rL;const _=a<<2|c>>4;if(i.push(_),f!==64){const w=c<<4&240|f>>2;if(i.push(w),y!==64){const E=f<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aL=function(e){const t=Ok(e);return Pk.encodeByteArray(t,!0)},Ag=function(e){return aL(e).replace(/\./g,"")},Nk=function(e){try{return Pk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=()=>oL().__FIREBASE_DEFAULTS__,cL=()=>{if(typeof process>"u"||typeof iS>"u")return;const e=iS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},uL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Nk(e[1]);return t&&JSON.parse(t)},om=()=>{try{return iL()||lL()||cL()||uL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Lk=e=>{var t,n;return(n=(t=om())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},hL=e=>{const t=Lk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Vk=()=>{var e;return(e=om())==null?void 0:e.config},jk=e=>{var t;return(t=om())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uk(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Ag(JSON.stringify(n)),Ag(JSON.stringify(l)),""].join(".")}const qh={};function pL(){const e={prod:[],emulator:[]};for(const t of Object.keys(qh))qh[t]?e.emulator.push(t):e.prod.push(t);return e}function gL(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let sS=!1;function zk(e,t){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||qh[e]===t||qh[e]||sS)return;qh[e]=t;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",a=pL().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{sS=!0,l()},_}function p(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=gL(i),w=n("text"),E=document.getElementById(w)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),C=n("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const M=_.element;c(M),p(S,A);const q=f();h(O,C),M.append(O,E,S,q),document.body.appendChild(M)}a?(E.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function yL(){var t;const e=(t=om())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _L(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bL(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function vL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xL(){const e=si();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wL(){return!yL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EL(){try{return typeof indexedDB=="object"}catch{return!1}}function SL(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="FirebaseError";class na extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=TL,Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Of.prototype.create)}}class Of{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?AL(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new na(s,c,i)}}function AL(e,t){return e.replace(RL,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const RL=/\{\$([^}]+)}/g;function kL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function hl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const a=e[s],l=t[s];if(rS(a)&&rS(l)){if(!hl(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function rS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Dh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function Mh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function CL(e,t){const n=new DL(e,t);return n.subscribe.bind(n)}class DL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ML(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=K_),s.error===void 0&&(s.error=K_),s.complete===void 0&&(s.complete=K_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ML(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function K_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e&&e._delegate?e._delegate:e}class fl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new fL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PL(t))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=Xo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xo){return this.instances.has(t)}getOptions(t=Xo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OL(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Xo){return this.component?this.component.multipleInstances?t:Xo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OL(e){return e===Xo?void 0:e}function PL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new IL(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Qt||(Qt={}));const LL={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},VL=Qt.INFO,jL={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},UL=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=jL[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tv{constructor(t){this.name=t,this._logLevel=VL,this._logHandler=UL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const zL=(e,t)=>t.some(n=>e instanceof n);let aS,oS;function BL(){return aS||(aS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FL(){return oS||(oS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bk=new WeakMap,Gb=new WeakMap,Fk=new WeakMap,X_=new WeakMap,ev=new WeakMap;function qL(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Ka(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&Bk.set(n,e)}).catch(()=>{}),ev.set(t,e),t}function $L(e){if(Gb.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});Gb.set(e,t)}let Kb={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Gb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Fk.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ka(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HL(e){Kb=e(Kb)}function WL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Q_(this),t,...n);return Fk.set(i,t.sort?t.sort():[t]),Ka(i)}:FL().includes(e)?function(...t){return e.apply(Q_(this),t),Ka(Bk.get(this))}:function(...t){return Ka(e.apply(Q_(this),t))}}function YL(e){return typeof e=="function"?WL(e):(e instanceof IDBTransaction&&$L(e),zL(e,BL())?new Proxy(e,Kb):e)}function Ka(e){if(e instanceof IDBRequest)return qL(e);if(X_.has(e))return X_.get(e);const t=YL(e);return t!==e&&(X_.set(e,t),ev.set(t,e)),t}const Q_=e=>ev.get(e);function GL(e,t,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Ka(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Ka(l.result),h.oldVersion,h.newVersion,Ka(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const KL=["get","getKey","getAll","getAllKeys","count"],XL=["put","add","delete","clear"],Z_=new Map;function lS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Z_.get(t))return Z_.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=XL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||KL.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return Z_.set(t,a),a}HL(e=>({...e,get:(t,n,i)=>lS(t,n)||e.get(t,n,i),has:(t,n)=>!!lS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xb="@firebase/app",cS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new tv("@firebase/app"),JL="@firebase/app-compat",t4="@firebase/analytics-compat",e4="@firebase/analytics",n4="@firebase/app-check-compat",i4="@firebase/app-check",s4="@firebase/auth",r4="@firebase/auth-compat",a4="@firebase/database",o4="@firebase/data-connect",l4="@firebase/database-compat",c4="@firebase/functions",u4="@firebase/functions-compat",h4="@firebase/installations",f4="@firebase/installations-compat",d4="@firebase/messaging",p4="@firebase/messaging-compat",g4="@firebase/performance",m4="@firebase/performance-compat",y4="@firebase/remote-config",_4="@firebase/remote-config-compat",b4="@firebase/storage",v4="@firebase/storage-compat",x4="@firebase/firestore",w4="@firebase/ai",E4="@firebase/firestore-compat",S4="firebase",T4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="[DEFAULT]",A4={[Xb]:"fire-core",[JL]:"fire-core-compat",[e4]:"fire-analytics",[t4]:"fire-analytics-compat",[i4]:"fire-app-check",[n4]:"fire-app-check-compat",[s4]:"fire-auth",[r4]:"fire-auth-compat",[a4]:"fire-rtdb",[o4]:"fire-data-connect",[l4]:"fire-rtdb-compat",[c4]:"fire-fn",[u4]:"fire-fn-compat",[h4]:"fire-iid",[f4]:"fire-iid-compat",[d4]:"fire-fcm",[p4]:"fire-fcm-compat",[g4]:"fire-perf",[m4]:"fire-perf-compat",[y4]:"fire-rc",[_4]:"fire-rc-compat",[b4]:"fire-gcs",[v4]:"fire-gcs-compat",[x4]:"fire-fst",[E4]:"fire-fst-compat",[w4]:"fire-vertex","fire-js":"fire-js",[S4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map,R4=new Map,Zb=new Map;function uS(e,t){try{e.container.addComponent(t)}catch(n){Xr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function jc(e){const t=e.name;if(Zb.has(t))return Xr.debug(`There were multiple attempts to register component ${t}.`),!1;Zb.set(t,e);for(const n of Rg.values())uS(n,e);for(const n of R4.values())uS(n,e);return!0}function nv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function es(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new Of("app","Firebase",k4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=T4;function qk(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Qb,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Xa.create("bad-app-name",{appName:String(s)});if(n||(n=Vk()),!n)throw Xa.create("no-options");const a=Rg.get(s);if(a){if(hl(n,a.options)&&hl(i,a.config))return a;throw Xa.create("duplicate-app",{appName:s})}const l=new NL(s);for(const h of Zb.values())l.addComponent(h);const c=new C4(n,i,l);return Rg.set(s,c),c}function $k(e=Qb){const t=Rg.get(e);if(!t&&e===Qb&&Vk())return qk();if(!t)throw Xa.create("no-app",{appName:e});return t}function Qa(e,t,n){let i=A4[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xr.warn(l.join(" "));return}jc(new fl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="firebase-heartbeat-database",M4=1,cf="firebase-heartbeat-store";let J_=null;function Hk(){return J_||(J_=GL(D4,M4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(cf)}catch(n){console.warn(n)}}}}).catch(e=>{throw Xa.create("idb-open",{originalErrorMessage:e.message})})),J_}async function I4(e){try{const n=(await Hk()).transaction(cf),i=await n.objectStore(cf).get(Wk(e));return await n.done,i}catch(t){if(t instanceof na)Xr.warn(t.message);else{const n=Xa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(n.message)}}}async function hS(e,t){try{const i=(await Hk()).transaction(cf,"readwrite");await i.objectStore(cf).put(t,Wk(e)),await i.done}catch(n){if(n instanceof na)Xr.warn(n.message);else{const i=Xa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(i.message)}}}function Wk(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=1024,P4=30;class N4{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fS();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>P4){const l=j4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fS(),{heartbeatsToSend:i,unsentEntries:s}=L4(this._heartbeatsCache.heartbeats),a=Ag(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Xr.warn(n),""}}}function fS(){return new Date().toISOString().substring(0,10)}function L4(e,t=O4){const n=[];let i=e.slice();for(const s of e){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),dS(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),dS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class V4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EL()?SL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return hS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return hS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function dS(e){return Ag(JSON.stringify({version:2,heartbeats:e})).length}function j4(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(e){jc(new fl("platform-logger",t=>new QL(t),"PRIVATE")),jc(new fl("heartbeat",t=>new N4(t),"PRIVATE")),Qa(Xb,cS,e),Qa(Xb,cS,"esm2020"),Qa("fire-js","")}U4("");function Yk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z4=Yk,Gk=new Of("auth","Firebase",Yk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=new tv("@firebase/auth");function B4(e,...t){kg.logLevel<=Qt.WARN&&kg.warn(`Auth (${iu}): ${e}`,...t)}function sg(e,...t){kg.logLevel<=Qt.ERROR&&kg.error(`Auth (${iu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(e,...t){throw iv(e,...t)}function Ys(e,...t){return iv(e,...t)}function Kk(e,t,n){const i={...z4(),[t]:n};return new Of("auth","Firebase",i).create(t,{appName:e.name})}function Yr(e){return Kk(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iv(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Gk.create(e,...t)}function Ot(e,t,...n){if(!e)throw iv(t,...n)}function jr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sg(t),new Error(t)}function Qr(e,t){e||jr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function F4(){return pS()==="http:"||pS()==="https:"}function pS(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F4()||bL()||"connection"in navigator)?navigator.onLine:!0}function $4(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,n){this.shortDelay=t,this.longDelay=n,Qr(n>t,"Short delay should be less than long delay!"),this.isMobile=mL()||vL()}get(){return q4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(e,t){Qr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y4=new Nf(3e4,6e4);function uo(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ia(e,t,n,i,s={}){return Qk(e,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const c=Pf({key:e.config.apiKey,...l}).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f={method:t,headers:h,...a};return _L()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&nu(e.emulatorConfig.host)&&(f.credentials="include"),Xk.fetch()(await Zk(e,e.config.apiHost,n,c),f)})}async function Qk(e,t,n){e._canInitEmulator=!1;const i={...H4,...t};try{const s=new K4(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw bp(e,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bp(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw bp(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw bp(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Kk(e,p,f);_s(e,p)}}catch(s){if(s instanceof na)throw s;_s(e,"network-request-failed",{message:String(s)})}}async function Lf(e,t,n,i,s={}){const a=await ia(e,t,n,i,s);return"mfaPendingCredential"in a&&_s(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Zk(e,t,n,i){const s=`${t}${n}?${i}`,a=e,l=a.config.emulator?sv(e.config,s):`${e.config.apiScheme}://${s}`;return W4.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function G4(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ys(this.auth,"network-request-failed")),Y4.get())})}}function bp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Ys(e,t,i);return s.customData._tokenResponse=n,s}function gS(e){return e!==void 0&&e.enterprise!==void 0}class X4{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return G4(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q4(e,t){return ia(e,"GET","/v2/recaptchaConfig",uo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(e,t){return ia(e,"POST","/v1/accounts:delete",t)}async function Cg(e,t){return ia(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function J4(e,t=!1){const n=pn(e),i=await n.getIdToken(t),s=rv(i);Ot(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:$h(tb(s.auth_time)),issuedAtTime:$h(tb(s.iat)),expirationTime:$h(tb(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tb(e){return Number(e)*1e3}function rv(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return sg("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nk(n);return s?JSON.parse(s):(sg("Failed to decode base64 JWT payload"),null)}catch(s){return sg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mS(e){const t=rv(e);return Ot(t,"internal-error"),Ot(typeof t.exp<"u","internal-error"),Ot(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof na&&tV(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function tV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$h(this.lastLoginAt),this.creationTime=$h(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dg(e){var y;const t=e.auth,n=await e.getIdToken(),i=await Uc(e,Cg(t,{idToken:n}));Ot(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(y=s.providerUserInfo)!=null&&y.length?Jk(s.providerUserInfo):[],l=iV(e.providerData,a),c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new t0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,p)}async function nV(e){const t=pn(e);await Dg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iV(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function Jk(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(e,t){const n=await Qk(e,{},async()=>{const i=Pf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,l=await Zk(e,s,"/v1/token",`key=${a}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return e.emulatorConfig&&nu(e.emulatorConfig.host)&&(h.credentials="include"),Xk.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rV(e,t){return ia(e,"POST","/v2/accounts:revokeToken",uo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ot(t.idToken,"internal-error"),Ot(typeof t.idToken<"u","internal-error"),Ot(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ot(t.length!==0,"internal-error");const n=mS(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await sV(t,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new Rc;return i&&(Ot(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Ot(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(Ot(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Rc,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(e,t){Ot(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class fs{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new eV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new t0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Uc(this,this.stsTokenManager.getToken(this.auth,t));return Ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return J4(this,t)}reload(){return nV(this)}_assign(t){this!==t&&(Ot(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new fs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Dg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(es(this.auth.app))return Promise.reject(Yr(this.auth));const t=await this.getIdToken();return await Uc(this,Z4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:E,stsTokenManager:A}=n;Ot(y&&A,t,"internal-error");const S=Rc.fromJSON(this.name,A);Ot(typeof y=="string",t,"internal-error"),Pa(i,t.name),Pa(s,t.name),Ot(typeof _=="boolean",t,"internal-error"),Ot(typeof w=="boolean",t,"internal-error"),Pa(a,t.name),Pa(l,t.name),Pa(c,t.name),Pa(h,t.name),Pa(f,t.name),Pa(p,t.name);const C=new fs({uid:y,auth:t,email:s,emailVerified:_,displayName:i,isAnonymous:w,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:p});return E&&Array.isArray(E)&&(C.providerData=E.map(O=>({...O}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(t,n,i=!1){const s=new Rc;s.updateFromServerResponse(n);const a=new fs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Dg(a),a}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Ot(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Jk(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new Rc;c.updateFromIdToken(i);const h=new fs({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new t0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Map;function Ur(e){Qr(e instanceof Function,"Expected a class definition");let t=yS.get(e);return t?(Qr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tC.type="NONE";const _S=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(e,t,n){return`firebase:${e}:${t}:${n}`}class kc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=rg(this.userKey,s.apiKey,a),this.fullPersistenceKey=rg("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Cg(this.auth,{idToken:t}).catch(()=>{});return n?fs._fromGetAccountInfoResponse(this.auth,n,t):null}return fs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new kc(Ur(_S),t,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||Ur(_S);const l=rg(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await Cg(t,{idToken:p}).catch(()=>{});if(!_)break;y=await fs._fromGetAccountInfoResponse(t,_,p)}else y=fs._fromJSON(t,p);f!==a&&(c=y),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new kc(a,t,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new kc(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aC(t))return"Blackberry";if(oC(t))return"Webos";if(nC(t))return"Safari";if((t.includes("chrome/")||iC(t))&&!t.includes("edge/"))return"Chrome";if(rC(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eC(e=si()){return/firefox\//i.test(e)}function nC(e=si()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iC(e=si()){return/crios\//i.test(e)}function sC(e=si()){return/iemobile/i.test(e)}function rC(e=si()){return/android/i.test(e)}function aC(e=si()){return/blackberry/i.test(e)}function oC(e=si()){return/webos/i.test(e)}function av(e=si()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function aV(e=si()){var t;return av(e)&&!!((t=window.navigator)!=null&&t.standalone)}function oV(){return xL()&&document.documentMode===10}function lC(e=si()){return av(e)||rC(e)||oC(e)||aC(e)||/windows phone/i.test(e)||sC(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(e,t=[]){let n;switch(e){case"Browser":n=bS(si());break;case"Worker":n=`${bS(si())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(e,t={}){return ia(e,"GET","/v2/passwordPolicy",uo(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=6;class hV{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vS(this),this.idTokenSubscription=new vS(this),this.beforeStateQueue=new lV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await kc.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Cg(this,{idToken:t}),i=await fs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(es(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Dg(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(es(this.app))return Promise.reject(Yr(this));const n=t?pn(t):null;return n&&Ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return es(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return es(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cV(this),n=new hV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Of("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await rV(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ur(t)||this._popupRedirectResolver;Ot(n,this,"argument-error"),this.redirectPersistenceManager=await kc.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&B4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function vl(e){return pn(e)}class vS{constructor(t){this.auth=t,this.observer=null,this.addObserver=CL(n=>this.observer=n)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dV(e){lm=e}function uC(e){return lm.loadJS(e)}function pV(){return lm.recaptchaEnterpriseScript}function gV(){return lm.gapiScript}function mV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class yV{constructor(){this.enterprise=new _V}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class _V{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const bV="recaptcha-enterprise",hC="NO_RECAPTCHA";class vV{constructor(t){this.type=bV,this.auth=vl(t)}async verify(t="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{Q4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new X4(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;gS(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(f=>{l(f)}).catch(()=>{l(hC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yV().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(c=>{if(!n&&gS(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=pV();h.length!==0&&(h+=c),uC(h).then(()=>{s(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function xS(e,t,n,i=!1,s=!1){const a=new vV(e);let l;if(s)l=hC;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function e0(e,t,n,i,s){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await xS(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await xS(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(e,t){const n=nv(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(hl(a,t??{}))return s;_s(s,"already-initialized")}return n.initialize({options:t})}function wV(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ur);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function EV(e,t,n){const i=vl(e);Ot(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=fC(t),{host:l,port:c}=SV(t),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ot(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ot(hl(f,i.config.emulator)&&hl(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,nu(l)?(Uk(`${a}//${l}${h}`),zk("Auth",!0)):TV()}function fC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function SV(e){const t=fC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:wS(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:wS(l)}}}function wS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function TV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(t){return jr("not implemented")}_linkToIdToken(t,n){return jr("not implemented")}_getReauthenticationResolver(t){return jr("not implemented")}}async function AV(e,t){return ia(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(e,t){return Lf(e,"POST","/v1/accounts:signInWithPassword",uo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(e,t){return Lf(e,"POST","/v1/accounts:signInWithEmailLink",uo(e,t))}async function CV(e,t){return Lf(e,"POST","/v1/accounts:signInWithEmailLink",uo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends ov{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new uf(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new uf(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e0(t,n,"signInWithPassword",RV);case"emailLink":return kV(t,{email:this._email,oobCode:this._password});default:_s(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e0(t,i,"signUpPassword",AV);case"emailLink":return CV(t,{idToken:n,email:this._email,oobCode:this._password});default:_s(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(e,t){return Lf(e,"POST","/v1/accounts:signInWithIdp",uo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="http://localhost";class dl extends ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new dl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_s("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const l=new dl(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Cc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Cc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Cc(t,n)}buildRequest(){const t={requestUri:DV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pf(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IV(e){const t=Dh(Mh(e)).link,n=t?Dh(Mh(t)).deep_link_id:null,i=Dh(Mh(e)).deep_link_id;return(i?Dh(Mh(i)).link:null)||i||n||t||e}class lv{constructor(t){const n=Dh(Mh(t)),i=n.apiKey??null,s=n.oobCode??null,a=MV(n.mode??null);Ot(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=IV(t);try{return new lv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.providerId=su.PROVIDER_ID}static credential(t,n){return uf._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=lv.parseLink(n);return Ot(i,"argument-error"),uf._fromEmailAndCode(t,i.code,i.tenantId)}}su.PROVIDER_ID="password";su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends dC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Vf{constructor(){super("facebook.com")}static credential(t){return dl._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ua.credentialFromTaggedObject(t)}static credentialFromError(t){return Ua.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ua.credential(t.oauthAccessToken)}catch{return null}}}Ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ua.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Vf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return dl._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return za.credential(n,i)}catch{return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com";za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Vf{constructor(){super("github.com")}static credential(t){return dl._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ba.credential(t.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Vf{constructor(){super("twitter.com")}static credential(t,n){return dl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Fa.credential(n,i)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(e,t){return Lf(e,"POST","/v1/accounts:signUp",uo(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const a=await fs._fromIdTokenResponse(t,i,s),l=ES(i);return new pl({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=ES(i);return new pl({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function ES(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends na{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Mg.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Mg(t,n,i,s)}}function pC(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mg._fromErrorAndOperation(e,a,t,i):a})}async function PV(e,t,n=!1){const i=await Uc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return pl._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(e,t,n=!1){const{auth:i}=e;if(es(i.app))return Promise.reject(Yr(i));const s="reauthenticate";try{const a=await Uc(e,pC(i,s,t,e),n);Ot(a.idToken,i,"internal-error");const l=rv(a.idToken);Ot(l,i,"internal-error");const{sub:c}=l;return Ot(e.uid===c,i,"user-mismatch"),pl._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&_s(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(e,t,n=!1){if(es(e.app))return Promise.reject(Yr(e));const i="signIn",s=await pC(e,i,t),a=await pl._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function LV(e,t){return gC(vl(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(e){const t=vl(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function VV(e,t,n){if(es(e.app))return Promise.reject(Yr(e));const i=vl(e),l=await e0(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OV).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&mC(e),h}),c=await pl._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function jV(e,t,n){return es(e.app)?Promise.reject(Yr(e)):LV(pn(e),su.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mC(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(e,t){return ia(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=pn(e),a={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},l=await Uc(i,UV(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function BV(e,t,n,i){return pn(e).onIdTokenChanged(t,n,i)}function FV(e,t,n){return pn(e).beforeAuthStateChanged(t,n)}function ru(e,t,n,i){return pn(e).onAuthStateChanged(t,n,i)}function qV(e){return pn(e).signOut()}const Ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ig,"1"),this.storage.removeItem(Ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=1e3,HV=10;class _C extends yC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);oV()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,HV):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},$V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_C.type="LOCAL";const WV=_C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends yC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}bC.type="SESSION";const vC=bC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new cm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,a)),h=await YV(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=cv("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(){return window}function KV(e){Gs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){return typeof Gs().WorkerGlobalScope<"u"&&typeof Gs().importScripts=="function"}async function XV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QV(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function ZV(){return xC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebaseLocalStorageDb",JV=1,Og="firebaseLocalStorage",EC="fbase_key";class jf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(e,t){return e.transaction([Og],t?"readwrite":"readonly").objectStore(Og)}function tj(){const e=indexedDB.deleteDatabase(wC);return new jf(e).toPromise()}function n0(){const e=indexedDB.open(wC,JV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Og,{keyPath:EC})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Og)?t(i):(i.close(),await tj(),t(await n0()))})})}async function SS(e,t,n){const i=um(e,!0).put({[EC]:t,value:n});return new jf(i).toPromise()}async function ej(e,t){const n=um(e,!1).get(t),i=await new jf(n).toPromise();return i===void 0?null:i.value}function TS(e,t){const n=um(e,!0).delete(t);return new jf(n).toPromise()}const nj=800,ij=3;class SC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>ij)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(ZV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await XV(),!this.activeServiceWorker)return;this.sender=new GV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await n0();return await SS(t,Ig,"1"),await TS(t,Ig),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>SS(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>ej(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>TS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=um(s,!1).getAll();return new jf(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SC.type="LOCAL";const sj=SC;new Nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(e,t){return t?Ur(t):(Ot(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends ov{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Cc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Cc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Cc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function aj(e){return gC(e.auth,new uv(e),e.bypassAuthState)}function oj(e){const{auth:t,user:n}=e;return Ot(n,t,"internal-error"),NV(n,new uv(e),e.bypassAuthState)}async function lj(e){const{auth:t,user:n}=e;return Ot(n,t,"internal-error"),PV(n,new uv(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,n,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aj;case"linkViaPopup":case"linkViaRedirect":return lj;case"reauthViaPopup":case"reauthViaRedirect":return oj;default:_s(this.auth,"internal-error")}}resolve(t){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Nf(2e3,1e4);class Tc extends TC{constructor(t,n,i,s,a){super(t,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Tc.currentPopupAction&&Tc.currentPopupAction.cancel(),Tc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ot(t,this.auth,"internal-error"),t}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const t=cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cj.get())};t()}}Tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="pendingRedirect",ag=new Map;class hj extends TC{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=ag.get(this.auth._key());if(!t){try{const i=await fj(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}ag.set(this.auth._key(),t)}return this.bypassAuthState||ag.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fj(e,t){const n=gj(t),i=pj(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function dj(e,t){ag.set(e._key(),t)}function pj(e){return Ur(e._redirectPersistence)}function gj(e){return rg(uj,e.config.apiKey,e.name)}async function mj(e,t,n=!1){if(es(e.app))return Promise.reject(Yr(e));const i=vl(e),s=rj(i,t),l=await new hj(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=600*1e3;class _j{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bj(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!AC(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ys(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yj&&this.cachedEventUids.clear(),this.cachedEventUids.has(AS(t))}saveEventToCache(t){this.cachedEventUids.add(AS(t)),this.lastProcessedEventTime=Date.now()}}function AS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function AC({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function bj(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(e,t={}){return ia(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wj=/^https?/;async function Ej(e){if(e.config.emulator)return;const{authorizedDomains:t}=await vj(e);for(const n of t)try{if(Sj(n))return}catch{}_s(e,"unauthorized-domain")}function Sj(e){const t=Jb(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!wj.test(n))return!1;if(xj.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Nf(3e4,6e4);function RS(){const e=Gs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Aj(e){return new Promise((t,n)=>{var s,a,l;function i(){RS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{RS(),n(Ys(e,"network-request-failed"))},timeout:Tj.get()})}if((a=(s=Gs().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((l=Gs().gapi)!=null&&l.load)i();else{const c=mV("iframefcb");return Gs()[c]=()=>{gapi.load?i():n(Ys(e,"network-request-failed"))},uC(`${gV()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw og=null,t})}let og=null;function Rj(e){return og=og||Aj(e),og}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new Nf(5e3,15e3),Cj="__/auth/iframe",Dj="emulator/auth/iframe",Mj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ij=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oj(e){const t=e.config;Ot(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?sv(t,Dj):`https://${e.config.authDomain}/${Cj}`,i={apiKey:t.apiKey,appName:e.name,v:iu},s=Ij.get(e.config.apiHost);s&&(i.eid=s);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Pf(i).slice(1)}`}async function Pj(e){const t=await Rj(e),n=Gs().gapi;return Ot(n,e,"internal-error"),t.open({where:document.body,url:Oj(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mj,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Ys(e,"network-request-failed"),c=Gs().setTimeout(()=>{a(l)},kj.get());function h(){Gs().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lj=500,Vj=600,jj="_blank",Uj="http://localhost";class kS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zj(e,t,n,i=Lj,s=Vj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...Nj,width:i.toString(),height:s.toString(),top:a,left:l},f=si().toLowerCase();n&&(c=iC(f)?jj:n),eC(f)&&(t=t||Uj,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[w,E])=>`${_}${w}=${E},`,"");if(aV(f)&&c!=="_self")return Bj(t||"",c),new kS(null);const y=window.open(t||"",c,p);Ot(y,e,"popup-blocked");try{y.focus()}catch{}return new kS(y)}function Bj(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="__/auth/handler",qj="emulator/auth/handler",$j=encodeURIComponent("fac");async function CS(e,t,n,i,s,a){Ot(e.config.authDomain,e,"auth-domain-config-required"),Ot(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:iu,eventId:s};if(t instanceof dC){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",kL(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof Vf){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),f=h?`#${$j}=${encodeURIComponent(h)}`:"";return`${Hj(e)}?${Pf(c).slice(1)}${f}`}function Hj({config:e}){return e.emulator?sv(e,qj):`https://${e.authDomain}/${Fj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="webStorageSupport";class Wj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vC,this._completeRedirectFn=mj,this._overrideRedirectResult=dj}async _openPopup(t,n,i,s){var l;Qr((l=this.eventManagers[t._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await CS(t,n,i,Jb(),s);return zj(t,a,cv())}async _openRedirect(t,n,i,s){await this._originValidation(t);const a=await CS(t,n,i,Jb(),s);return KV(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Qr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Pj(t),i=new _j(t);return n.register("authEvent",s=>(Ot(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(eb,{type:eb},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[eb];a!==void 0&&n(!!a),_s(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ej(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lC()||nC()||av()}}const Yj=Wj;var DS="@firebase/auth",MS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xj(e){jc(new fl("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ot(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(e)},f=new fV(i,s,a,h);return wV(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),jc(new fl("auth-internal",t=>{const n=vl(t.getProvider("auth").getImmediate());return(i=>new Gj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qa(DS,MS,Kj(e)),Qa(DS,MS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=300,Zj=jk("authIdTokenMaxAge")||Qj;let IS=null;const Jj=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Zj)return;const s=n==null?void 0:n.token;IS!==s&&(IS=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function t6(e=$k()){const t=nv(e,"auth");if(t.isInitialized())return t.getImmediate();const n=xV(e,{popupRedirectResolver:Yj,persistence:[sj,WV,vC]}),i=jk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=Jj(a.toString());FV(n,l,()=>l(n.currentUser)),BV(n,c=>l(c))}}const s=Lk("auth");return s&&EV(n,`http://${s}`),n}function e6(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}dV({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const a=Ys("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",e6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xj("Browser");var n6="firebase",i6="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa(n6,i6,"app");var OS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,RC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,k){function V(){}V.prototype=k.prototype,D.D=k.prototype,D.prototype=new V,D.prototype.constructor=D,D.C=function(z,F,N){for(var P=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)P[bt-2]=arguments[bt];return k.prototype[F].apply(z,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,k,V){V||(V=0);var z=Array(16);if(typeof k=="string")for(var F=0;16>F;++F)z[F]=k.charCodeAt(V++)|k.charCodeAt(V++)<<8|k.charCodeAt(V++)<<16|k.charCodeAt(V++)<<24;else for(F=0;16>F;++F)z[F]=k[V++]|k[V++]<<8|k[V++]<<16|k[V++]<<24;k=D.g[0],V=D.g[1],F=D.g[2];var N=D.g[3],P=k+(N^V&(F^N))+z[0]+3614090360&4294967295;k=V+(P<<7&4294967295|P>>>25),P=N+(F^k&(V^F))+z[1]+3905402710&4294967295,N=k+(P<<12&4294967295|P>>>20),P=F+(V^N&(k^V))+z[2]+606105819&4294967295,F=N+(P<<17&4294967295|P>>>15),P=V+(k^F&(N^k))+z[3]+3250441966&4294967295,V=F+(P<<22&4294967295|P>>>10),P=k+(N^V&(F^N))+z[4]+4118548399&4294967295,k=V+(P<<7&4294967295|P>>>25),P=N+(F^k&(V^F))+z[5]+1200080426&4294967295,N=k+(P<<12&4294967295|P>>>20),P=F+(V^N&(k^V))+z[6]+2821735955&4294967295,F=N+(P<<17&4294967295|P>>>15),P=V+(k^F&(N^k))+z[7]+4249261313&4294967295,V=F+(P<<22&4294967295|P>>>10),P=k+(N^V&(F^N))+z[8]+1770035416&4294967295,k=V+(P<<7&4294967295|P>>>25),P=N+(F^k&(V^F))+z[9]+2336552879&4294967295,N=k+(P<<12&4294967295|P>>>20),P=F+(V^N&(k^V))+z[10]+4294925233&4294967295,F=N+(P<<17&4294967295|P>>>15),P=V+(k^F&(N^k))+z[11]+2304563134&4294967295,V=F+(P<<22&4294967295|P>>>10),P=k+(N^V&(F^N))+z[12]+1804603682&4294967295,k=V+(P<<7&4294967295|P>>>25),P=N+(F^k&(V^F))+z[13]+4254626195&4294967295,N=k+(P<<12&4294967295|P>>>20),P=F+(V^N&(k^V))+z[14]+2792965006&4294967295,F=N+(P<<17&4294967295|P>>>15),P=V+(k^F&(N^k))+z[15]+1236535329&4294967295,V=F+(P<<22&4294967295|P>>>10),P=k+(F^N&(V^F))+z[1]+4129170786&4294967295,k=V+(P<<5&4294967295|P>>>27),P=N+(V^F&(k^V))+z[6]+3225465664&4294967295,N=k+(P<<9&4294967295|P>>>23),P=F+(k^V&(N^k))+z[11]+643717713&4294967295,F=N+(P<<14&4294967295|P>>>18),P=V+(N^k&(F^N))+z[0]+3921069994&4294967295,V=F+(P<<20&4294967295|P>>>12),P=k+(F^N&(V^F))+z[5]+3593408605&4294967295,k=V+(P<<5&4294967295|P>>>27),P=N+(V^F&(k^V))+z[10]+38016083&4294967295,N=k+(P<<9&4294967295|P>>>23),P=F+(k^V&(N^k))+z[15]+3634488961&4294967295,F=N+(P<<14&4294967295|P>>>18),P=V+(N^k&(F^N))+z[4]+3889429448&4294967295,V=F+(P<<20&4294967295|P>>>12),P=k+(F^N&(V^F))+z[9]+568446438&4294967295,k=V+(P<<5&4294967295|P>>>27),P=N+(V^F&(k^V))+z[14]+3275163606&4294967295,N=k+(P<<9&4294967295|P>>>23),P=F+(k^V&(N^k))+z[3]+4107603335&4294967295,F=N+(P<<14&4294967295|P>>>18),P=V+(N^k&(F^N))+z[8]+1163531501&4294967295,V=F+(P<<20&4294967295|P>>>12),P=k+(F^N&(V^F))+z[13]+2850285829&4294967295,k=V+(P<<5&4294967295|P>>>27),P=N+(V^F&(k^V))+z[2]+4243563512&4294967295,N=k+(P<<9&4294967295|P>>>23),P=F+(k^V&(N^k))+z[7]+1735328473&4294967295,F=N+(P<<14&4294967295|P>>>18),P=V+(N^k&(F^N))+z[12]+2368359562&4294967295,V=F+(P<<20&4294967295|P>>>12),P=k+(V^F^N)+z[5]+4294588738&4294967295,k=V+(P<<4&4294967295|P>>>28),P=N+(k^V^F)+z[8]+2272392833&4294967295,N=k+(P<<11&4294967295|P>>>21),P=F+(N^k^V)+z[11]+1839030562&4294967295,F=N+(P<<16&4294967295|P>>>16),P=V+(F^N^k)+z[14]+4259657740&4294967295,V=F+(P<<23&4294967295|P>>>9),P=k+(V^F^N)+z[1]+2763975236&4294967295,k=V+(P<<4&4294967295|P>>>28),P=N+(k^V^F)+z[4]+1272893353&4294967295,N=k+(P<<11&4294967295|P>>>21),P=F+(N^k^V)+z[7]+4139469664&4294967295,F=N+(P<<16&4294967295|P>>>16),P=V+(F^N^k)+z[10]+3200236656&4294967295,V=F+(P<<23&4294967295|P>>>9),P=k+(V^F^N)+z[13]+681279174&4294967295,k=V+(P<<4&4294967295|P>>>28),P=N+(k^V^F)+z[0]+3936430074&4294967295,N=k+(P<<11&4294967295|P>>>21),P=F+(N^k^V)+z[3]+3572445317&4294967295,F=N+(P<<16&4294967295|P>>>16),P=V+(F^N^k)+z[6]+76029189&4294967295,V=F+(P<<23&4294967295|P>>>9),P=k+(V^F^N)+z[9]+3654602809&4294967295,k=V+(P<<4&4294967295|P>>>28),P=N+(k^V^F)+z[12]+3873151461&4294967295,N=k+(P<<11&4294967295|P>>>21),P=F+(N^k^V)+z[15]+530742520&4294967295,F=N+(P<<16&4294967295|P>>>16),P=V+(F^N^k)+z[2]+3299628645&4294967295,V=F+(P<<23&4294967295|P>>>9),P=k+(F^(V|~N))+z[0]+4096336452&4294967295,k=V+(P<<6&4294967295|P>>>26),P=N+(V^(k|~F))+z[7]+1126891415&4294967295,N=k+(P<<10&4294967295|P>>>22),P=F+(k^(N|~V))+z[14]+2878612391&4294967295,F=N+(P<<15&4294967295|P>>>17),P=V+(N^(F|~k))+z[5]+4237533241&4294967295,V=F+(P<<21&4294967295|P>>>11),P=k+(F^(V|~N))+z[12]+1700485571&4294967295,k=V+(P<<6&4294967295|P>>>26),P=N+(V^(k|~F))+z[3]+2399980690&4294967295,N=k+(P<<10&4294967295|P>>>22),P=F+(k^(N|~V))+z[10]+4293915773&4294967295,F=N+(P<<15&4294967295|P>>>17),P=V+(N^(F|~k))+z[1]+2240044497&4294967295,V=F+(P<<21&4294967295|P>>>11),P=k+(F^(V|~N))+z[8]+1873313359&4294967295,k=V+(P<<6&4294967295|P>>>26),P=N+(V^(k|~F))+z[15]+4264355552&4294967295,N=k+(P<<10&4294967295|P>>>22),P=F+(k^(N|~V))+z[6]+2734768916&4294967295,F=N+(P<<15&4294967295|P>>>17),P=V+(N^(F|~k))+z[13]+1309151649&4294967295,V=F+(P<<21&4294967295|P>>>11),P=k+(F^(V|~N))+z[4]+4149444226&4294967295,k=V+(P<<6&4294967295|P>>>26),P=N+(V^(k|~F))+z[11]+3174756917&4294967295,N=k+(P<<10&4294967295|P>>>22),P=F+(k^(N|~V))+z[2]+718787259&4294967295,F=N+(P<<15&4294967295|P>>>17),P=V+(N^(F|~k))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(F+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+N&4294967295}i.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var V=k-this.blockSize,z=this.B,F=this.h,N=0;N<k;){if(F==0)for(;N<=V;)s(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<k;)if(z[F++]=D.charCodeAt(N++),F==this.blockSize){s(this,z),F=0;break}}else for(;N<k;)if(z[F++]=D[N++],F==this.blockSize){s(this,z),F=0;break}}this.h=F,this.o+=k},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var V=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=V&255,V/=256;for(this.u(D),D=Array(16),k=V=0;4>k;++k)for(var z=0;32>z;z+=8)D[V++]=this.g[k]>>>z&255;return D};function a(D,k){var V=c;return Object.prototype.hasOwnProperty.call(V,D)?V[D]:V[D]=k(D)}function l(D,k){this.h=k;for(var V=[],z=!0,F=D.length-1;0<=F;F--){var N=D[F]|0;z&&N==k||(V[F]=N,z=!1)}this.g=V}var c={};function h(D){return-128<=D&&128>D?a(D,function(k){return new l([k|0],0>k?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return S(f(-D));for(var k=[],V=1,z=0;D>=V;z++)k[z]=D/V|0,V*=4294967296;return new l(k,0)}function p(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return S(p(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=f(Math.pow(k,8)),z=y,F=0;F<D.length;F+=8){var N=Math.min(8,D.length-F),P=parseInt(D.substring(F,F+N),k);8>N?(N=f(Math.pow(k,N)),z=z.j(N).add(f(P))):(z=z.j(V),z=z.add(f(P)))}return z}var y=h(0),_=h(1),w=h(16777216);e=l.prototype,e.m=function(){if(A(this))return-S(this).m();for(var D=0,k=1,V=0;V<this.g.length;V++){var z=this.i(V);D+=(0<=z?z:4294967296+z)*k,k*=4294967296}return D},e.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(A(this))return"-"+S(this).toString(D);for(var k=f(Math.pow(D,6)),V=this,z="";;){var F=q(V,k).g;V=C(V,F.j(k));var N=((0<V.g.length?V.g[0]:V.h)>>>0).toString(D);if(V=F,E(V))return N+z;for(;6>N.length;)N="0"+N;z=N+z}},e.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function A(D){return D.h==-1}e.l=function(D){return D=C(this,D),A(D)?-1:E(D)?0:1};function S(D){for(var k=D.g.length,V=[],z=0;z<k;z++)V[z]=~D.g[z];return new l(V,~D.h).add(_)}e.abs=function(){return A(this)?S(this):this},e.add=function(D){for(var k=Math.max(this.g.length,D.g.length),V=[],z=0,F=0;F<=k;F++){var N=z+(this.i(F)&65535)+(D.i(F)&65535),P=(N>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);z=P>>>16,N&=65535,P&=65535,V[F]=P<<16|N}return new l(V,V[V.length-1]&-2147483648?-1:0)};function C(D,k){return D.add(S(k))}e.j=function(D){if(E(this)||E(D))return y;if(A(this))return A(D)?S(this).j(S(D)):S(S(this).j(D));if(A(D))return S(this.j(S(D)));if(0>this.l(w)&&0>D.l(w))return f(this.m()*D.m());for(var k=this.g.length+D.g.length,V=[],z=0;z<2*k;z++)V[z]=0;for(z=0;z<this.g.length;z++)for(var F=0;F<D.g.length;F++){var N=this.i(z)>>>16,P=this.i(z)&65535,bt=D.i(F)>>>16,ot=D.i(F)&65535;V[2*z+2*F]+=P*ot,O(V,2*z+2*F),V[2*z+2*F+1]+=N*ot,O(V,2*z+2*F+1),V[2*z+2*F+1]+=P*bt,O(V,2*z+2*F+1),V[2*z+2*F+2]+=N*bt,O(V,2*z+2*F+2)}for(z=0;z<k;z++)V[z]=V[2*z+1]<<16|V[2*z];for(z=k;z<2*k;z++)V[z]=0;return new l(V,0)};function O(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function M(D,k){this.g=D,this.h=k}function q(D,k){if(E(k))throw Error("division by zero");if(E(D))return new M(y,y);if(A(D))return k=q(S(D),k),new M(S(k.g),S(k.h));if(A(k))return k=q(D,S(k)),new M(S(k.g),k.h);if(30<D.g.length){if(A(D)||A(k))throw Error("slowDivide_ only works with positive integers.");for(var V=_,z=k;0>=z.l(D);)V=L(V),z=L(z);var F=Y(V,1),N=Y(z,1);for(z=Y(z,2),V=Y(V,2);!E(z);){var P=N.add(z);0>=P.l(D)&&(F=F.add(V),N=P),z=Y(z,1),V=Y(V,1)}return k=C(D,F.j(k)),new M(F,k)}for(F=y;0<=D.l(k);){for(V=Math.max(1,Math.floor(D.m()/k.m())),z=Math.ceil(Math.log(V)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),N=f(V),P=N.j(k);A(P)||0<P.l(D);)V-=z,N=f(V),P=N.j(k);E(N)&&(N=_),F=F.add(N),D=C(D,P)}return new M(F,D)}e.A=function(D){return q(this,D).h},e.and=function(D){for(var k=Math.max(this.g.length,D.g.length),V=[],z=0;z<k;z++)V[z]=this.i(z)&D.i(z);return new l(V,this.h&D.h)},e.or=function(D){for(var k=Math.max(this.g.length,D.g.length),V=[],z=0;z<k;z++)V[z]=this.i(z)|D.i(z);return new l(V,this.h|D.h)},e.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),V=[],z=0;z<k;z++)V[z]=this.i(z)^D.i(z);return new l(V,this.h^D.h)};function L(D){for(var k=D.g.length+1,V=[],z=0;z<k;z++)V[z]=D.i(z)<<1|D.i(z-1)>>>31;return new l(V,D.h)}function Y(D,k){var V=k>>5;k%=32;for(var z=D.g.length-V,F=[],N=0;N<z;N++)F[N]=0<k?D.i(N+V)>>>k|D.i(N+V+1)<<32-k:D.i(N+V);return new l(F,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,RC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Za=l}).apply(typeof OS<"u"?OS:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kC,Ih,CC,lg,i0,DC,MC,IC;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,x,T){return g==Array.prototype||g==Object.prototype||(g[x]=T.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var x=0;x<g.length;++x){var T=g[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(g,x){if(x)t:{var T=i;g=g.split(".");for(var j=0;j<g.length-1;j++){var tt=g[j];if(!(tt in T))break t;T=T[tt]}g=g[g.length-1],j=T[g],x=x(j),x!=j&&x!=null&&t(T,g,{configurable:!0,writable:!0,value:x})}}function a(g,x){g instanceof String&&(g+="");var T=0,j=!1,tt={next:function(){if(!j&&T<g.length){var at=T++;return{value:x(at,g[at]),done:!1}}return j=!0,{done:!0,value:void 0}}};return tt[Symbol.iterator]=function(){return tt},tt}s("Array.prototype.values",function(g){return g||function(){return a(this,function(x,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var x=typeof g;return x=x!="object"?x:g?Array.isArray(g)?"array":x:"null",x=="array"||x=="object"&&typeof g.length=="number"}function f(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function p(g,x,T){return g.call.apply(g.bind,arguments)}function y(g,x,T){if(!g)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var tt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(tt,j),g.apply(x,tt)}}return function(){return g.apply(x,arguments)}}function _(g,x,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function w(g,x){var T=Array.prototype.slice.call(arguments,1);return function(){var j=T.slice();return j.push.apply(j,arguments),g.apply(this,j)}}function E(g,x){function T(){}T.prototype=x.prototype,g.aa=x.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(j,tt,at){for(var mt=Array(arguments.length-2),te=2;te<arguments.length;te++)mt[te-2]=arguments[te];return x.prototype[tt].apply(j,mt)}}function A(g){const x=g.length;if(0<x){const T=Array(x);for(let j=0;j<x;j++)T[j]=g[j];return T}return[]}function S(g,x){for(let T=1;T<arguments.length;T++){const j=arguments[T];if(h(j)){const tt=g.length||0,at=j.length||0;g.length=tt+at;for(let mt=0;mt<at;mt++)g[tt+mt]=j[mt]}else g.push(j)}}class C{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function O(g){return/^[\s\xa0]*$/.test(g)}function M(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function q(g){return q[" "](g),g}q[" "]=function(){};var L=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function Y(g,x,T){for(const j in g)x.call(T,g[j],j,g)}function D(g,x){for(const T in g)x.call(void 0,g[T],T,g)}function k(g){const x={};for(const T in g)x[T]=g[T];return x}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(g,x){let T,j;for(let tt=1;tt<arguments.length;tt++){j=arguments[tt];for(T in j)g[T]=j[T];for(let at=0;at<V.length;at++)T=V[at],Object.prototype.hasOwnProperty.call(j,T)&&(g[T]=j[T])}}function F(g){var x=1;g=g.split(":");const T=[];for(;0<x&&g.length;)T.push(g.shift()),x--;return g.length&&T.push(g.join(":")),T}function N(g){c.setTimeout(()=>{throw g},0)}function P(){var g=X;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class bt{constructor(){this.h=this.g=null}add(x,T){const j=ot.get();j.set(x,T),this.h?this.h.next=j:this.g=j,this.h=j}}var ot=new C(()=>new W,g=>g.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Q=!1,X=new bt,U=()=>{const g=c.Promise.resolve(void 0);G=()=>{g.then(J)}};var J=()=>{for(var g;g=P();){try{g.h.call(g.g)}catch(T){N(T)}var x=ot;x.j(g),100>x.h&&(x.h++,g.next=x.g,x.g=g)}Q=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return g}();function Tt(g,x){if(lt.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,j=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget){if(L){t:{try{q(x.nodeName);var tt=!0;break t}catch{}tt=!1}tt||(x=null)}}else T=="mouseover"?x=g.fromElement:T=="mouseout"&&(x=g.toElement);this.relatedTarget=x,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:xt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Tt.aa.h.call(this)}}E(Tt,lt);var xt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function De(g,x,T,j,tt){this.listener=g,this.proxy=null,this.src=x,this.type=T,this.capture=!!j,this.ha=tt,this.key=++Yt,this.da=this.fa=!1}function Gn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function wn(g){this.src=g,this.g={},this.h=0}wn.prototype.add=function(g,x,T,j,tt){var at=g.toString();g=this.g[at],g||(g=this.g[at]=[],this.h++);var mt=Dt(g,x,j,tt);return-1<mt?(x=g[mt],T||(x.fa=!1)):(x=new De(x,this.src,at,!!j,tt),x.fa=T,g.push(x)),x};function pt(g,x){var T=x.type;if(T in g.g){var j=g.g[T],tt=Array.prototype.indexOf.call(j,x,void 0),at;(at=0<=tt)&&Array.prototype.splice.call(j,tt,1),at&&(Gn(x),g.g[T].length==0&&(delete g.g[T],g.h--))}}function Dt(g,x,T,j){for(var tt=0;tt<g.length;++tt){var at=g[tt];if(!at.da&&at.listener==x&&at.capture==!!T&&at.ha==j)return tt}return-1}var St="closure_lm_"+(1e6*Math.random()|0),zt={};function ge(g,x,T,j,tt){if(Array.isArray(x)){for(var at=0;at<x.length;at++)ge(g,x[at],T,j,tt);return null}return T=Tl(T),g&&g[Te]?g.K(x,T,f(j)?!!j.capture:!1,tt):Ke(g,x,T,!1,j,tt)}function Ke(g,x,T,j,tt,at){if(!x)throw Error("Invalid event type");var mt=f(tt)?!!tt.capture:!!tt,te=ws(g);if(te||(g[St]=te=new wn(g)),T=te.add(x,T,j,mt,at),T.proxy)return T;if(j=ji(),T.proxy=j,j.src=g,j.listener=T,g.addEventListener)gt||(tt=mt),tt===void 0&&(tt=!1),g.addEventListener(x.toString(),j,tt);else if(g.attachEvent)g.attachEvent(Ei(x.toString()),j);else if(g.addListener&&g.removeListener)g.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ji(){function g(T){return x.call(g.src,g.listener,T)}const x=Sl;return g}function Ui(g,x,T,j,tt){if(Array.isArray(x))for(var at=0;at<x.length;at++)Ui(g,x[at],T,j,tt);else j=f(j)?!!j.capture:!!j,T=Tl(T),g&&g[Te]?(g=g.i,x=String(x).toString(),x in g.g&&(at=g.g[x],T=Dt(at,T,j,tt),-1<T&&(Gn(at[T]),Array.prototype.splice.call(at,T,1),at.length==0&&(delete g.g[x],g.h--)))):g&&(g=ws(g))&&(x=g.g[x.toString()],g=-1,x&&(g=Dt(x,T,j,tt)),(T=-1<g?x[g]:null)&&di(T))}function di(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[Te])pt(x.i,g);else{var T=g.type,j=g.proxy;x.removeEventListener?x.removeEventListener(T,j,g.capture):x.detachEvent?x.detachEvent(Ei(T),j):x.addListener&&x.removeListener&&x.removeListener(j),(T=ws(x))?(pt(T,g),T.h==0&&(T.src=null,x[St]=null)):Gn(g)}}}function Ei(g){return g in zt?zt[g]:zt[g]="on"+g}function Sl(g,x){if(g.da)g=!0;else{x=new Tt(x,this);var T=g.listener,j=g.ha||g.src;g.fa&&di(g),g=T.call(j,x)}return g}function ws(g){return g=g[St],g instanceof wn?g:null}var sr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(g){return typeof g=="function"?g:(g[sr]||(g[sr]=function(x){return g.handleEvent(x)}),g[sr])}function Le(){rt.call(this),this.i=new wn(this),this.M=this,this.F=null}E(Le,rt),Le.prototype[Te]=!0,Le.prototype.removeEventListener=function(g,x,T,j){Ui(this,g,x,T,j)};function le(g,x){var T,j=g.F;if(j)for(T=[];j;j=j.F)T.push(j);if(g=g.M,j=x.type||x,typeof x=="string")x=new lt(x,g);else if(x instanceof lt)x.target=x.target||g;else{var tt=x;x=new lt(j,g),z(x,tt)}if(tt=!0,T)for(var at=T.length-1;0<=at;at--){var mt=x.g=T[at];tt=ri(mt,j,!0,x)&&tt}if(mt=x.g=g,tt=ri(mt,j,!0,x)&&tt,tt=ri(mt,j,!1,x)&&tt,T)for(at=0;at<T.length;at++)mt=x.g=T[at],tt=ri(mt,j,!1,x)&&tt}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var g=this.i,x;for(x in g.g){for(var T=g.g[x],j=0;j<T.length;j++)Gn(T[j]);delete g.g[x],g.h--}}this.F=null},Le.prototype.K=function(g,x,T,j){return this.i.add(String(g),x,!1,T,j)},Le.prototype.L=function(g,x,T,j){return this.i.add(String(g),x,!0,T,j)};function ri(g,x,T,j){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();for(var tt=!0,at=0;at<x.length;++at){var mt=x[at];if(mt&&!mt.da&&mt.capture==T){var te=mt.listener,mn=mt.ha||mt.src;mt.fa&&pt(g.i,mt),tt=te.call(mn,j)!==!1&&tt}}return tt&&!j.defaultPrevented}function En(g,x,T){if(typeof g=="function")T&&(g=_(g,T));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(g,x||0)}function Al(g){g.g=En(()=>{g.g=null,g.i&&(g.i=!1,Al(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class fu extends rt{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(g){rt.call(this),this.h=g,this.g={}}E(rr,rt);var ar=[];function or(g){Y(g.g,function(x,T){this.g.hasOwnProperty(T)&&di(x)},g),g.g={}}rr.prototype.N=function(){rr.aa.N.call(this),or(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=c.JSON.stringify,lr=c.JSON.parse,cr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function ra(){}ra.prototype.h=null;function Ut(g){return g.h||(g.h=g.i())}function ue(){}var It={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function se(){lt.call(this,"d")}E(se,lt);function Sn(){lt.call(this,"c")}E(Sn,lt);var Bt={},mo=null;function Es(){return mo=mo||new Le}Bt.La="serverreachability";function aa(g){lt.call(this,Bt.La,g)}E(aa,lt);function zi(g){const x=Es();le(x,new aa(x))}Bt.STAT_EVENT="statevent";function oa(g,x){lt.call(this,Bt.STAT_EVENT,g),this.stat=x}E(oa,lt);function Ve(g){const x=Es();le(x,new oa(x,g))}Bt.Ma="timingevent";function gn(g,x){lt.call(this,Bt.Ma,g),this.size=x}E(gn,lt);function en(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},x)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function du(g,x,T,j,tt,at){g.info(function(){if(g.g)if(at)for(var mt="",te=at.split("&"),mn=0;mn<te.length;mn++){var ee=te[mn].split("=");if(1<ee.length){var An=ee[0];ee=ee[1];var yn=An.split("_");mt=2<=yn.length&&yn[1]=="type"?mt+(An+"="+ee+"&"):mt+(An+"=redacted&")}}else mt=null;else mt=at;return"XMLHTTP REQ ("+j+") [attempt "+tt+"]: "+x+`
`+T+`
`+mt})}function zm(g,x,T,j,tt,at,mt){g.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+tt+"]: "+x+`
`+T+`
`+at+" "+mt})}function la(g,x,T,j){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+yo(g,T)+(j?" "+j:"")})}function Xf(g,x){g.info(function(){return"TIMEOUT: "+x})}Bi.prototype.info=function(){};function yo(g,x){if(!g.g)return x;if(!x)return null;try{var T=JSON.parse(x);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var j=T[g];if(!(2>j.length)){var tt=j[1];if(Array.isArray(tt)&&!(1>tt.length)){var at=tt[0];if(at!="noop"&&at!="stop"&&at!="close")for(var mt=1;mt<tt.length;mt++)tt[mt]=""}}}}return Si(T)}catch{return x}}var ca={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ur={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ss;function Ts(){}E(Ts,ra),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},Ss=new Ts;function ai(g,x,T,j){this.j=g,this.i=x,this.l=T,this.R=j||1,this.U=new rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}var pu={},Rl={};function rs(g,x,T){g.L=1,g.v=wo(Ti(x)),g.m=T,g.P=!0,hr(g,null)}function hr(g,x){g.F=Date.now(),_o(g),g.A=Ti(g.v);var T=g.A,j=g.R;Array.isArray(j)||(j=[String(j)]),vu(T.i,"t",j),g.C=0,T=g.j.J,g.h=new Xe,g.g=fd(g.j,T?x:null,!g.m),0<g.O&&(g.M=new fu(_(g.Y,g,g.g),g.O)),x=g.U,T=g.g,j=g.ca;var tt="readystatechange";Array.isArray(tt)||(tt&&(ar[0]=tt.toString()),tt=ar);for(var at=0;at<tt.length;at++){var mt=ge(T,tt[at],j||x.handleEvent,!1,x.h||x);if(!mt)break;x.g[mt.key]=mt}x=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,x)):(g.u="GET",g.g.ea(g.A,g.u,null,x)),zi(),du(g.i,g.u,g.A,g.l,g.R,g.m)}ai.prototype.ca=function(g){g=g.target;const x=this.M;x&&Hi(g)==3?x.j():this.Y(g)},ai.prototype.Y=function(g){try{if(g==this.g)t:{const yn=Hi(this.g);var x=this.g.Ba();const br=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||sd(this.g)))){this.J||yn!=4||x==7||(x==8||0>=br?zi(3):zi(2)),ua(this);var T=this.g.Z();this.X=T;e:if(Qf(this)){var j=sd(this.g);g="";var tt=j.length,at=Hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),As(this);var mt="";break e}this.h.i=new c.TextDecoder}for(x=0;x<tt;x++)this.h.h=!0,g+=this.h.i.decode(j[x],{stream:!(at&&x==tt-1)});j.length=0,this.h.g+=g,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=T==200,zm(this.i,this.u,this.A,this.l,this.R,yn,T),this.o){if(this.T&&!this.K){e:{if(this.g){var te,mn=this.g;if((te=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(te)){var ee=te;break e}}ee=null}if(T=ee)la(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bo(this,T);else{this.o=!1,this.s=3,Ve(12),Ln(this),As(this);break t}}if(this.P){T=!0;let Vn;for(;!this.J&&this.C<mt.length;)if(Vn=Zf(this,mt),Vn==Rl){yn==4&&(this.s=4,Ve(14),T=!1),la(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==pu){this.s=4,Ve(15),la(this.i,this.l,mt,"[Invalid Chunk]"),T=!1;break}else la(this.i,this.l,Vn,null),bo(this,Vn);if(Qf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||mt.length!=0||this.h.h||(this.s=1,Ve(16),T=!1),this.o=this.o&&T,!T)la(this.i,this.l,mt,"[Invalid Chunked Response]"),Ln(this),As(this);else if(0<mt.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Do(An),An.M=!0,Ve(11))}}else la(this.i,this.l,mt,null),bo(this,mt);yn==4&&Ln(this),this.o&&!this.J&&(yn==4?cd(this.j,this):(this.o=!1,_o(this)))}else Hm(this.g),T==400&&0<mt.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),Ln(this),As(this)}}}catch{}finally{}};function Qf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Zf(g,x){var T=g.C,j=x.indexOf(`
`,T);return j==-1?Rl:(T=Number(x.substring(T,j)),isNaN(T)?pu:(j+=1,j+T>x.length?Rl:(x=x.slice(j,j+T),g.C=j+T,x)))}ai.prototype.cancel=function(){this.J=!0,Ln(this)};function _o(g){g.S=Date.now()+g.I,Jf(g,g.I)}function Jf(g,x){if(g.B!=null)throw Error("WatchDog timer not null");g.B=en(_(g.ba,g),x)}function ua(g){g.B&&(c.clearTimeout(g.B),g.B=null)}ai.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Xf(this.i,this.A),this.L!=2&&(zi(),Ve(17)),Ln(this),this.s=2,As(this)):Jf(this,this.S-g)};function As(g){g.j.G==0||g.J||cd(g.j,g)}function Ln(g){ua(g);var x=g.M;x&&typeof x.ma=="function"&&x.ma(),g.M=null,or(g.U),g.g&&(x=g.g,g.g=null,x.abort(),x.ma())}function bo(g,x){try{var T=g.j;if(T.G!=0&&(T.g==g||gu(T.h,g))){if(!g.K&&gu(T.h,g)&&T.G==3){try{var j=T.Da.g.parse(x)}catch{j=null}if(Array.isArray(j)&&j.length==3){var tt=j;if(tt[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)Ul(T),Vl(T);else break t;Tu(T),Ve(18)}}else T.za=tt[1],0<T.za-T.T&&37500>tt[2]&&T.F&&T.v==0&&!T.C&&(T.C=en(_(T.Za,T),6e3));if(1>=Cl(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else _r(T,11)}else if((g.K||T.g==g)&&Ul(T),!O(x))for(tt=T.Da.g.parse(x),x=0;x<tt.length;x++){let ee=tt[x];if(T.T=ee[0],ee=ee[1],T.G==2)if(ee[0]=="c"){T.K=ee[1],T.ia=ee[2];const An=ee[3];An!=null&&(T.la=An,T.j.info("VER="+T.la));const yn=ee[4];yn!=null&&(T.Aa=yn,T.j.info("SVER="+T.Aa));const br=ee[5];br!=null&&typeof br=="number"&&0<br&&(j=1.5*br,T.L=j,T.j.info("backChannelRequestTimeoutMs_="+j)),j=T;const Vn=g.g;if(Vn){const Os=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var at=j.h;at.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(Dl(at,at.h),at.h=null))}if(j.D){const Ru=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ru&&(j.ya=Ru,be(j.I,j.D,Ru))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),j=T;var mt=g;if(j.qa=hd(j,j.J?j.ia:null,j.W),mt.K){oi(j.h,mt);var te=mt,mn=j.L;mn&&(te.I=mn),te.B&&(ua(te),_o(te)),j.g=mt}else od(j);0<T.i.length&&jl(T)}else ee[0]!="stop"&&ee[0]!="close"||_r(T,7);else T.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?_r(T,7):Eu(T):ee[0]!="noop"&&T.l&&T.l.ta(ee),T.v=0)}}zi(4)}catch{}}var td=class{constructor(g,x){this.g=g,this.map=x}};function fr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Cl(g){return g.h?1:g.g?g.g.size:0}function gu(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function Dl(g,x){g.g?g.g.add(x):g.h=x}function oi(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}fr.prototype.cancel=function(){if(this.i=mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function mu(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const T of g.g.values())x=x.concat(T.D);return x}return A(g.i)}function Bm(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var x=[],T=g.length,j=0;j<T;j++)x.push(g[j]);return x}x=[],T=0;for(j in g)x[T++]=g[j];return x}function Ml(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var x=[];g=g.length;for(var T=0;T<g;T++)x.push(T);return x}x=[],T=0;for(const j in g)x[T++]=j;return x}}}function yu(g,x){if(g.forEach&&typeof g.forEach=="function")g.forEach(x,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,x,void 0);else for(var T=Ml(g),j=Bm(g),tt=j.length,at=0;at<tt;at++)x.call(void 0,j[at],T&&T[at],g)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fm(g,x){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var j=g[T].indexOf("="),tt=null;if(0<=j){var at=g[T].substring(0,j);tt=g[T].substring(j+1)}else at=g[T];x(at,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function nn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof nn){this.h=g.h,xo(this,g.j),this.o=g.o,this.g=g.g,ha(this,g.s),this.l=g.l;var x=g.i,T=new pr;T.i=x.i,x.g&&(T.g=new Map(x.g),T.h=x.h),dr(this,T),this.m=g.m}else g&&(x=String(g).match(vo))?(this.h=!1,xo(this,x[1]||"",!0),this.o=Fi(x[2]||""),this.g=Fi(x[3]||"",!0),ha(this,x[4]),this.l=Fi(x[5]||"",!0),dr(this,x[6]||"",!0),this.m=Fi(x[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}nn.prototype.toString=function(){var g=[],x=this.j;x&&g.push(Eo(x,_u,!0),":");var T=this.g;return(T||x=="file")&&(g.push("//"),(x=this.o)&&g.push(Eo(x,_u,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(Eo(T,T.charAt(0)=="/"?qm:bu,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",Eo(T,Il)),g.join("")};function Ti(g){return new nn(g)}function xo(g,x,T){g.j=T?Fi(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function ha(g,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);g.s=x}else g.s=null}function dr(g,x,T){x instanceof pr?(g.i=x,nd(g.i,g.h)):(T||(x=Eo(x,$m)),g.i=new pr(x,g.h))}function be(g,x,T){g.i.set(x,T)}function wo(g){return be(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Fi(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Eo(g,x,T){return typeof g=="string"?(g=encodeURI(g).replace(x,ed),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ed(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var _u=/[#\/\?@]/g,bu=/[#\?:]/g,qm=/[#\?]/g,$m=/[#\?@]/g,Il=/#/g;function pr(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function qi(g){g.g||(g.g=new Map,g.h=0,g.i&&Fm(g.i,function(x,T){g.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}e=pr.prototype,e.add=function(g,x){qi(this),this.i=null,g=Rs(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(x),this.h+=1,this};function gr(g,x){qi(g),x=Rs(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function mr(g,x){return qi(g),x=Rs(g,x),g.g.has(x)}e.forEach=function(g,x){qi(this),this.g.forEach(function(T,j){T.forEach(function(tt){g.call(x,tt,j,this)},this)},this)},e.na=function(){qi(this);const g=Array.from(this.g.values()),x=Array.from(this.g.keys()),T=[];for(let j=0;j<x.length;j++){const tt=g[j];for(let at=0;at<tt.length;at++)T.push(x[j])}return T},e.V=function(g){qi(this);let x=[];if(typeof g=="string")mr(this,g)&&(x=x.concat(this.g.get(Rs(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)x=x.concat(g[T])}return x},e.set=function(g,x){return qi(this),this.i=null,g=Rs(this,g),mr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},e.get=function(g,x){return g?(g=this.V(g),0<g.length?String(g[0]):x):x};function vu(g,x,T){gr(g,x),0<T.length&&(g.i=null,g.g.set(Rs(g,x),A(T)),g.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(var T=0;T<x.length;T++){var j=x[T];const at=encodeURIComponent(String(j)),mt=this.V(j);for(j=0;j<mt.length;j++){var tt=at;mt[j]!==""&&(tt+="="+encodeURIComponent(String(mt[j]))),g.push(tt)}}return this.i=g.join("&")};function Rs(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function nd(g,x){x&&!g.j&&(qi(g),g.i=null,g.g.forEach(function(T,j){var tt=j.toLowerCase();j!=tt&&(gr(this,j),vu(this,tt,T))},g)),g.j=x}function So(g,x){const T=new Bi;if(c.Image){const j=new Image;j.onload=w($i,T,"TestLoadImage: loaded",!0,x,j),j.onerror=w($i,T,"TestLoadImage: error",!1,x,j),j.onabort=w($i,T,"TestLoadImage: abort",!1,x,j),j.ontimeout=w($i,T,"TestLoadImage: timeout",!1,x,j),c.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=g}else x(!1)}function as(g,x){const T=new Bi,j=new AbortController,tt=setTimeout(()=>{j.abort(),$i(T,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:j.signal}).then(at=>{clearTimeout(tt),at.ok?$i(T,"TestPingServer: ok",!0,x):$i(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(tt),$i(T,"TestPingServer: error",!1,x)})}function $i(g,x,T,j,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),j(T)}catch{}}function To(){this.g=new cr}function ks(g,x,T){const j=T||"";try{yu(g,function(tt,at){let mt=tt;f(tt)&&(mt=Si(tt)),x.push(j+at+"="+encodeURIComponent(mt))})}catch(tt){throw x.push(j+"type="+encodeURIComponent("_badmap")),tt}}function fa(g){this.l=g.Ub||null,this.j=g.eb||!1}E(fa,ra),fa.prototype.g=function(){return new yr(this.l,this.j)},fa.prototype.i=function(g){return function(){return g}}({});function yr(g,x){Le.call(this),this.D=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(yr,Le),e=yr.prototype,e.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=x,this.readyState=1,Ds(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(x.body=g),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function xu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?Cs(this):Ds(this),this.readyState==3&&xu(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Cs(this))},e.Qa=function(g){this.g&&(this.response=g,Cs(this))},e.ga=function(){this.g&&Cs(this)};function Cs(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ds(g)}e.setRequestHeader=function(g,x){this.u.append(g,x)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=x.next();return g.join(`\r
`)};function Ds(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function wu(g){let x="";return Y(g,function(T,j){x+=j,x+=":",x+=T,x+=`\r
`}),x}function Tn(g,x,T){t:{for(j in T){var j=!1;break t}j=!0}j||(T=wu(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):be(g,x,T))}function he(g){Le.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(he,Le);var Ol=/^https?$/i,Ao=["POST","PUT"];e=he.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,x,T,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ss.g(),this.v=this.o?Ut(this.o):Ut(Ss),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(at){id(this,at);return}if(g=T||"",T=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var tt in j)T.set(tt,j[tt]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const at of j.keys())T.set(at,j.get(at));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(T.keys()).find(at=>at.toLowerCase()=="content-type"),tt=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ao,x,void 0))||j||tt||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,mt]of T)this.g.setRequestHeader(at,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(g),this.u=!1}catch(at){id(this,at)}};function id(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.m=5,Pl(g),Ms(g)}function Pl(g){g.A||(g.A=!0,le(g,"complete"),le(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,le(this,"complete"),le(this,"abort"),Ms(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),he.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Nl(this):this.bb())},e.bb=function(){Nl(this)};function Nl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Hi(g)!=4||g.Z()!=2)){if(g.u&&Hi(g)==4)En(g.Ea,0,g);else if(le(g,"readystatechange"),Hi(g)==4){g.h=!1;try{const mt=g.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var T;if(!(T=x)){var j;if(j=mt===0){var tt=String(g.D).match(vo)[1]||null;!tt&&c.self&&c.self.location&&(tt=c.self.location.protocol.slice(0,-1)),j=!Ol.test(tt?tt.toLowerCase():"")}T=j}if(T)le(g,"complete"),le(g,"success");else{g.m=6;try{var at=2<Hi(g)?g.g.statusText:""}catch{at=""}g.l=at+" ["+g.Z()+"]",Pl(g)}}finally{Ms(g)}}}}function Ms(g,x){if(g.g){Ro(g);const T=g.g,j=g.v[0]?()=>{}:null;g.g=null,g.v=null,x||le(g,"ready");try{T.onreadystatechange=j}catch{}}}function Ro(g){g.I&&(c.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Hi(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Hi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),lr(x)}};function sd(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Hm(g){const x={};g=(g.g&&2<=Hi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<g.length;j++){if(O(g[j]))continue;var T=F(g[j]);const tt=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const at=x[tt]||[];x[tt]=at,at.push(T)}D(x,function(j){return j.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(g,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||x}function Ll(g){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ko("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ko("baseRetryDelayMs",5e3,g),this.cb=ko("retryDelaySeedMs",1e4,g),this.Wa=ko("forwardChannelMaxRetries",2,g),this.wa=ko("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(g&&g.concurrentRequestLimit),this.Da=new To,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ll.prototype,e.la=8,e.G=1,e.connect=function(g,x,T,j){Ve(0),this.W=g,this.H=x||{},T&&j!==void 0&&(this.H.OSID=T,this.H.OAID=j),this.F=this.X,this.I=hd(this,null,this.W),jl(this)};function Eu(g){if(rd(g),g.G==3){var x=g.U++,T=Ti(g.I);if(be(T,"SID",g.K),be(T,"RID",x),be(T,"TYPE","terminate"),Co(g,T),x=new ai(g,g.j,x),x.L=2,x.v=wo(Ti(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.v,T=!0),T||(x.g=fd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),_o(x)}ud(g)}function Vl(g){g.g&&(Do(g),g.g.cancel(),g.g=null)}function rd(g){Vl(g),g.u&&(c.clearTimeout(g.u),g.u=null),Ul(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function jl(g){if(!kl(g.h)&&!g.s){g.s=!0;var x=g.Ga;G||U(),Q||(G(),Q=!0),X.add(x,g),g.B=0}}function Wm(g,x){return Cl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=x.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=en(_(g.Ga,g,x),Au(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const tt=new ai(this,this.j,g);let at=this.o;if(this.S&&(at?(at=k(at),z(at,this.S)):at=this.S),this.m!==null||this.O||(tt.H=at,at=null),this.P)t:{for(var x=0,T=0;T<this.i.length;T++){e:{var j=this.i[T];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break e}j=void 0}if(j===void 0)break;if(x+=j,4096<x){x=T;break t}if(x===4096||T===this.i.length-1){x=T+1;break t}}x=1e3}else x=1e3;x=ad(this,tt,x),T=Ti(this.I),be(T,"RID",g),be(T,"CVER",22),this.D&&be(T,"X-HTTP-Session-Id",this.D),Co(this,T),at&&(this.O?x="headers="+encodeURIComponent(String(wu(at)))+"&"+x:this.m&&Tn(T,this.m,at)),Dl(this.h,tt),this.Ua&&be(T,"TYPE","init"),this.P?(be(T,"$req",x),be(T,"SID","null"),tt.T=!0,rs(tt,T,null)):rs(tt,T,x),this.G=2}}else this.G==3&&(g?Su(this,g):this.i.length==0||kl(this.h)||Su(this))};function Su(g,x){var T;x?T=x.l:T=g.U++;const j=Ti(g.I);be(j,"SID",g.K),be(j,"RID",T),be(j,"AID",g.T),Co(g,j),g.m&&g.o&&Tn(j,g.m,g.o),T=new ai(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),x&&(g.i=x.D.concat(g.i)),x=ad(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Dl(g.h,T),rs(T,j,x)}function Co(g,x){g.H&&Y(g.H,function(T,j){be(x,j,T)}),g.l&&yu({},function(T,j){be(x,j,T)})}function ad(g,x,T){T=Math.min(g.i.length,T);var j=g.l?_(g.l.Na,g.l,g):null;t:{var tt=g.i;let at=-1;for(;;){const mt=["count="+T];at==-1?0<T?(at=tt[0].g,mt.push("ofs="+at)):at=0:mt.push("ofs="+at);let te=!0;for(let mn=0;mn<T;mn++){let ee=tt[mn].g;const An=tt[mn].map;if(ee-=at,0>ee)at=Math.max(0,tt[mn].g-100),te=!1;else try{ks(An,mt,"req"+ee+"_")}catch{j&&j(An)}}if(te){j=mt.join("&");break t}}}return g=g.i.splice(0,T),x.D=g,j}function od(g){if(!g.g&&!g.u){g.Y=1;var x=g.Fa;G||U(),Q||(G(),Q=!0),X.add(x,g),g.v=0}}function Tu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=en(_(g.Fa,g),Au(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,ld(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=en(_(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),Vl(this),ld(this))};function Do(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function ld(g){g.g=new ai(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var x=Ti(g.qa);be(x,"RID","rpc"),be(x,"SID",g.K),be(x,"AID",g.T),be(x,"CI",g.F?"0":"1"),!g.F&&g.ja&&be(x,"TO",g.ja),be(x,"TYPE","xmlhttp"),Co(g,x),g.m&&g.o&&Tn(x,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=wo(Ti(x)),T.m=null,T.P=!0,hr(T,g)}e.Za=function(){this.C!=null&&(this.C=null,Vl(this),Tu(this),Ve(19))};function Ul(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function cd(g,x){var T=null;if(g.g==x){Ul(g),Do(g),g.g=null;var j=2}else if(gu(g.h,x))T=x.D,oi(g.h,x),j=1;else return;if(g.G!=0){if(x.o)if(j==1){T=x.m?x.m.length:0,x=Date.now()-x.F;var tt=g.B;j=Es(),le(j,new gn(j,T)),jl(g)}else od(g);else if(tt=x.s,tt==3||tt==0&&0<x.X||!(j==1&&Wm(g,x)||j==2&&Tu(g)))switch(T&&0<T.length&&(x=g.h,x.i=x.i.concat(T)),tt){case 1:_r(g,5);break;case 4:_r(g,10);break;case 3:_r(g,6);break;default:_r(g,2)}}}function Au(g,x){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*x}function _r(g,x){if(g.j.info("Error code "+x),x==2){var T=_(g.fb,g),j=g.Xa;const tt=!j;j=new nn(j||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xo(j,"https"),wo(j),tt?So(j.toString(),T):as(j.toString(),T)}else Ve(2);g.G=0,g.l&&g.l.sa(x),ud(g),rd(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function ud(g){if(g.G=0,g.ka=[],g.l){const x=mu(g.h);(x.length!=0||g.i.length!=0)&&(S(g.ka,x),S(g.ka,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.ra()}}function hd(g,x,T){var j=T instanceof nn?Ti(T):new nn(T);if(j.g!="")x&&(j.g=x+"."+j.g),ha(j,j.s);else{var tt=c.location;j=tt.protocol,x=x?x+"."+tt.hostname:tt.hostname,tt=+tt.port;var at=new nn(null);j&&xo(at,j),x&&(at.g=x),tt&&ha(at,tt),T&&(at.l=T),j=at}return T=g.D,x=g.ya,T&&x&&be(j,T,x),be(j,"VER",g.la),Co(g,j),j}function fd(g,x,T){if(x&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Ca&&!g.pa?new he(new fa({eb:T})):new he(g.pa),x.Ha(g.J),x}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function dd(){}e=dd.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function zl(){}zl.prototype.g=function(g,x){return new li(g,x)};function li(g,x){Le.call(this),this.g=new Ll(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(g?g["X-WebChannel-Client-Profile"]=x.va:g={"X-WebChannel-Client-Profile":x.va}),this.g.S=g,(g=x&&x.Sb)&&!O(g)&&(this.g.m=g),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.D=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Is(this)}E(li,Le),li.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},li.prototype.close=function(){Eu(this.g)},li.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=Si(g),g=T);x.i.push(new td(x.Ya++,g)),x.G==3&&jl(x)},li.prototype.N=function(){this.g.l=null,delete this.j,Eu(this.g),delete this.g,li.aa.N.call(this)};function pd(g){se.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){t:{for(const T in x){g=T;break t}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}E(pd,se);function gd(){Sn.call(this),this.status=1}E(gd,Sn);function Is(g){this.g=g}E(Is,dd),Is.prototype.ua=function(){le(this.g,"a")},Is.prototype.ta=function(g){le(this.g,new pd(g))},Is.prototype.sa=function(g){le(this.g,new gd)},Is.prototype.ra=function(){le(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,li.prototype.send=li.prototype.o,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,IC=function(){return new zl},MC=function(){return Es()},DC=Bt,i0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,lg=ca,ur.COMPLETE="complete",CC=ur,ue.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",Le.prototype.listen=Le.prototype.K,Ih=ue,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,kC=he}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});const PS="@firebase/firestore",NS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new tv("@firebase/firestore");function vc(){return gl.logLevel}function wt(e,...t){if(gl.logLevel<=Qt.DEBUG){const n=t.map(hv);gl.debug(`Firestore (${au}): ${e}`,...n)}}function Zr(e,...t){if(gl.logLevel<=Qt.ERROR){const n=t.map(hv);gl.error(`Firestore (${au}): ${e}`,...n)}}function zc(e,...t){if(gl.logLevel<=Qt.WARN){const n=t.map(hv);gl.warn(`Firestore (${au}): ${e}`,...n)}}function hv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,OC(e,i,n)}function OC(e,t,n){let i=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zr(i),new Error(i)}function pe(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||OC(t,s,i)}function jt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends na{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class s6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ti.UNAUTHENTICATED))}shutdown(){}}class r6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class a6{constructor(t){this.t=t,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){pe(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gr)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pe(typeof i.accessToken=="string",31837,{l:i}),new PC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pe(t===null||typeof t=="string",2055,{h:t}),new ti(t)}}class o6{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=ti.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l6{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new o6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,es(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){pe(this.o===void 0,3512);const i=a=>{a.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,wt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=u6(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=t.charAt(s[a]%62))}return i}}function Zt(e,t){return e<t?-1:e>t?1:0}function s0(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),a=t.charAt(i);if(s!==a)return nb(s)===nb(a)?Zt(s,a):nb(s)?1:-1}return Zt(e.length,t.length)}const h6=55296,f6=57343;function nb(e){const t=e.charCodeAt(0);return t>=h6&&t<=f6}function Bc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="__name__";class qs{constructor(t,n,i){n===void 0?n=0:n>t.length&&Pt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Pt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return qs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qs?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const a=qs.compareSegments(t.get(s),n.get(s));if(a!==0)return a}return Zt(t.length,n.length)}static compareSegments(t,n){const i=qs.isNumericId(t),s=qs.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?qs.extractNumericId(t).compare(qs.extractNumericId(n)):s0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Za.fromString(t.substring(4,t.length-2))}}class Ce extends qs{construct(t,n,i){return new Ce(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(ht.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const d6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends qs{construct(t,n,i){return new qn(t,n,i)}static isValidIdentifier(t){return d6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VS}static keyField(){return new qn([VS])}static fromServerFormat(t){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new vt(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new vt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new vt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new vt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.path=t}static fromPath(t){return new kt(Ce.fromString(t))}static fromName(t){return new kt(Ce.fromString(t).popFirst(5))}static empty(){return new kt(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new kt(new Ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(e,t,n){if(!n)throw new vt(ht.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function p6(e,t,n,i){if(t===!0&&i===!0)throw new vt(ht.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jS(e){if(!kt.isDocumentKey(e))throw new vt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function US(e){if(kt.isDocumentKey(e))throw new vt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function LC(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function hm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Pt(12329,{type:typeof e})}function Vi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hm(e);throw new vt(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Uf(e,t){if(!LC(e))throw new vt(ht.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new vt(ht.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=-62135596800,BS=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*BS);return new Re(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new vt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<zS)throw new vt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BS}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uf(t,Re._jsonSchema))return new Re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:fn("string",Re._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Re(0,0))}static max(){return new Lt(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=-1;function g6(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Lt.fromTimestamp(i===1e9?new Re(n+1,0):new Re(n,i));return new eo(s,kt.empty(),t)}function m6(e){return new eo(e.readTime,e.key,hf)}class eo{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new eo(Lt.min(),kt.empty(),hf)}static max(){return new eo(Lt.max(),kt.empty(),hf)}}function y6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=kt.comparator(e.documentKey,t.documentKey),n!==0?n:Zt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(e){if(e.code!==ht.FAILED_PRECONDITION||e.message!==_6)throw e;wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new dt((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof dt?n:dt.resolve(n)}catch(n){return dt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):dt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):dt.reject(n)}static resolve(t){return new dt((n,i)=>{n(t)})}static reject(t){return new dt((n,i)=>{i(t)})}static waitFor(t){return new dt((n,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(t){let n=dt.resolve(!1);for(const i of t)n=n.next(s=>s?dt.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(t,n){return new dt((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;n(t[f]).next(p=>{l[f]=p,++c,c===a&&i(l)},p=>s(p))}})}static doWhile(t,n){return new dt((i,s)=>{const a=()=>{t()===!0?n().next(()=>{a()},s):i()};a()})}}function v6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-1;function dm(e){return e==null}function Pg(e){return e===0&&1/e==-1/0}function x6(e){return typeof e=="number"&&Number.isInteger(e)&&!Pg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="";function w6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=FS(t)),t=E6(e.get(n),t);return FS(t)}function E6(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const a=e.charAt(s);switch(a){case"\0":n+="";break;case VC:n+="";break;default:n+=a}}return n}function FS(e){return e+VC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ho(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,n){this.comparator=t,this.root=n||Fn.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xp(this.root,t,this.comparator,!1)}getReverseIterator(){return new xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xp(this.root,t,this.comparator,!0)}}class xp{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fn{constructor(t,n,i,s,a){this.key=t,this.value=n,this.color=i??Fn.RED,this.left=s??Fn.EMPTY,this.right=a??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,a){return new Fn(t??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Fn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Pt(27949);return t+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt(57766)}get value(){throw Pt(16141)}get color(){throw Pt(16727)}get left(){throw Pt(29726)}get right(){throw Pt(36894)}copy(t,n,i,s,a){return this}insert(t,n,i){return new Fn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $S(this.data.getIterator())}getIteratorFrom(t){return new $S(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof vn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new vn(this.comparator);return n.data=t,n}}class $S{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this.fields=t,t.sort(qn.comparator)}static empty(){return new Li([])}unionWith(t){let n=new vn(qn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Li(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Bc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new UC("Invalid base64 string: "+a):a}}(t);return new Wn(n)}static fromUint8Array(t){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Wn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const S6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(e){if(pe(!!e,39018),typeof e=="string"){let t=0;const n=S6.exec(e);if(pe(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Je(e.seconds),nanos:Je(e.nanos)}}function Je(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function io(e){return typeof e=="string"?Wn.fromBase64String(e):Wn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="server_timestamp",BC="__type__",FC="__previous_value__",qC="__local_write_time__";function pv(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[BC])==null?void 0:i.stringValue)===zC}function pm(e){const t=e.mapValue.fields[FC];return pv(t)?pm(t):t}function ff(e){const t=no(e.mapValue.fields[qC].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(t,n,i,s,a,l,c,h,f,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const Ng="(default)";class df{constructor(t,n){this.projectId=t,this.database=n||Ng}static empty(){return new df("","")}get isDefaultDatabase(){return this.database===Ng}isEqual(t){return t instanceof df&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__type__",A6="__max__",wp={mapValue:{}},HC="__vector__",Lg="value";function so(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pv(e)?4:k6(e)?9007199254740991:R6(e)?10:11:Pt(28295,{value:e})}function tr(e,t){if(e===t)return!0;const n=so(e);if(n!==so(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ff(e).isEqual(ff(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=no(s.timestampValue),c=no(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,a){return io(s.bytesValue).isEqual(io(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,a){return Je(s.geoPointValue.latitude)===Je(a.geoPointValue.latitude)&&Je(s.geoPointValue.longitude)===Je(a.geoPointValue.longitude)}(e,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Je(s.integerValue)===Je(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Je(s.doubleValue),c=Je(a.doubleValue);return l===c?Pg(l)===Pg(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Bc(e.arrayValue.values||[],t.arrayValue.values||[],tr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(qS(l)!==qS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!tr(l[h],c[h])))return!1;return!0}(e,t);default:return Pt(52216,{left:e})}}function pf(e,t){return(e.values||[]).find(n=>tr(n,t))!==void 0}function Fc(e,t){if(e===t)return 0;const n=so(e),i=so(t);if(n!==i)return Zt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zt(e.booleanValue,t.booleanValue);case 2:return function(a,l){const c=Je(a.integerValue||a.doubleValue),h=Je(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return HS(e.timestampValue,t.timestampValue);case 4:return HS(ff(e),ff(t));case 5:return s0(e.stringValue,t.stringValue);case 6:return function(a,l){const c=io(a),h=io(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=Zt(c[f],h[f]);if(p!==0)return p}return Zt(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,l){const c=Zt(Je(a.latitude),Je(l.latitude));return c!==0?c:Zt(Je(a.longitude),Je(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return WS(e.arrayValue,t.arrayValue);case 10:return function(a,l){var _,w,E,A;const c=a.fields||{},h=l.fields||{},f=(_=c[Lg])==null?void 0:_.arrayValue,p=(w=h[Lg])==null?void 0:w.arrayValue,y=Zt(((E=f==null?void 0:f.values)==null?void 0:E.length)||0,((A=p==null?void 0:p.values)==null?void 0:A.length)||0);return y!==0?y:WS(f,p)}(e.mapValue,t.mapValue);case 11:return function(a,l){if(a===wp.mapValue&&l===wp.mapValue)return 0;if(a===wp.mapValue)return 1;if(l===wp.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=s0(h[y],p[y]);if(_!==0)return _;const w=Fc(c[h[y]],f[p[y]]);if(w!==0)return w}return Zt(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Pt(23264,{he:n})}}function HS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Zt(e,t);const n=no(e),i=no(t),s=Zt(n.seconds,i.seconds);return s!==0?s:Zt(n.nanos,i.nanos)}function WS(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=Fc(n[s],i[s]);if(a)return a}return Zt(n.length,i.length)}function qc(e){return r0(e)}function r0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=no(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return io(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return kt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=r0(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${r0(n.fields[l])}`;return s+"}"}(e.mapValue):Pt(61005,{value:e})}function cg(e){switch(so(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=pm(e);return t?16+cg(t):16;case 5:return 2*e.stringValue.length;case 6:return io(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+cg(a),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return ho(i.fields,(a,l)=>{s+=a.length+cg(l)}),s}(e.mapValue);default:throw Pt(13486,{value:e})}}function YS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function a0(e){return!!e&&"integerValue"in e}function gv(e){return!!e&&"arrayValue"in e}function GS(e){return!!e&&"nullValue"in e}function KS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ug(e){return!!e&&"mapValue"in e}function R6(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[$C])==null?void 0:i.stringValue)===HC}function Hh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ho(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Hh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hh(e.arrayValue.values[n]);return t}return{...e}}function k6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===A6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.value=t}static empty(){return new xi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!ug(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hh(n)}setAll(t){let n=qn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Hh(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(t){const n=this.field(t.popLast());ug(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return tr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];ug(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){ho(n,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new xi(Hh(this.value))}}function WC(e){const t=[];return ho(e.fields,(n,i)=>{const s=new qn([n]);if(ug(i)){const a=WC(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Li(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n,i,s,a,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ni(t,0,Lt.min(),Lt.min(),Lt.min(),xi.empty(),0)}static newFoundDocument(t,n,i,s){return new ni(t,1,n,Lt.min(),i,s,0)}static newNoDocument(t,n){return new ni(t,2,n,Lt.min(),Lt.min(),xi.empty(),0)}static newUnknownDocument(t,n){return new ni(t,3,n,Lt.min(),Lt.min(),xi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t,n){this.position=t,this.inclusive=n}}function XS(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const a=t[s],l=e.position[s];if(a.field.isKeyField()?i=kt.comparator(kt.fromName(l.referenceValue),n.key):i=Fc(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function QS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,n="asc"){this.field=t,this.dir=n}}function C6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{}class hn extends YC{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new M6(t,n,i):n==="array-contains"?new P6(t,i):n==="in"?new N6(t,i):n==="not-in"?new L6(t,i):n==="array-contains-any"?new V6(t,i):new hn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new I6(t,i):new O6(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fc(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Fc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends YC{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new bs(t,n)}matches(t){return GC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GC(e){return e.op==="and"}function KC(e){return D6(e)&&GC(e)}function D6(e){for(const t of e.filters)if(t instanceof bs)return!1;return!0}function o0(e){if(e instanceof hn)return e.field.canonicalString()+e.op.toString()+qc(e.value);if(KC(e))return e.filters.map(t=>o0(t)).join(",");{const t=e.filters.map(n=>o0(n)).join(",");return`${e.op}(${t})`}}function XC(e,t){return e instanceof hn?function(i,s){return s instanceof hn&&i.op===s.op&&i.field.isEqual(s.field)&&tr(i.value,s.value)}(e,t):e instanceof bs?function(i,s){return s instanceof bs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&XC(l,s.filters[c]),!0):!1}(e,t):void Pt(19439)}function QC(e){return e instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${qc(n.value)}`}(e):e instanceof bs?function(n){return n.op.toString()+" {"+n.getFilters().map(QC).join(" ,")+"}"}(e):"Filter"}class M6 extends hn{constructor(t,n,i){super(t,n,i),this.key=kt.fromName(i.referenceValue)}matches(t){const n=kt.comparator(t.key,this.key);return this.matchesComparison(n)}}class I6 extends hn{constructor(t,n){super(t,"in",n),this.keys=ZC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class O6 extends hn{constructor(t,n){super(t,"not-in",n),this.keys=ZC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ZC(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>kt.fromName(i.referenceValue))}class P6 extends hn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gv(n)&&pf(n.arrayValue,this.value)}}class N6 extends hn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&pf(this.value.arrayValue,n)}}class L6 extends hn{constructor(t,n){super(t,"not-in",n)}matches(t){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pf(this.value.arrayValue,n)}}class V6 extends hn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>pf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(t,n=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function ZS(e,t=null,n=[],i=[],s=null,a=null,l=null){return new j6(e,t,n,i,s,a,l)}function mv(e){const t=jt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>o0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),dm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>qc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>qc(i)).join(",")),t.Te=n}return t.Te}function yv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!C6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!XC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QS(e.startAt,t.startAt)&&QS(e.endAt,t.endAt)}function l0(e){return kt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,n=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function U6(e,t,n,i,s,a,l,c){return new cu(e,t,n,i,s,a,l,c)}function gm(e){return new cu(e)}function JS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function JC(e){return e.collectionGroup!==null}function Wh(e){const t=jt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new vn(qn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new gf(a,i))}),n.has(qn.keyField().canonicalString())||t.Ie.push(new gf(qn.keyField(),i))}return t.Ie}function Ks(e){const t=jt(e);return t.Ee||(t.Ee=z6(t,Wh(e))),t.Ee}function z6(e,t){if(e.limitType==="F")return ZS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new gf(s.field,a)});const n=e.endAt?new Vg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Vg(e.startAt.position,e.startAt.inclusive):null;return ZS(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function c0(e,t){const n=e.filters.concat([t]);return new cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function u0(e,t,n){return new cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mm(e,t){return yv(Ks(e),Ks(t))&&e.limitType===t.limitType}function tD(e){return`${mv(Ks(e))}|lt:${e.limitType}`}function xc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>QC(s)).join(", ")}]`),dm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>qc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>qc(s)).join(",")),`Target(${i})`}(Ks(e))}; limitType=${e.limitType})`}function ym(e,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):kt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,s){for(const a of Wh(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=XS(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Wh(i),s)||i.endAt&&!function(l,c,h){const f=XS(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Wh(i),s))}(e,t)}function B6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eD(e){return(t,n)=>{let i=!1;for(const s of Wh(e)){const a=F6(s,t,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function F6(e,t,n){const i=e.field.isKeyField()?kt.comparator(t.key,n.key):function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?Fc(h,f):Pt(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Pt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ho(this.inner,(n,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return jC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new qe(kt.comparator);function Jr(){return q6}const nD=new qe(kt.comparator);function Oh(...e){let t=nD;for(const n of e)t=t.insert(n.key,n);return t}function iD(e){let t=nD;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function el(){return Yh()}function sD(){return Yh()}function Yh(){return new xl(e=>e.toString(),(e,t)=>e.isEqual(t))}const $6=new qe(kt.comparator),H6=new vn(kt.comparator);function Jt(...e){let t=H6;for(const n of e)t=t.add(n);return t}const W6=new vn(Zt);function Y6(){return W6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pg(t)?"-0":t}}function rD(e){return{integerValue:""+e}}function G6(e,t){return x6(t)?rD(t):_v(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this._=void 0}}function K6(e,t,n){return e instanceof mf?function(s,a){const l={fields:{[BC]:{stringValue:zC},[qC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&pv(a)&&(a=pm(a)),a&&(l.fields[FC]=a),{mapValue:l}}(n,t):e instanceof yf?oD(e,t):e instanceof _f?lD(e,t):function(s,a){const l=aD(s,a),c=tT(l)+tT(s.Ae);return a0(l)&&a0(s.Ae)?rD(c):_v(s.serializer,c)}(e,t)}function X6(e,t,n){return e instanceof yf?oD(e,t):e instanceof _f?lD(e,t):n}function aD(e,t){return e instanceof jg?function(i){return a0(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class mf extends _m{}class yf extends _m{constructor(t){super(),this.elements=t}}function oD(e,t){const n=cD(t);for(const i of e.elements)n.some(s=>tr(s,i))||n.push(i);return{arrayValue:{values:n}}}class _f extends _m{constructor(t){super(),this.elements=t}}function lD(e,t){let n=cD(t);for(const i of e.elements)n=n.filter(s=>!tr(s,i));return{arrayValue:{values:n}}}class jg extends _m{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function tT(e){return Je(e.integerValue||e.doubleValue)}function cD(e){return gv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(t,n){this.field=t,this.transform=n}}function Z6(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof yf&&s instanceof yf||i instanceof _f&&s instanceof _f?Bc(i.elements,s.elements,tr):i instanceof jg&&s instanceof jg?tr(i.Ae,s.Ae):i instanceof mf&&s instanceof mf}(e.transform,t.transform)}class J6{constructor(t,n){this.version=t,this.transformResults=n}}class ms{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ms}static exists(t){return new ms(void 0,t)}static updateTime(t){return new ms(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class bm{}function uD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new fD(e.key,ms.none()):new zf(e.key,e.data,ms.none());{const n=e.data,i=xi.empty();let s=new vn(qn.comparator);for(let a of t.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new fo(e.key,i,new Li(s.toArray()),ms.none())}}function t5(e,t,n){e instanceof zf?function(s,a,l){const c=s.value.clone(),h=nT(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof fo?function(s,a,l){if(!hg(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=nT(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(hD(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function Gh(e,t,n,i){return e instanceof zf?function(a,l,c,h){if(!hg(a.precondition,l))return c;const f=a.value.clone(),p=iT(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof fo?function(a,l,c,h){if(!hg(a.precondition,l))return c;const f=iT(a.fieldTransforms,h,l),p=l.data;return p.setAll(hD(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(a,l,c){return hg(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function e5(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),a=aD(i.transform,s||null);a!=null&&(n===null&&(n=xi.empty()),n.set(i.field,a))}return n||null}function eT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Bc(i,s,(a,l)=>Z6(a,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zf extends bm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fo extends bm{constructor(t,n,i,s,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function nT(e,t,n){const i=new Map;pe(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const a=e[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,X6(l,c,n[s]))}return i}function iT(e,t,n){const i=new Map;for(const s of e){const a=s.transform,l=n.data.field(s.field);i.set(s.field,K6(a,l,t))}return i}class fD extends bm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n5 extends bm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&t5(a,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Gh(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Gh(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=sD();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=uD(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Jt())}isEqual(t){return this.batchId===t.batchId&&Bc(this.mutations,t.mutations,(n,i)=>eT(n,i))&&Bc(this.baseMutations,t.baseMutations,(n,i)=>eT(n,i))}}class bv{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){pe(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return $6}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new bv(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,ie;function a5(e){switch(e){case ht.OK:return Pt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Pt(15467,{code:e})}}function dD(e){if(e===void 0)return Zr("GRPC error has no .code"),ht.UNKNOWN;switch(e){case cn.OK:return ht.OK;case cn.CANCELLED:return ht.CANCELLED;case cn.UNKNOWN:return ht.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ht.INTERNAL;case cn.UNAVAILABLE:return ht.UNAVAILABLE;case cn.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case cn.NOT_FOUND:return ht.NOT_FOUND;case cn.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case cn.ABORTED:return ht.ABORTED;case cn.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case cn.DATA_LOSS:return ht.DATA_LOSS;default:return Pt(39323,{code:e})}}(ie=cn||(cn={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=new Za([4294967295,4294967295],0);function sT(e){const t=o5().encode(e),n=new RC;return n.update(t),new Uint8Array(n.digest())}function rT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Za([n,i],0),new Za([s,a],0)]}class vv{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ph(`Invalid padding: ${n}`);if(i<0)throw new Ph(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ph(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ph(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Za.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(Za.fromNumber(i)));return s.compare(l5)===1&&(s=new Za([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sT(t),[i,s]=rT(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);if(!this.we(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new vv(a,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.ge===0)return;const n=sT(t),[i,s]=rT(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);this.Se(l)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n,i,s,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Bf.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new vm(Lt.min(),s,new qe(Zt),Jr(),Jt())}}class Bf{constructor(t,n,i,s,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Bf(i,n,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class pD{constructor(t,n){this.targetId=t,this.Ce=n}}class gD{constructor(t,n,i=Wn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class aT{constructor(){this.ve=0,this.Fe=oT(),this.Me=Wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Jt(),n=Jt(),i=Jt();return this.Fe.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Pt(38017,{changeType:a})}}),new Bf(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=oT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c5{constructor(t){this.Ge=t,this.ze=new Map,this.je=Jr(),this.Je=Ep(),this.He=Ep(),this.Ye=new qe(Zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Pt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const a=s.target;if(l0(a))if(i===0){const l=new kt(a.path);this.et(n,l,ni.newNoDocument(l,Lt.min()))}else pe(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const c=this.ut(t),h=c?this.ct(c,t,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=io(i).toUint8Array()}catch(h){if(h instanceof UC)return zc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new vv(l,s,a)}catch(h){return zc(h instanceof Ph?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.et(n,a,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((a,l)=>{const c=this.ot(l);if(c){if(a.current&&l0(c.target)){const h=new kt(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,ni.newNoDocument(h,t))}a.Be&&(n.set(l,a.ke()),a.qe())}});let i=Jt();this.He.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const s=new vm(t,n,this.Ye,this.je,i);return this.je=Jr(),this.Je=Ep(),this.He=Ep(),this.Ye=new qe(Zt),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new aT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new vn(Zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new vn(Zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||wt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new aT),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ep(){return new qe(kt.comparator)}function oT(){return new qe(kt.comparator)}const u5={asc:"ASCENDING",desc:"DESCENDING"},h5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f5={and:"AND",or:"OR"};class d5{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function h0(e,t){return e.useProto3Json||dm(t)?t:{value:t}}function Ug(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function p5(e,t){return Ug(e,t.toTimestamp())}function Xs(e){return pe(!!e,49232),Lt.fromTimestamp(function(n){const i=no(n);return new Re(i.seconds,i.nanos)}(e))}function xv(e,t){return f0(e,t).canonicalString()}function f0(e,t){const n=function(s){return new Ce(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function yD(e){const t=Ce.fromString(e);return pe(wD(t),10190,{key:t.toString()}),t}function d0(e,t){return xv(e.databaseId,t.path)}function ib(e,t){const n=yD(t);if(n.get(1)!==e.databaseId.projectId)throw new vt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kt(bD(n))}function _D(e,t){return xv(e.databaseId,t)}function g5(e){const t=yD(e);return t.length===4?Ce.emptyPath():bD(t)}function p0(e){return new Ce(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bD(e){return pe(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function lT(e,t,n){return{name:d0(e,t),fields:n.value.mapValue.fields}}function m5(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Pt(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(pe(p===void 0||typeof p=="string",58123),Wn.fromBase64String(p||"")):(pe(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Wn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const p=f.code===void 0?ht.UNKNOWN:dD(f.code);return new vt(p,f.message||"")}(l);n=new gD(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=ib(e,i.document.name),a=Xs(i.document.updateTime),l=i.document.createTime?Xs(i.document.createTime):Lt.min(),c=new xi({mapValue:{fields:i.document.fields}}),h=ni.newFoundDocument(s,a,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new fg(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=ib(e,i.document),a=i.readTime?Xs(i.readTime):Lt.min(),l=ni.newNoDocument(s,a),c=i.removedTargetIds||[];n=new fg([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=ib(e,i.document),a=i.removedTargetIds||[];n=new fg([],a,s,null)}else{if(!("filter"in t))return Pt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new r5(s,a),c=i.targetId;n=new pD(c,l)}}return n}function y5(e,t){let n;if(t instanceof zf)n={update:lT(e,t.key,t.value)};else if(t instanceof fD)n={delete:d0(e,t.key)};else if(t instanceof fo)n={update:lT(e,t.key,t.data),updateMask:A5(t.fieldMask)};else{if(!(t instanceof n5))return Pt(16599,{Vt:t.type});n={verify:d0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof mf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _f)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Pt(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:p5(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pt(27497)}(e,t.precondition)),n}function _5(e,t){return e&&e.length>0?(pe(t!==void 0,14353),e.map(n=>function(s,a){let l=s.updateTime?Xs(s.updateTime):Xs(a);return l.isEqual(Lt.min())&&(l=Xs(a)),new J6(l,s.transformResults||[])}(n,t))):[]}function b5(e,t){return{documents:[_D(e,t.path)]}}function v5(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=_D(e,s);const a=function(f){if(f.length!==0)return xD(bs.create(f,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:wc(_.field),direction:E5(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=h0(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:n,parent:s}}function x5(e){let t=g5(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){pe(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];n.where&&(a=function(y){const _=vD(y);return _ instanceof bs&&KC(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(E){return new gf(Ec(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,dm(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,w=y.values||[];return new Vg(w,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,w=y.values||[];return new Vg(w,_)}(n.endAt)),U6(t,s,l,a,c,"F",h,f)}function w5(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function vD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ec(n.unaryFilter.field);return hn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ec(n.unaryFilter.field);return hn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ec(n.unaryFilter.field);return hn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ec(n.unaryFilter.field);return hn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pt(61313);default:return Pt(60726)}}(e):e.fieldFilter!==void 0?function(n){return hn.create(Ec(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pt(58110);default:return Pt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return bs.create(n.compositeFilter.filters.map(i=>vD(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pt(1026)}}(n.compositeFilter.op))}(e):Pt(30097,{filter:e})}function E5(e){return u5[e]}function S5(e){return h5[e]}function T5(e){return f5[e]}function wc(e){return{fieldPath:e.canonicalString()}}function Ec(e){return qn.fromServerFormat(e.fieldPath)}function xD(e){return e instanceof hn?function(n){if(n.op==="=="){if(KS(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NAN"}};if(GS(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KS(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NAN"}};if(GS(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(n.field),op:S5(n.op),value:n.value}}}(e):e instanceof bs?function(n){const i=n.getFilters().map(s=>xD(s));return i.length===1?i[0]:{compositeFilter:{op:T5(n.op),filters:i}}}(e):Pt(54877,{filter:e})}function A5(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function wD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n,i,s,a=Lt.min(),l=Lt.min(),c=Wn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new qa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(t){this.yt=t}}function k5(e){const t=x5({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?u0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.Cn=new D5}addToCollectionParentIndex(t,n){return this.Cn.add(n),dt.resolve()}getCollectionParents(t,n){return dt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return dt.resolve()}deleteFieldIndex(t,n){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,n){return dt.resolve()}getDocumentsMatchingTarget(t,n){return dt.resolve(null)}getIndexType(t,n){return dt.resolve(0)}getFieldIndexes(t,n){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,n){return dt.resolve(eo.min())}getMinOffsetFromCollectionGroup(t,n){return dt.resolve(eo.min())}updateCollectionGroup(t,n,i){return dt.resolve()}updateIndexEntries(t,n){return dt.resolve()}}class D5{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new vn(Ce.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new vn(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ED=41943040;class bi{static withCacheSize(t){return new bi(t,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(ED,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $c(0)}static cr(){return new $c(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LruGarbageCollector",M5=1048576;function hT([e,t],[n,i]){const s=Zt(e,n);return s===0?Zt(t,i):s}class I5{constructor(t){this.Ir=t,this.buffer=new vn(hT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();hT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O5{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){wt(uT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lu(n)?wt(uT,"Ignoring IndexedDB error during garbage collection: ",n):await ou(n)}await this.Vr(3e5)})}}class P5{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return dt.resolve(fm.ce);const i=new I5(n);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(cT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),vc()<=Qt.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function N5(e,t){return new P5(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.changes=new xl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ni.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?dt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Gh(i.mutation,s,Li.empty(),Re.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Jt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Jt()){const s=el();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(a=>{let l=Oh();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=el();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Jt()))}populateOverlays(t,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let a=Jr();const l=Yh(),c=function(){return Yh()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof fo)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Gh(p.mutation,f,p.mutation.getFieldMask(),Re.now())):l.set(f.key,Li.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>c.set(f,new V5(p,l.get(f)??null))),c))}recalculateAndSaveOverlays(t,n){const i=Yh();let s=new qe((l,c)=>l-c),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||Li.empty();p=c.applyToLocalView(f,p),i.set(h,p);const y=(s.get(c.batchId)||Jt()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,y=sD();p.forEach(_=>{if(!a.has(_)){const w=uD(n.get(_),i.get(_));w!==null&&y.set(_,w),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return dt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return kt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):JC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-a.size):dt.resolve(el());let c=hf,h=a;return l.next(f=>dt.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?dt.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,Jt())).next(p=>({batchId:c,changes:iD(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new kt(n)).next(i=>{let s=Oh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const a=n.collectionGroup;let l=Oh();return this.indexManager.getCollectionParents(t,a).next(c=>dt.forEach(c,h=>{const f=function(y,_){return new cu(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,s))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,ni.newInvalidDocument(p)))});let c=Oh();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Gh(p.mutation,f,Li.empty(),Re.now()),ym(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return dt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Xs(s.createTime)}}(n)),dt.resolve()}getNamedQuery(t,n){return dt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(s){return{name:s.name,query:k5(s.bundledQuery),readTime:Xs(s.readTime)}}(n)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.overlays=new qe(kt.comparator),this.qr=new Map}getOverlay(t,n){return dt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=el();return dt.forEach(n,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,a)=>{this.St(t,n,a)}),dt.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),dt.resolve()}getOverlaysForCollection(t,n,i){const s=el(),a=n.length+1,l=new kt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return dt.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let a=new qe((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=el(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=el(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return dt.resolve(c)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new s5(n,i));let a=this.qr.get(n);a===void 0&&(a=Jt(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.Qr=new vn(In.$r),this.Ur=new vn(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new In(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new In(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new kt(new Ce([])),i=new In(n,t),s=new In(n,t+1),a=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new kt(new Ce([])),i=new In(n,t),s=new In(n,t+1);let a=Jt();return this.Ur.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new In(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class In{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return kt.comparator(t.key,n.key)||Zt(t.Yr,n.Yr)}static Kr(t,n){return Zt(t.Yr,n.Yr)||kt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vn(In.$r)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new i5(a,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new In(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return dt.resolve(l)}lookupMutationBatch(t,n){return dt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),a=s<0?0:s;return dt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?dv:this.tr-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new In(n,0),s=new In(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,s],l=>{const c=this.Xr(l.Yr);a.push(c)}),dt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new vn(Zt);return n.forEach(s=>{const a=new In(s,0),l=new In(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],c=>{i=i.add(c.Yr)})}),dt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let a=i;kt.isDocumentKey(a)||(a=a.child(""));const l=new In(new kt(a),0);let c=new vn(Zt);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Yr)),!0)},l),dt.resolve(this.ti(c))}ti(t){const n=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return dt.forEach(n.mutations,s=>{const a=new In(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new In(n,0),s=this.Zr.firstAfterOrEqual(i);return dt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(t){this.ri=t,this.docs=function(){return new qe(kt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return dt.resolve(i?i.document.mutableCopy():ni.newInvalidDocument(n))}getEntries(t,n){let i=Jr();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():ni.newInvalidDocument(s))}),dt.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let a=Jr();const l=n.path,c=new kt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||y6(m6(p),i)<=0||(s.has(p.key)||ym(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return dt.resolve(a)}getAllFromCollectionGroup(t,n,i,s){Pt(9500)}ii(t,n){return dt.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new $5(this)}getSize(t){return dt.resolve(this.size)}}class $5 extends L5{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),dt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(t){this.persistence=t,this.si=new xl(n=>mv(n),yv),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new wv,this.targetCount=0,this.ai=$c.ur()}forEachTarget(t,n){return this.si.forEach((i,s)=>n(s)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),dt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new $c(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,dt.resolve()}updateTargetData(t,n){return this.Pr(n),dt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,n,i){let s=0;const a=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),dt.waitFor(a).next(()=>s)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return dt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),dt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),dt.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),dt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return dt.resolve(i)}containsKey(t,n){return dt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n){this.ui={},this.overlays={},this.ci=new fm(0),this.li=!1,this.li=!0,this.hi=new B5,this.referenceDelegate=t(this),this.Pi=new H5(this),this.indexManager=new C5,this.remoteDocumentCache=function(s){return new q5(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new R5(n),this.Ii=new U5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new z5,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new F5(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){wt("MemoryPersistence","Starting transaction:",t);const s=new W5(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(t,n){return dt.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class W5 extends b6{constructor(t){super(),this.currentSequenceNumber=t}}class Ev{constructor(t){this.persistence=t,this.Ri=new wv,this.Vi=null}static mi(t){return new Ev(t)}get fi(){if(this.Vi)return this.Vi;throw Pt(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),dt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),dt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),dt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.fi,i=>{const s=kt.fromPath(i);return this.gi(t,s).next(a=>{a||n.removeEntry(s,Lt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return dt.or([()=>dt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class zg{constructor(t,n){this.persistence=t,this.pi=new xl(i=>w6(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=N5(this,n)}static mi(t,n){return new zg(t,n)}Ei(){}di(t){return dt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return dt.forEach(this.pi,(i,s)=>this.br(t,i,s).next(a=>a?dt.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,n).next(c=>{c||(i++,a.removeEntry(l,Lt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),dt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),dt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),dt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),dt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=cg(t.data.value)),n}br(t,n,i){return dt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return dt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=Jt(),s=Jt();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Sv(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wL()?8:v6(si())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const a={result:null};return this.ys(t,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Y5;return this.Ss(t,n,l).next(c=>{if(a.result=c,this.Vs)return this.bs(t,n,l,c.size)})}).next(()=>a.result)}bs(t,n,i,s){return i.documentReadCount<this.fs?(vc()<=Qt.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",xc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),dt.resolve()):(vc()<=Qt.DEBUG&&wt("QueryEngine","Query:",xc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(vc()<=Qt.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",xc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ks(n))):dt.resolve())}ys(t,n){if(JS(n))return dt.resolve(null);let i=Ks(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=u0(n,null,"F"),i=Ks(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=Jt(...a);return this.ps.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(t,u0(n,null,"F")):this.vs(t,f,n,h)}))})))}ws(t,n,i,s){return JS(n)||s.isEqual(Lt.min())?dt.resolve(null):this.ps.getDocuments(t,i).next(a=>{const l=this.Ds(n,a);return this.Cs(n,l,i,s)?dt.resolve(null):(vc()<=Qt.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xc(n)),this.vs(t,l,n,g6(s,hf)).next(c=>c))})}Ds(t,n){let i=new vn(eD(t));return n.forEach((s,a)=>{ym(t,a)&&(i=i.add(a))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,n,i){return vc()<=Qt.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",xc(n)),this.ps.getDocumentsMatchingQuery(t,n,eo.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="LocalStore",K5=3e8;class X5{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new qe(Zt),this.xs=new xl(a=>mv(a),yv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new j5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Q5(e,t,n,i){return new X5(e,t,n,i)}async function TD(e,t){const n=jt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=Jt();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:c}))})})}function Z5(e,t){const n=jt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const y=f.batch,_=y.keys();let w=dt.resolve();return _.forEach(E=>{w=w.next(()=>p.getEntry(h,E)).next(A=>{const S=f.docVersions.get(E);pe(S!==null,48541),A.version.compareTo(S)<0&&(y.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Jt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function AD(e){const t=jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function J5(e,t){const n=jt(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(a,p.addedDocuments,y)));let w=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?w=w.withResumeToken(Wn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),s=s.insert(y,w),function(A,S,C){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=K5?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(_,w,p)&&c.push(n.Pi.updateTargetData(a,w))});let h=Jr(),f=Jt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(t3(a,l,t.documentUpdates).next(p=>{h=p.ks,f=p.qs})),!i.isEqual(Lt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next(y=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(p)}return dt.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(n.Ms=s,a))}function t3(e,t,n){let i=Jt(),s=Jt();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=Jr();return n.forEach((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Lt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):wt(Tv,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:s}})}function e3(e,t){const n=jt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=dv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function n3(e,t){const n=jt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,t).next(a=>a?(s=a,dt.resolve(s)):n.Pi.allocateTargetId(i).next(l=>(s=new qa(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function g0(e,t,n){const i=jt(e),s=i.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!lu(l))throw l;wt(Tv,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function fT(e,t,n){const i=jt(e);let s=Lt.min(),a=Jt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const y=jt(h),_=y.xs.get(p);return _!==void 0?dt.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,p)}(i,l,Ks(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,n?s:Lt.min(),n?a:Jt())).next(c=>(i3(i,B6(t),c),{documents:c,Qs:a})))}function i3(e,t,n){let i=e.Os.get(t)||Lt.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Os.set(t,i)}class dT{constructor(){this.activeTargetIds=Y6()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class s3{constructor(){this.Mo=new dT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new dT,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="ConnectivityMonitor";class gT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){wt(pT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){wt(pT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp=null;function m0(){return Sp===null?Sp=function(){return 268435456+Math.round(2147483648*Math.random())}():Sp++,"0x"+Sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="RestConnection",a3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o3{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Ng?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,a){const l=m0(),c=this.zo(t,n.toUriEncodedString());wt(sb,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:f}=new URL(c),p=nu(f);return this.Jo(t,c,h,i,p).then(y=>(wt(sb,`Received RPC '${t}' ${l}: `,y),y),y=>{throw zc(sb,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",i),y})}Ho(t,n,i,s,a,l){return this.Go(t,n,i,s,a)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+au}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}zo(t,n){const i=a3[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class c3 extends o3{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,a){const l=m0();return new Promise((c,h)=>{const f=new kC;f.setWithCredentials(!0),f.listenOnce(CC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case lg.NO_ERROR:const y=f.getResponseJson();wt(Qn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case lg.TIMEOUT:wt(Qn,`RPC '${t}' ${l} timed out`),h(new vt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case lg.HTTP_ERROR:const _=f.getStatus();if(wt(Qn,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const A=function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(O)>=0?O:ht.UNKNOWN}(E.status);h(new vt(A,E.message))}else h(new vt(ht.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new vt(ht.UNAVAILABLE,"Connection failed."));break;default:Pt(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{wt(Qn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);wt(Qn,`RPC '${t}' ${l} sending request:`,s),f.send(n,"POST",p,i,15)})}T_(t,n,i){const s=m0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=IC(),c=MC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=a.join("");wt(Qn,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.I_(y);let _=!1,w=!1;const E=new l3({Yo:S=>{w?wt(Qn,`Not sending because RPC '${t}' stream ${s} is closed:`,S):(_||(wt(Qn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),wt(Qn,`RPC '${t}' stream ${s} sending:`,S),y.send(S))},Zo:()=>y.close()}),A=(S,C,O)=>{S.listen(C,M=>{try{O(M)}catch(q){setTimeout(()=>{throw q},0)}})};return A(y,Ih.EventType.OPEN,()=>{w||(wt(Qn,`RPC '${t}' stream ${s} transport opened.`),E.o_())}),A(y,Ih.EventType.CLOSE,()=>{w||(w=!0,wt(Qn,`RPC '${t}' stream ${s} transport closed`),E.a_(),this.E_(y))}),A(y,Ih.EventType.ERROR,S=>{w||(w=!0,zc(Qn,`RPC '${t}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new vt(ht.UNAVAILABLE,"The operation could not be completed")))}),A(y,Ih.EventType.MESSAGE,S=>{var C;if(!w){const O=S.data[0];pe(!!O,16349);const M=O,q=(M==null?void 0:M.error)||((C=M[0])==null?void 0:C.error);if(q){wt(Qn,`RPC '${t}' stream ${s} received error:`,q);const L=q.status;let Y=function(V){const z=cn[V];if(z!==void 0)return dD(z)}(L),D=q.message;Y===void 0&&(Y=ht.INTERNAL,D="Unknown error status: "+L+" with message "+q.message),w=!0,E.a_(new vt(Y,D)),y.close()}else wt(Qn,`RPC '${t}' stream ${s} received:`,O),E.u_(O)}}),A(c,DC.STAT_EVENT,S=>{S.stat===i0.PROXY?wt(Qn,`RPC '${t}' stream ${s} detected buffering proxy`):S.stat===i0.NOPROXY&&wt(Qn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function rb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(e){return new d5(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,n,i=1e3,s=1.5,a=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&wt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="PersistentStream";class kD{constructor(t,n,i,s,a,l,c,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RD(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new vt(ht.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return wt(mT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(wt(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u3 extends kD{constructor(t,n,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=m5(this.serializer,t),i=function(a){if(!("targetChange"in a))return Lt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Lt.min():l.readTime?Xs(l.readTime):Lt.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=p0(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=l0(h)?{documents:b5(a,h)}:{query:v5(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=mD(a,l.resumeToken);const f=h0(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Lt.min())>0){c.readTime=Ug(a,l.snapshotVersion.toTimestamp());const f=h0(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=w5(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=p0(this.serializer),n.removeTarget=t,this.q_(n)}}class h3 extends kD{constructor(t,n,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return pe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,pe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){pe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=_5(t.writeResults,t.commitTime),i=Xs(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=p0(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>y5(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{}class d3 extends f3{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new vt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,f0(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new vt(ht.UNKNOWN,a.toString())})}Ho(t,n,i,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(t,f0(n,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new vt(ht.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class p3{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):wt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="RemoteStore";class g3{constructor(t,n,i,s,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{wl(this)&&(wt(ml,"Restarting streams for network reachability change."),await async function(h){const f=jt(h);f.Ea.add(4),await Ff(f),f.Ra.set("Unknown"),f.Ea.delete(4),await wm(f)}(this))})}),this.Ra=new p3(i,s)}}async function wm(e){if(wl(e))for(const t of e.da)await t(!0)}async function Ff(e){for(const t of e.da)await t(!1)}function CD(e,t){const n=jt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Cv(n)?kv(n):uu(n).O_()&&Rv(n,t))}function Av(e,t){const n=jt(e),i=uu(n);n.Ia.delete(t),i.O_()&&DD(n,t),n.Ia.size===0&&(i.O_()?i.L_():wl(n)&&n.Ra.set("Unknown"))}function Rv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uu(e).Y_(t)}function DD(e,t){e.Va.Ue(t),uu(e).Z_(t)}function kv(e){e.Va=new c5({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),uu(e).start(),e.Ra.ua()}function Cv(e){return wl(e)&&!uu(e).x_()&&e.Ia.size>0}function wl(e){return jt(e).Ea.size===0}function MD(e){e.Va=void 0}async function m3(e){e.Ra.set("Online")}async function y3(e){e.Ia.forEach((t,n)=>{Rv(e,t)})}async function _3(e,t){MD(e),Cv(e)?(e.Ra.ha(t),kv(e)):e.Ra.set("Unknown")}async function b3(e,t,n){if(e.Ra.set("Online"),t instanceof gD&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(e,t)}catch(i){wt(ml,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Bg(e,i)}else if(t instanceof fg?e.Va.Ze(t):t instanceof pD?e.Va.st(t):e.Va.tt(t),!n.isEqual(Lt.min()))try{const i=await AD(e.localStore);n.compareTo(i)>=0&&await function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=a.Ia.get(h);if(!p)return;a.Ia.set(h,p.withResumeToken(Wn.EMPTY_BYTE_STRING,p.snapshotVersion)),DD(a,h);const y=new qa(p.target,h,f,p.sequenceNumber);Rv(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){wt(ml,"Failed to raise snapshot:",i),await Bg(e,i)}}async function Bg(e,t,n){if(!lu(t))throw t;e.Ea.add(1),await Ff(e),e.Ra.set("Offline"),n||(n=()=>AD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{wt(ml,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await wm(e)})}function ID(e,t){return t().catch(n=>Bg(e,n,t))}async function Em(e){const t=jt(e),n=ro(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dv;for(;v3(t);)try{const s=await e3(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,x3(t,s)}catch(s){await Bg(t,s)}OD(t)&&PD(t)}function v3(e){return wl(e)&&e.Ta.length<10}function x3(e,t){e.Ta.push(t);const n=ro(e);n.O_()&&n.X_&&n.ea(t.mutations)}function OD(e){return wl(e)&&!ro(e).x_()&&e.Ta.length>0}function PD(e){ro(e).start()}async function w3(e){ro(e).ra()}async function E3(e){const t=ro(e);for(const n of e.Ta)t.ea(n.mutations)}async function S3(e,t,n){const i=e.Ta.shift(),s=bv.from(i,t,n);await ID(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Em(e)}async function T3(e,t){t&&ro(e).X_&&await async function(i,s){if(function(l){return a5(l)&&l!==ht.ABORTED}(s.code)){const a=i.Ta.shift();ro(i).B_(),await ID(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Em(i)}}(e,t),OD(e)&&PD(e)}async function yT(e,t){const n=jt(e);n.asyncQueue.verifyOperationInProgress(),wt(ml,"RemoteStore received new credentials");const i=wl(n);n.Ea.add(3),await Ff(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await wm(n)}async function A3(e,t){const n=jt(e);t?(n.Ea.delete(2),await wm(n)):t||(n.Ea.add(2),await Ff(n),n.Ra.set("Unknown"))}function uu(e){return e.ma||(e.ma=function(n,i,s){const a=jt(n);return a.sa(),new u3(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{Xo:m3.bind(null,e),t_:y3.bind(null,e),r_:_3.bind(null,e),H_:b3.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Cv(e)?kv(e):e.Ra.set("Unknown")):(await e.ma.stop(),MD(e))})),e.ma}function ro(e){return e.fa||(e.fa=function(n,i,s){const a=jt(n);return a.sa(),new h3(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:w3.bind(null,e),r_:T3.bind(null,e),ta:E3.bind(null,e),na:S3.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Em(e)):(await e.fa.stop(),e.Ta.length>0&&(wt(ml,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,n,i,s,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,a){const l=Date.now()+i,c=new Dv(t,n,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(e,t){if(Zr("AsyncQueue",`${t}: ${e}`),lu(e))return new vt(ht.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{static emptySet(t){return new Dc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||kt.comparator(n.key,i.key):(n,i)=>kt.comparator(n.key,i.key),this.keyedMap=Oh(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Dc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Dc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.ga=new qe(kt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Pt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Hc{constructor(t,n,i,s,a,l,c,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Hc(t,n,Dc.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class k3{constructor(){this.queries=bT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=jt(n),a=s.queries;s.queries=bT(),a.forEach((l,c)=>{for(const h of c.Sa)h.onError(i)})})(this,new vt(ht.ABORTED,"Firestore shutting down"))}}function bT(){return new xl(e=>tD(e),mm)}async function Iv(e,t){const n=jt(e);let i=3;const s=t.query;let a=n.queries.get(s);a?!a.ba()&&t.Da()&&(i=2):(a=new R3,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Mv(l,`Initialization of query '${xc(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Pv(n)}async function Ov(e,t){const n=jt(e),i=t.query;let s=3;const a=n.queries.get(i);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.Da()?0:1:!a.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function C3(e,t){const n=jt(e);let i=!1;for(const s of t){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(i=!0);l.wa=s}}i&&Pv(n)}function D3(e,t,n){const i=jt(e),s=i.queries.get(t);if(s)for(const a of s.Sa)a.onError(n);i.queries.delete(t)}function Pv(e){e.Ca.forEach(t=>{t.next()})}var y0,vT;(vT=y0||(y0={})).Ma="default",vT.Cache="cache";class Nv{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Hc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Hc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==y0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t){this.key=t}}class LD{constructor(t){this.key=t}}class M3{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=eD(t),this.tu=new Dc(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new _T,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),w=ym(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;_&&w?_.data.isEqual(w.data)?E!==A&&(i.track({type:3,doc:w}),S=!0):this.su(_,w)||(i.track({type:2,doc:w}),S=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(c=!0)):!_&&w?(i.track({type:0,doc:w}),S=!0):_&&!w&&(i.track({type:1,doc:_}),S=!0,(h||f)&&(c=!0)),S&&(w?(l=l.add(w),a=A?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:c,mutatedKeys:a}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((p,y)=>function(w,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt(20277,{Rt:S})}};return A(w)-A(E)}(p.type,y.type)||this.eu(p.doc,y.doc)),this.ou(i),s=s??!1;const c=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Hc(this.query,t.tu,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _T,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Jt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new LD(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new ND(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=Jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Hc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lv="SyncEngine";class I3{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class O3{constructor(t){this.key=t,this.hu=!1}}class P3{constructor(t,n,i,s,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new xl(c=>tD(c),mm),this.Iu=new Map,this.Eu=new Set,this.du=new qe(kt.comparator),this.Au=new Map,this.Ru=new wv,this.Vu={},this.mu=new Map,this.fu=$c.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N3(e,t,n=!0){const i=FD(e);let s;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await VD(i,t,n,!0),s}async function L3(e,t){const n=FD(e);await VD(n,t,!0,!1)}async function VD(e,t,n,i){const s=await n3(e.localStore,Ks(t)),a=s.targetId,l=e.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await V3(e,t,a,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&CD(e.remoteStore,s),c}async function V3(e,t,n,i,s){e.pu=(y,_,w)=>async function(A,S,C,O){let M=S.view.ru(C);M.Cs&&(M=await fT(A.localStore,S.query,!1).then(({documents:D})=>S.view.ru(D,M)));const q=O&&O.targetChanges.get(S.targetId),L=O&&O.targetMismatches.get(S.targetId)!=null,Y=S.view.applyChanges(M,A.isPrimaryClient,q,L);return wT(A,S.targetId,Y.au),Y.snapshot}(e,y,_,w);const a=await fT(e.localStore,t,!0),l=new M3(t,a.Qs),c=l.ru(a.documents),h=Bf.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),f=l.applyChanges(c,e.isPrimaryClient,h);wT(e,n,f.au);const p=new I3(t,n,l);return e.Tu.set(t,p),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),f.snapshot}async function j3(e,t,n){const i=jt(e),s=i.Tu.get(t),a=i.Iu.get(s.targetId);if(a.length>1)return i.Iu.set(s.targetId,a.filter(l=>!mm(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await g0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Av(i.remoteStore,s.targetId),_0(i,s.targetId)}).catch(ou)):(_0(i,s.targetId),await g0(i.localStore,s.targetId,!0))}async function U3(e,t){const n=jt(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Av(n.remoteStore,i.targetId))}async function z3(e,t,n){const i=Y3(e);try{const s=await function(l,c){const h=jt(l),f=Re.now(),p=c.reduce((w,E)=>w.add(E.key),Jt());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=Jr(),A=Jt();return h.Ns.getEntries(w,p).next(S=>{E=S,E.forEach((C,O)=>{O.isValidDocument()||(A=A.add(C))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,E)).next(S=>{y=S;const C=[];for(const O of c){const M=e5(O,y.get(O.key).overlayedDocument);M!=null&&C.push(new fo(O.key,M,WC(M.value.mapValue),ms.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,C,c)}).next(S=>{_=S;const C=S.applyToLocalDocumentSet(y,A);return h.documentOverlayCache.saveOverlays(w,S.batchId,C)})}).then(()=>({batchId:_.batchId,changes:iD(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new qe(Zt)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f}(i,s.batchId,n),await qf(i,s.changes),await Em(i.remoteStore)}catch(s){const a=Mv(s,"Failed to persist write");n.reject(a)}}async function jD(e,t){const n=jt(e);try{const i=await J5(n.localStore,t);t.targetChanges.forEach((s,a)=>{const l=n.Au.get(a);l&&(pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?pe(l.hu,14607):s.removedDocuments.size>0&&(pe(l.hu,42227),l.hu=!1))}),await qf(n,i,t)}catch(i){await ou(i)}}function xT(e,t,n){const i=jt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((a,l)=>{const c=l.view.va(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=jt(l);h.onlineState=c;let f=!1;h.queries.forEach((p,y)=>{for(const _ of y.Sa)_.va(c)&&(f=!0)}),f&&Pv(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function B3(e,t,n){const i=jt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),a=s&&s.key;if(a){let l=new qe(kt.comparator);l=l.insert(a,ni.newNoDocument(a,Lt.min()));const c=Jt().add(a),h=new vm(Lt.min(),new Map,new qe(Zt),l,c);await jD(i,h),i.du=i.du.remove(a),i.Au.delete(t),Vv(i)}else await g0(i.localStore,t,!1).then(()=>_0(i,t,n)).catch(ou)}async function F3(e,t){const n=jt(e),i=t.batch.batchId;try{const s=await Z5(n.localStore,t);zD(n,i,null),UD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await qf(n,s)}catch(s){await ou(s)}}async function q3(e,t,n){const i=jt(e);try{const s=await function(l,c){const h=jt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(pe(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);zD(i,t,n),UD(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await qf(i,s)}catch(s){await ou(s)}}function UD(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function zD(e,t,n){const i=jt(e);let s=i.Vu[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(n?a.reject(n):a.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function _0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||BD(e,i)})}function BD(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Av(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Vv(e))}function wT(e,t,n){for(const i of n)i instanceof ND?(e.Ru.addReference(i.key,t),$3(e,i)):i instanceof LD?(wt(Lv,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||BD(e,i.key)):Pt(19791,{wu:i})}function $3(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(wt(Lv,"New document in limbo: "+n),e.Eu.add(i),Vv(e))}function Vv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new kt(Ce.fromString(t)),i=e.fu.next();e.Au.set(i,new O3(n)),e.du=e.du.insert(n,i),CD(e.remoteStore,new qa(Ks(gm(n.path)),i,"TargetPurposeLimboResolution",fm.ce))}}async function qf(e,t,n){const i=jt(e),s=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((c,h)=>{l.push(i.pu(h,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=Sv.As(h.targetId,f);a.push(y)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,f){const p=jt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>dt.forEach(f,_=>dt.forEach(_.Es,w=>p.persistence.referenceDelegate.addReference(y,_.targetId,w)).next(()=>dt.forEach(_.ds,w=>p.persistence.referenceDelegate.removeReference(y,_.targetId,w)))))}catch(y){if(!lu(y))throw y;wt(Tv,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const w=p.Ms.get(_),E=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(_,A)}}}(i.localStore,a))}async function H3(e,t){const n=jt(e);if(!n.currentUser.isEqual(t)){wt(Lv,"User change. New user:",t.toKey());const i=await TD(n.localStore,t);n.currentUser=t,function(a,l){a.mu.forEach(c=>{c.forEach(h=>{h.reject(new vt(ht.CANCELLED,l))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await qf(n,i.Ls)}}function W3(e,t){const n=jt(e),i=n.Au.get(t);if(i&&i.hu)return Jt().add(i.key);{let s=Jt();const a=n.Iu.get(t);if(!a)return s;for(const l of a){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function FD(e){const t=jt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=W3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B3.bind(null,t),t.Pu.H_=C3.bind(null,t.eventManager),t.Pu.yu=D3.bind(null,t.eventManager),t}function Y3(e){const t=jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=F3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=q3.bind(null,t),t}class Fg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Q5(this.persistence,new G5,t.initialUser,this.serializer)}Cu(t){return new SD(Ev.mi,this.serializer)}Du(t){return new s3}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fg.provider={build:()=>new Fg};class G3 extends Fg{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){pe(this.persistence.referenceDelegate instanceof zg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new O5(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new SD(i=>zg.mi(i,n),this.serializer)}}class b0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H3.bind(null,this.syncEngine),await A3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new k3}()}createDatastore(t){const n=xm(t.databaseInfo.databaseId),i=function(a){return new c3(a)}(t.databaseInfo);return function(a,l,c,h){return new d3(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,a,l,c){return new g3(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>xT(this.syncEngine,n,0),function(){return gT.v()?new gT:new r3}())}createSyncEngine(t,n){return function(s,a,l,c,h,f,p){const y=new P3(s,a,l,c,h,f);return p&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const a=jt(s);wt(ml,"RemoteStore shutting down."),a.Ea.add(5),await Ff(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}b0.provider={build:()=>new b0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="FirestoreClient";class K3{constructor(t,n,i,s,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=ti.UNAUTHENTICATED,this.clientId=fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{wt(ao,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(wt(ao,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Mv(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function ab(e,t){e.asyncQueue.verifyOperationInProgress(),wt(ao,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await TD(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ET(e,t){e.asyncQueue.verifyOperationInProgress();const n=await X3(e);wt(ao,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>yT(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>yT(t.remoteStore,s)),e._onlineComponents=t}async function X3(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){wt(ao,"Using user provided OfflineComponentProvider");try{await ab(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===ht.FAILED_PRECONDITION||s.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;zc("Error using user provided cache. Falling back to memory cache: "+n),await ab(e,new Fg)}}else wt(ao,"Using default OfflineComponentProvider"),await ab(e,new G3(void 0));return e._offlineComponents}async function qD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(wt(ao,"Using user provided OnlineComponentProvider"),await ET(e,e._uninitializedComponentsProvider._online)):(wt(ao,"Using default OnlineComponentProvider"),await ET(e,new b0))),e._onlineComponents}function Q3(e){return qD(e).then(t=>t.syncEngine)}async function qg(e){const t=await qD(e),n=t.eventManager;return n.onListen=N3.bind(null,t.syncEngine),n.onUnlisten=j3.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=L3.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=U3.bind(null,t.syncEngine),n}function Z3(e,t,n={}){const i=new Gr;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,f){const p=new jv({next:_=>{p.Nu(),l.enqueueAndForget(()=>Ov(a,y));const w=_.docs.has(c);!w&&_.fromCache?f.reject(new vt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&h&&h.source==="server"?f.reject(new vt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Nv(gm(c.path),p,{includeMetadataChanges:!0,qa:!0});return Iv(a,y)}(await qg(e),e.asyncQueue,t,n,i)),i.promise}function J3(e,t,n={}){const i=new Gr;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,f){const p=new jv({next:_=>{p.Nu(),l.enqueueAndForget(()=>Ov(a,y)),_.fromCache&&h.source==="server"?f.reject(new vt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Nv(c,p,{includeMetadataChanges:!0,qa:!0});return Iv(a,y)}(await qg(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firestore.googleapis.com",TT=!0;class AT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HD,this.ssl=TT}else this.host=t.host,this.ssl=t.ssl??TT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ED;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<M5)throw new vt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$D(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new vt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new vt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new vt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new s6;switch(i.type){case"firstParty":return new l6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new vt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ST.get(n);i&&(wt("ComponentProvider","Removing Datastore"),ST.delete(n),i.terminate())}(this),Promise.resolve()}}function tU(e,t,n,i={}){var f;e=Vi(e,Sm);const s=nu(t),a=e._getSettings(),l={...a,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${n}`;s&&(Uk(`https://${c}`),zk("Firestore",!0)),a.host!==HD&&a.host!==c&&zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:s,emulatorOptions:i};if(!hl(h,l)&&(e._setSettings(h),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=ti.MOCK_USER;else{p=dL(i.mockUserToken,(f=e._app)==null?void 0:f.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new vt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ti(_)}e._authCredentials=new r6(new PC(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new po(this.firestore,t,this._query)}}class Ye{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ye(this.firestore,t,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Uf(n,Ye._jsonSchema))return new Ye(t,i||null,new kt(Ce.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:fn("string",Ye._jsonSchemaVersion),referencePath:fn("string")};class Ja extends po{constructor(t,n,i){super(t,n,gm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ye(this.firestore,null,new kt(t))}withConverter(t){return new Ja(this.firestore,t,this._path)}}function Hn(e,t,...n){if(e=pn(e),NC("collection","path",t),e instanceof Sm){const i=Ce.fromString(t,...n);return US(i),new Ja(e,null,i)}{if(!(e instanceof Ye||e instanceof Ja))throw new vt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ce.fromString(t,...n));return US(i),new Ja(e.firestore,null,i)}}function $n(e,t,...n){if(e=pn(e),arguments.length===1&&(t=fv.newId()),NC("doc","path",t),e instanceof Sm){const i=Ce.fromString(t,...n);return jS(i),new Ye(e,null,new kt(i))}{if(!(e instanceof Ye||e instanceof Ja))throw new vt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ce.fromString(t,...n));return jS(i),new Ye(e.firestore,e instanceof Ja?e.converter:null,new kt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="AsyncQueue";class kT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RD(this,"async_queue_retry"),this._c=()=>{const i=rb();i&&wt(RT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=rb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=rb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!lu(t))throw t;wt(RT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",CT(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Dv.createAndSchedule(this,t,n,i,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Pt(47125,{Pc:CT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function CT(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(e,["next","error","complete"])}class oo extends Sm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new kT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kT(t),this._firestoreClient=void 0,await t}}}function WD(e,t){const n=typeof e=="object"?e:$k(),i=typeof e=="string"?e:Ng,s=nv(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=hL("firestore");a&&tU(s,...a)}return s}function Tm(e){if(e._terminated)throw new vt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||eU(e),e._firestoreClient}function eU(e){var i,s,a;const t=e._freezeSettings(),n=function(c,h,f,p){return new T6(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$D(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new K3(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ns(Wn.fromBase64String(t))}catch(n){throw new vt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ns(Wn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uf(t,ns._jsonSchema))return ns.fromBase64String(t.bytes)}}ns._jsonSchemaVersion="firestore/bytes/1.0",ns._jsonSchema={type:fn("string",ns._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new vt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new vt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qs._jsonSchemaVersion}}static fromJSON(t){if(Uf(t,Qs._jsonSchema))return new Qs(t.latitude,t.longitude)}}Qs._jsonSchemaVersion="firestore/geoPoint/1.0",Qs._jsonSchema={type:fn("string",Qs._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uf(t,Zs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Zs(t.vectorValues);throw new vt(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zs._jsonSchemaVersion="firestore/vectorValue/1.0",Zs._jsonSchema={type:fn("string",Zs._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=/^__.*__$/;class iU{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new fo(t,this.data,this.fieldMask,n,this.fieldTransforms):new zf(t,this.data,n,this.fieldTransforms)}}class YD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new fo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function GD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt(40011,{Ac:e})}}class Uv{constructor(t,n,i,s,a,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Uv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $g(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(GD(this.Ac)&&nU.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sU{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||xm(t)}Cc(t,n,i,s=!1){return new Uv({Ac:t,methodName:n,Dc:i,path:qn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function km(e){const t=e._freezeSettings(),n=xm(e._databaseId);return new sU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function KD(e,t,n,i,s,a={}){const l=e.Cc(a.merge||a.mergeFields?2:0,t,n,s);Bv("Data must be an object, but it was:",l,i);const c=XD(i,l);let h,f;if(a.merge)h=new Li(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const y of a.mergeFields){const _=v0(t,y,n);if(!l.contains(_))throw new vt(ht.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);ZD(p,_)||p.push(_)}h=new Li(p),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new iU(new xi(c),h,f)}class Cm extends Rm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Cm}}class zv extends Rm{_toFieldTransform(t){return new Q6(t.path,new mf)}isEqual(t){return t instanceof zv}}function rU(e,t,n,i){const s=e.Cc(1,t,n);Bv("Data must be an object, but it was:",s,i);const a=[],l=xi.empty();ho(i,(h,f)=>{const p=Fv(t,h,n);f=pn(f);const y=s.yc(p);if(f instanceof Cm)a.push(p);else{const _=$f(f,y);_!=null&&(a.push(p),l.set(p,_))}});const c=new Li(a);return new YD(l,c,s.fieldTransforms)}function aU(e,t,n,i,s,a){const l=e.Cc(1,t,n),c=[v0(t,i,n)],h=[s];if(a.length%2!=0)throw new vt(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(v0(t,a[_])),h.push(a[_+1]);const f=[],p=xi.empty();for(let _=c.length-1;_>=0;--_)if(!ZD(f,c[_])){const w=c[_];let E=h[_];E=pn(E);const A=l.yc(w);if(E instanceof Cm)f.push(w);else{const S=$f(E,A);S!=null&&(f.push(w),p.set(w,S))}}const y=new Li(f);return new YD(p,y,l.fieldTransforms)}function oU(e,t,n,i=!1){return $f(n,e.Cc(i?4:3,t))}function $f(e,t){if(QD(e=pn(e)))return Bv("Unsupported field value:",t,e),XD(e,t);if(e instanceof Rm)return function(i,s){if(!GD(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=$f(c,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(e,t)}return function(i,s){if((i=pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return G6(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Re.fromDate(i);return{timestampValue:Ug(s.serializer,a)}}if(i instanceof Re){const a=new Re(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ug(s.serializer,a)}}if(i instanceof Qs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ns)return{bytesValue:mD(s.serializer,i._byteString)};if(i instanceof Ye){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Zs)return function(l,c){return{mapValue:{fields:{[$C]:{stringValue:HC},[Lg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return _v(c.serializer,f)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${hm(i)}`)}(e,t)}function XD(e,t){const n={};return jC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ho(e,(i,s)=>{const a=$f(s,t.mc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function QD(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Re||e instanceof Qs||e instanceof ns||e instanceof Ye||e instanceof Rm||e instanceof Zs)}function Bv(e,t,n){if(!QD(n)||!LC(n)){const i=hm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function v0(e,t,n){if((t=pn(t))instanceof Am)return t._internalPath;if(typeof t=="string")return Fv(e,t);throw $g("Field path arguments must be of type string or ",e,!1,void 0,n)}const lU=new RegExp("[~\\*/\\[\\]]");function Fv(e,t,n){if(t.search(lU)>=0)throw $g(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Am(...t.split("."))._internalPath}catch{throw $g(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function $g(e,t,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new vt(ht.INVALID_ARGUMENT,c+e+h)}function ZD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t,n,i,s,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Dm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cU extends JD{data(){return super.data()}}function Dm(e,t){return typeof t=="string"?Fv(e,t):t instanceof Am?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new vt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qv{}class eM extends qv{}function fi(e,t,...n){let i=[];t instanceof qv&&i.push(t),i=i.concat(n),function(a){const l=a.filter(h=>h instanceof $v).length,c=a.filter(h=>h instanceof Mm).length;if(l>1||l>0&&c>0)throw new vt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Mm extends eM{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Mm(t,n,i)}_apply(t){const n=this._parse(t);return nM(t._query,n),new po(t.firestore,t.converter,c0(t._query,n))}_parse(t){const n=km(t.firestore);return function(a,l,c,h,f,p,y){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new vt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){IT(y,p);const E=[];for(const A of y)E.push(MT(h,a,A));_={arrayValue:{values:E}}}else _=MT(h,a,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||IT(y,p),_=oU(c,l,y,p==="in"||p==="not-in");return hn.create(f,p,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function hi(e,t,n){const i=t,s=Dm("where",e);return Mm._create(s,i,n)}class $v extends qv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new $v(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:bs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)nM(l,h),l=c0(l,h)}(t._query,n),new po(t.firestore,t.converter,c0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hv extends eM{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Hv(t,n)}_apply(t){const n=function(s,a,l){if(s.startAt!==null)throw new vt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new vt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gf(a,l)}(t._query,this._field,this._direction);return new po(t.firestore,t.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new cu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function bf(e,t="asc"){const n=t,i=Dm("orderBy",e);return Hv._create(i,n)}function MT(e,t,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new vt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JC(t)&&n.indexOf("/")!==-1)throw new vt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Ce.fromString(n));if(!kt.isDocumentKey(i))throw new vt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return YS(e,new kt(i))}if(n instanceof Ye)return YS(e,n._key);throw new vt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(n)}.`)}function IT(e,t){if(!Array.isArray(e)||e.length===0)throw new vt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nM(e,t){const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new vt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class uU{convertValue(t,n="none"){switch(so(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(io(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ho(t,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(t){var i,s,a;const n=(a=(s=(i=t.fields)==null?void 0:i[Lg].arrayValue)==null?void 0:s.values)==null?void 0:a.map(l=>Je(l.doubleValue));return new Zs(n)}convertGeoPoint(t){return new Qs(Je(t.latitude),Je(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=pm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ff(t));default:return null}}convertTimestamp(t){const n=no(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ce.fromString(t);pe(wD(i),9688,{name:t});const s=new df(i.get(1),i.get(3)),a=new kt(i.popFirst(5));return s.isEqual(n)||Zr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Nh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rl extends JD{constructor(t,n,i,s,a,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Dm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=rl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",rl._jsonSchema={type:fn("string",rl._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class dg extends rl{data(t={}){return super.data(t)}}class al{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new dg(this._firestore,this._userDataWriter,i.key,i,new Nh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new vt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new dg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Nh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new dg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Nh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:hU(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=al._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=fv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(e){e=Vi(e,Ye);const t=Vi(e.firestore,oo);return Z3(Tm(t),e._key).then(n=>sM(t,e,n))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:fn("string",al._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class Wv extends uU{constructor(t){super(),this.firestore=t}convertBytes(t){return new ns(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function Mc(e){e=Vi(e,po);const t=Vi(e.firestore,oo),n=Tm(t),i=new Wv(t);return tM(e._query),J3(n,e._query).then(s=>new al(t,i,e,s))}function fU(e,t,n){e=Vi(e,Ye);const i=Vi(e.firestore,oo),s=iM(e.converter,t);return Yv(i,[KD(km(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ms.none())])}function Hs(e,t,n,...i){e=Vi(e,Ye);const s=Vi(e.firestore,oo),a=km(s);let l;return l=typeof(t=pn(t))=="string"||t instanceof Am?aU(a,"updateDoc",e._key,t,n,i):rU(a,"updateDoc",e._key,t),Yv(s,[l.toMutation(e._key,ms.exists(!0))])}function dU(e,t){const n=Vi(e.firestore,oo),i=$n(e),s=iM(e.converter,t);return Yv(n,[KD(km(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,ms.exists(!1))]).then(()=>i)}function yl(e,...t){var h,f,p;e=pn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||DT(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(DT(t[i])){const y=t[i];t[i]=(h=y.next)==null?void 0:h.bind(y),t[i+1]=(f=y.error)==null?void 0:f.bind(y),t[i+2]=(p=y.complete)==null?void 0:p.bind(y)}let a,l,c;if(e instanceof Ye)l=Vi(e.firestore,oo),c=gm(e._key.path),a={next:y=>{t[i]&&t[i](sM(l,e,y))},error:t[i+1],complete:t[i+2]};else{const y=Vi(e,po);l=Vi(y.firestore,oo),c=y._query;const _=new Wv(l);a={next:w=>{t[i]&&t[i](new al(l,_,y,w))},error:t[i+1],complete:t[i+2]},tM(e._query)}return function(_,w,E,A){const S=new jv(A),C=new Nv(w,S,E);return _.asyncQueue.enqueueAndForget(async()=>Iv(await qg(_),C)),()=>{S.Nu(),_.asyncQueue.enqueueAndForget(async()=>Ov(await qg(_),C))}}(Tm(l),c,s,a)}function Yv(e,t){return function(i,s){const a=new Gr;return i.asyncQueue.enqueueAndForget(async()=>z3(await Q3(i),s,a)),a.promise}(Tm(e),t)}function sM(e,t,n){const i=n.docs.get(t._key),s=new Wv(e);return new rl(e,s,t._key,i,new Nh(n.hasPendingWrites,n.fromCache),t.converter)}function x0(){return new zv("serverTimestamp")}(function(t,n=!0){(function(s){au=s})(iu),jc(new fl("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new oo(new a6(i.getProvider("auth-internal")),new c6(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new vt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new df(f.options.projectId,p)}(l,s),l);return a={useFetchStreams:n,...a},c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Qa(PS,NS,t),Qa(PS,NS,"esm2020")})();const pU={apiKey:"AIzaSyDPpncxsw6-M6CvwfqvDFCOXgnUuHXo44o",authDomain:"pdms-eda37.firebaseapp.com",projectId:"pdms-eda37",storageBucket:"pdms-eda37.firebasestorage.app",messagingSenderId:"62711519276",appId:"1:62711519276:web:1d66a26228c184d135d989"},Gv=qk(pU);WD(Gv);const re=WD(Gv),ta=t6(Gv);function gU({onLoginSuccess:e}){const[t,n]=B.useState(""),[i,s]=B.useState(""),a=tu(),l=()=>{a("/signup")},c=()=>{jV(ta,t,i).then(()=>{e(),a("/main")}).catch(h=>{alert("로그인 실패: "+h.message)})};return v.jsxs(mU,{children:[v.jsxs(yU,{children:[v.jsxs(_U,{children:[v.jsx(bU,{children:"PDMS"}),v.jsx(vU,{children:"Pushcomz Design Management System"})]}),v.jsxs(xU,{children:[v.jsx(wU,{type:"text",value:t,onChange:h=>n(h.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(EU,{type:"password",value:i,onChange:h=>s(h.target.value),placeholder:"비밀번호를 입력해주세요."})]}),v.jsx(SU,{onClick:c,children:"로그인"}),v.jsxs(AU,{children:[v.jsx(RU,{children:"계정이 없습니까?"}),v.jsx(kU,{onClick:l,children:"등록하기"})]})]}),v.jsx(TU,{children:"© Pushcomz Corp."})]})}const mU=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,yU=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,_U=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,bU=H.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,vU=H.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,xU=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
`,wU=H.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,EU=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,SU=H.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,TU=H.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,AU=H.div`
  
`,RU=H.span`
  margin-right: 10px;
  font-size: 13px;
`,kU=H.button`
  font-size: 13px;
  color: ${({theme:e})=>e.colors.navy};
`,CU=""+new URL("homeplus-logo-BtZJKVuP.svg",import.meta.url).href,DU=""+new URL("nsmall-logo-B-mz9SOB.svg",import.meta.url).href;function MU({userRole:e}){const[t,n]=G0(),i=t.get("view")||"dashboard",s=l=>{n(c=>{const h=new URLSearchParams(c);return h.set("view",l),h})},a=e===3;return v.jsx(IU,{children:v.jsxs(OU,{children:[!a&&v.jsx(Tp,{children:v.jsx(Ap,{type:"button",onClick:()=>s("allrequestlist"),$active:i==="allrequestlist",children:"전체 요청 리스트"})}),v.jsx(Tp,{children:v.jsx(Ap,{type:"button",onClick:()=>s("myrequestlist"),$active:i==="myrequestlist",children:"나의 요청 리스트"})}),v.jsx(Tp,{children:v.jsx(Ap,{type:"button",onClick:()=>s("dashboard"),$active:i==="dashboard",children:"전체 현황"})}),a&&v.jsx(Tp,{children:v.jsx(Ap,{type:"button",onClick:()=>s("inworkhour"),$active:i==="inworkhour",children:"내부 공수"})})]})})}const IU=H.nav`
`,OU=H.ul`
  ${({theme:e})=>e.mixin.flex("center","flex-start")};
  gap: 0 20px;
`,Tp=H.li`
  
`,Ap=H.button`
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.gray02};
  font-family: 'Pretendard';
  font-size: 15px;
  font-weight: 500;
  
  &:hover {
    color: ${({theme:e})=>e.colors.white01};
  }
`,OT={HOMEPLUS:"homeplus",NSMALL:"nsmall"};function PU(){const[e,t]=B.useState(""),[n,i]=B.useState(""),[s,a]=B.useState(null),l=tu();B.useEffect(()=>{const _=ru(ta,async w=>{if(w){w.displayName&&t(w.displayName);const E=await Wc($n(re,"users",w.uid));if(E.exists()){const A=E.data();a(A.role??null),i(A.company??"")}else a(null),i("")}else t(""),a(null),i("")});return()=>_()},[]);const c=()=>{qV(ta).then(()=>{l("/")}).catch(_=>{alert("로그아웃 중 오류가 발생했습니다: "+_.message)})},h=_=>{switch(_){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}},f=B.useMemo(()=>{const _=String(n??"").trim().replace(/\s+/g,"").toLowerCase();return _==="homeplus"?OT.HOMEPLUS:_==="nsmall"||_==="n-small"?OT.NSMALL:null},[n]),p=f==="homeplus"?CU:f==="nsmall"?DU:null,y=!!p;return v.jsxs(NU,{children:[v.jsxs(LU,{$hasLogo:y,children:[y&&v.jsx(VU,{children:v.jsx(jU,{src:p,alt:"company logo"})}),v.jsx(MU,{userRole:s})]}),v.jsxs(UU,{children:[v.jsxs(zU,{children:[v.jsx(BU,{children:e}),"님(",h(s),") ",n,"환영합니다."]}),v.jsx(FU,{onClick:c,children:"로그아웃"}),v.jsx(qU,{})]})]})}const NU=H.header`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 64px;
  padding: 0 48px;
  font-family: 'Pretendard';
  background-color: ${({theme:e})=>e.colors.black};
`,LU=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: ${({$hasLogo:e})=>e?"0 10px":"0"};
`,VU=H.div`
  width: 120px;
`,jU=H.img`
  width: 100%;
  vertical-align: sub;
`,UU=H.div``,zU=H.span`
  margin-right: 24px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,BU=H.span`
  font-weight: 700;
`,FU=H.button`
  padding: 5px 10px;
  border: 1px solid ${({theme:e})=>e.colors.white01};
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,qU=H.span`
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,Kv=""+new URL("url-icon-DJKri2bW.svg",import.meta.url).href;function $U({item:e,index:t,disableActions:n,onReviewComplete:i,onCancel:s,onEditClick:a,onDetailClick:l}){const c=f=>{if(!f)return"-";if(f.toDate){const p=f.toDate();return`${p.getMonth()+1}/${p.getDate()}`}return f},h=f=>{f.stopPropagation(),l(e)};return v.jsxs(HU,{isCanceled:e.status==="취소",children:[v.jsx(Ji,{children:t}),v.jsx(Ji,{children:v.jsx(QU,{onClick:h,$hasUpdate:!!e.updated_date,children:e.design_request_id})}),v.jsx(Ji,{children:c(e.request_date)}),v.jsx(WU,{children:c(e.completion_date)}),v.jsx(YU,{children:c(e.open_date)}),v.jsx(Ji,{children:e.merchandiser}),v.jsx(Ji,{children:e.task_form}),v.jsx(GU,{children:v.jsxs(ZU,{children:[v.jsx(JU,{children:e.task_type}),v.jsx(tz,{children:e.task_type_detail})]})}),v.jsx(KU,{children:v.jsxs(ez,{children:[e.emergency?v.jsx(rM,{children:"긴급"}):"",v.jsx(nz,{onClick:h,children:e.requirement})]})}),v.jsx(Ji,{children:v.jsx(PT,{href:e.url,target:"_blank"})}),v.jsx(XU,{children:v.jsx(iz,{onClick:h,children:e.note||""})}),v.jsx(Ji,{children:v.jsx(sz,{status:e.status,children:e.status==="검수요청"?"진행중":e.status||"대기"})}),v.jsx(Ji,{children:e.assigned_designer||"미배정"}),v.jsx(Ji,{children:e.manager_review_status==="검수완료"&&e.result_url?v.jsx(PT,{href:e.result_url,target:"_blank"}):""}),v.jsx(Ji,{children:e.manager_review_status==="검수완료"?e.status!=="완료"?v.jsx(aM,{onClick:()=>i(e.id),disabled:n,children:"검수완료"}):v.jsx(rz,{children:"검수완료"}):""}),v.jsx(Ji,{children:v.jsx(oM,{onClick:()=>a(e.id),disabled:n||e.status==="취소"||e.status==="완료",children:"수정"})}),v.jsx(Ji,{children:v.jsx(lM,{onClick:()=>s(e.id),disabled:n||e.status==="취소"||e.status==="완료",children:"취소"})})]})}const HU=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
    
  ${({isCanceled:e,theme:t})=>e&&`
      ${rM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${aM}, ${oM}, ${lM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }

  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }
`,Ji=H.td`
  padding: 15px 0;

  &:first-of-type {
    border-left: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,WU=H.td`
  color: ${({theme:e})=>e.colors.red};
`,YU=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,GU=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,KU=H.td`
  line-height: 15px;
  text-align: left;
`,XU=H.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,QU=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,ZU=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,JU=H.span`
  
`,tz=H.span`
  
`,ez=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,nz=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,rM=H.span`
  margin-right: 8px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,PT=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${Kv}) no-repeat center / contain;
`,iz=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
  text-overflow: ellipsis;
  white-space: normal;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,sz=H.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.blue02;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.lightpupple;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,aM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: green;
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,rz=H.span`
  color: green;
  font-weight: bold;
`,oM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,lM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function NT({data:e,disableActions:t,onReviewComplete:n,onCancel:i,onEditClick:s,onDetailClick:a}){return v.jsx(az,{children:v.jsxs(oz,{children:[v.jsx(lz,{children:"요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"180px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Bn,{children:"번호"}),v.jsx(Bn,{children:"문서번호"}),v.jsx(Bn,{children:"요청일"}),v.jsxs(Bn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Bn,{children:"오픈일"}),v.jsx(Bn,{children:"담당MD"}),v.jsx(Bn,{children:"업무부서"}),v.jsx(Bn,{children:"업무유형"}),v.jsx(Bn,{children:"작업항목"}),v.jsx(Bn,{children:"요청서 URL"}),v.jsx(Bn,{children:"메모"}),v.jsx(Bn,{children:"진행상태"}),v.jsx(Bn,{children:"디자이너"}),v.jsx(Bn,{children:"산출물 URL"}),v.jsx(Bn,{children:"검수"}),v.jsx(Bn,{children:"수정"}),v.jsx(Bn,{children:"취소"})]})}),v.jsx("tbody",{children:e.length>0?e.map((l,c)=>v.jsx($U,{index:c+1,item:l,disableActions:t,onReviewComplete:n,onCancel:i,onEditClick:s,onDetailClick:a},l.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:17,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})})}const az=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,oz=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,lz=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Bn=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,cz={dashboard:"전체 현황",myrequestlist:"나의 요청 리스트",allrequestlist:"전체 요청 리스트",inworkhour:"내부 공수"};function Xv(){const[e]=G0(),t=e.get("view")||"dashboard",n=new Date,i=n.getFullYear(),s=n.getMonth()+1;return v.jsx(uz,{children:v.jsxs(hz,{children:[i,"년 ",s,"월 디자인 ",cz[t]]})})}const uz=H.div`
  padding: 29px 48px;
  background-color: ${({theme:e})=>e.colors.gray08};
`,hz=H.h2`
  font-family: 'Pretendard';
  font-size: 36px;
  font-weight: 700;
`,Qv=""+new URL("selectbox-arrow-BwC8UGU0.svg",import.meta.url).href;function fz(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const ob={},Lh={};function nl(e,t){try{const i=(ob[e]||(ob[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return i in Lh?Lh[i]:LT(i,i.split(":"))}catch{if(e in Lh)return Lh[e];const n=e==null?void 0:e.match(dz);return n?LT(e,n.slice(1)):NaN}}const dz=/([+-]\d\d):?(\d\d)?/;function LT(e,t){const n=+(t[0]||0),i=+(t[1]||0),s=+(t[2]||0)/60;return Lh[e]=n*60+i>0?n*60+i+s:n*60-i-s}class Ws extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(nl(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),cM(this),w0(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Ws(...n,t):new Ws(Date.now(),t)}withTimeZone(t){return new Ws(+this,t)}getTimezoneOffset(){const t=-nl(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),w0(this),+this}[Symbol.for("constructDateFrom")](t){return new Ws(+new Date(t),this.timeZone)}}const VT=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!VT.test(e))return;const t=e.replace(VT,"$1UTC");Ws.prototype[t]&&(e.startsWith("get")?Ws.prototype[e]=function(){return this.internal[t]()}:(Ws.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),pz(this),+this},Ws.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),w0(this),+this}))});function w0(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-nl(e.timeZone,e)*60))}function pz(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),cM(e)}function cM(e){const t=nl(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),i=new Date(+e);i.setUTCHours(i.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),a=-new Date(+i).getTimezoneOffset(),l=s-a,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const h=s-n;h&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const f=new Date(+e);f.setUTCSeconds(0);const p=s>0?f.getSeconds():(f.getSeconds()-60)%60,y=Math.round(-(nl(e.timeZone,e)*60))%60;(y||p)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+y),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+y+p));const _=nl(e.timeZone,e),w=_>0?Math.floor(_):Math.ceil(_),A=-new Date(+e).getTimezoneOffset()-w,S=w!==n,C=A-h;if(S&&C){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+C);const O=nl(e.timeZone,e),M=O>0?Math.floor(O):Math.ceil(O),q=w-M;q&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+q),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+q))}}class Jn extends Ws{static tz(t,...n){return n.length?new Jn(...n,t):new Jn(Date.now(),t)}toISOString(){const[t,n,i]=this.tzComponents(),s=`${t}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,i,s]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${i} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,i,s]=this.tzComponents();return`${t} GMT${n}${i}${s} (${fz(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,i,s]}withTimeZone(t){return new Jn(+this,t)}[Symbol.for("constructDateFrom")](t){return new Jn(+new Date(t),this.timeZone)}}const uM=6048e5,gz=864e5,jT=Symbol.for("constructDateFrom");function xn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&jT in e?e[jT](t):e instanceof Date?new e.constructor(t):new Date(t)}function Se(e,t){return xn(t||e,e)}function hM(e,t,n){const i=Se(e,n==null?void 0:n.in);return isNaN(t)?xn(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function fM(e,t,n){const i=Se(e,n==null?void 0:n.in);if(isNaN(t))return xn(e,NaN);if(!t)return i;const s=i.getDate(),a=xn(e,i.getTime());a.setMonth(i.getMonth()+t+1,0);const l=a.getDate();return s>=l?a:(i.setFullYear(a.getFullYear(),a.getMonth(),s),i)}let mz={};function Hf(){return mz}function Yc(e,t){var c,h,f,p;const n=Hf(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=Se(e,t==null?void 0:t.in),a=s.getDay(),l=(a<i?7:0)+a-i;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function vf(e,t){return Yc(e,{...t,weekStartsOn:1})}function dM(e,t){const n=Se(e,t==null?void 0:t.in),i=n.getFullYear(),s=xn(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const a=vf(s),l=xn(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const c=vf(l);return n.getTime()>=a.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function UT(e){const t=Se(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hu(e,...t){const n=xn.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function xf(e,t){const n=Se(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function pM(e,t,n){const[i,s]=hu(n==null?void 0:n.in,e,t),a=xf(i),l=xf(s),c=+a-UT(a),h=+l-UT(l);return Math.round((c-h)/gz)}function yz(e,t){const n=dM(e,t),i=xn(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),vf(i)}function _z(e,t,n){return hM(e,t*7,n)}function bz(e,t,n){return fM(e,t*12,n)}function vz(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=xn.bind(null,s));const a=Se(s,i);(!n||n<a||isNaN(+a))&&(n=a)}),xn(i,n||NaN)}function xz(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=xn.bind(null,s));const a=Se(s,i);(!n||n>a||isNaN(+a))&&(n=a)}),xn(i,n||NaN)}function wz(e,t,n){const[i,s]=hu(n==null?void 0:n.in,e,t);return+xf(i)==+xf(s)}function gM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ez(e){return!(!gM(e)&&typeof e!="number"||isNaN(+Se(e)))}function Sz(e,t,n){const[i,s]=hu(n==null?void 0:n.in,e,t),a=i.getFullYear()-s.getFullYear(),l=i.getMonth()-s.getMonth();return a*12+l}function Tz(e,t){const n=Se(e,t==null?void 0:t.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function Az(e,t){const[n,i]=hu(e,t.start,t.end);return{start:n,end:i}}function Rz(e,t){const{start:n,end:i}=Az(t==null?void 0:t.in,e);let s=+n>+i;const a=s?+n:+i,l=s?i:n;l.setHours(0,0,0,0),l.setDate(1);let c=1;const h=[];for(;+l<=a;)h.push(xn(n,l)),l.setMonth(l.getMonth()+c);return s?h.reverse():h}function kz(e,t){const n=Se(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Cz(e,t){const n=Se(e,t==null?void 0:t.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function mM(e,t){const n=Se(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function yM(e,t){var c,h,f,p;const n=Hf(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=Se(e,t==null?void 0:t.in),a=s.getDay(),l=(a<i?-7:0)+6-(a-i);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function Dz(e,t){return yM(e,{...t,weekStartsOn:1})}const Mz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Iz=(e,t,n)=>{let i;const s=Mz[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function lb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Oz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lz={date:lb({formats:Oz,defaultWidth:"full"}),time:lb({formats:Pz,defaultWidth:"full"}),dateTime:lb({formats:Nz,defaultWidth:"full"})},Vz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jz=(e,t,n,i)=>Vz[e];function mh(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Uz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$z={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hz=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Wz={ordinalNumber:Hz,era:mh({values:Uz,defaultWidth:"wide"}),quarter:mh({values:zz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mh({values:Bz,defaultWidth:"wide"}),day:mh({values:Fz,defaultWidth:"wide"}),dayPeriod:mh({values:qz,defaultWidth:"wide",formattingValues:$z,defaultFormattingWidth:"wide"})};function yh(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const l=a[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?Gz(c,y=>y.test(l)):Yz(c,y=>y.test(l));let f;f=e.valueCallback?e.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(l.length);return{value:f,rest:p}}}function Yz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Gz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Kz(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const Xz=/^(\d+)(th|st|nd|rd)?/i,Qz=/\d+/i,Zz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jz={any:[/^b/i,/^(a|c)/i]},t9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},e9={any:[/1/i,/2/i,/3/i,/4/i]},n9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},i9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},s9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},a9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l9={ordinalNumber:Kz({matchPattern:Xz,parsePattern:Qz,valueCallback:e=>parseInt(e,10)}),era:yh({matchPatterns:Zz,defaultMatchWidth:"wide",parsePatterns:Jz,defaultParseWidth:"any"}),quarter:yh({matchPatterns:t9,defaultMatchWidth:"wide",parsePatterns:e9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yh({matchPatterns:n9,defaultMatchWidth:"wide",parsePatterns:i9,defaultParseWidth:"any"}),day:yh({matchPatterns:s9,defaultMatchWidth:"wide",parsePatterns:r9,defaultParseWidth:"any"}),dayPeriod:yh({matchPatterns:a9,defaultMatchWidth:"any",parsePatterns:o9,defaultParseWidth:"any"})},Zv={code:"en-US",formatDistance:Iz,formatLong:Lz,formatRelative:jz,localize:Wz,match:l9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c9(e,t){const n=Se(e,t==null?void 0:t.in);return pM(n,mM(n))+1}function _M(e,t){const n=Se(e,t==null?void 0:t.in),i=+vf(n)-+yz(n);return Math.round(i/uM)+1}function bM(e,t){var p,y,_,w;const n=Se(e,t==null?void 0:t.in),i=n.getFullYear(),s=Hf(),a=(t==null?void 0:t.firstWeekContainsDate)??((y=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(_=s.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,l=xn((t==null?void 0:t.in)||e,0);l.setFullYear(i+1,0,a),l.setHours(0,0,0,0);const c=Yc(l,t),h=xn((t==null?void 0:t.in)||e,0);h.setFullYear(i,0,a),h.setHours(0,0,0,0);const f=Yc(h,t);return+n>=+c?i+1:+n>=+f?i:i-1}function u9(e,t){var c,h,f,p;const n=Hf(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=bM(e,t),a=xn((t==null?void 0:t.in)||e,0);return a.setFullYear(s,0,i),a.setHours(0,0,0,0),Yc(a,t)}function vM(e,t){const n=Se(e,t==null?void 0:t.in),i=+Yc(n,t)-+u9(n,t);return Math.round(i/uM)+1}function _e(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const Na={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return _e(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):_e(n+1,2)},d(e,t){return _e(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return _e(e.getHours()%12||12,t.length)},H(e,t){return _e(e.getHours(),t.length)},m(e,t){return _e(e.getMinutes(),t.length)},s(e,t){return _e(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return _e(s,t.length)}},mc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zT={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return Na.y(e,t)},Y:function(e,t,n,i){const s=bM(e,i),a=s>0?s:1-s;if(t==="YY"){const l=a%100;return _e(l,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):_e(a,t.length)},R:function(e,t){const n=dM(e);return _e(n,t.length)},u:function(e,t){const n=e.getFullYear();return _e(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return _e(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return _e(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Na.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return _e(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=vM(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):_e(s,t.length)},I:function(e,t,n){const i=_M(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):_e(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Na.d(e,t)},D:function(e,t,n){const i=c9(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):_e(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return _e(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return _e(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return _e(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=mc.noon:i===0?s=mc.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=mc.evening:i>=12?s=mc.afternoon:i>=4?s=mc.morning:s=mc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Na.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Na.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):_e(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):_e(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Na.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Na.s(e,t)},S:function(e,t){return Na.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return FT(i);case"XXXX":case"XX":return Qo(i);case"XXXXX":case"XXX":default:return Qo(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return FT(i);case"xxxx":case"xx":return Qo(i);case"xxxxx":case"xxx":default:return Qo(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+BT(i,":");case"OOOO":default:return"GMT"+Qo(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+BT(i,":");case"zzzz":default:return"GMT"+Qo(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return _e(i,t.length)},T:function(e,t,n){return _e(+e,t.length)}};function BT(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),a=i%60;return a===0?n+String(s):n+String(s)+t+_e(a,2)}function FT(e,t){return e%60===0?(e>0?"-":"+")+_e(Math.abs(e)/60,2):Qo(e,t)}function Qo(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=_e(Math.trunc(i/60),2),a=_e(i%60,2);return n+s+t+a}const qT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},h9=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return qT(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",qT(i,t)).replace("{{time}}",xM(s,t))},f9={p:xM,P:h9},d9=/^D+$/,p9=/^Y+$/,g9=["D","DD","YY","YYYY"];function m9(e){return d9.test(e)}function y9(e){return p9.test(e)}function _9(e,t,n){const i=b9(e,t,n);if(console.warn(i),g9.includes(e))throw new RangeError(i)}function b9(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const v9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w9=/^'([^]*?)'?$/,E9=/''/g,S9=/[a-zA-Z]/;function T9(e,t,n){var p,y,_,w,E,A,S,C;const i=Hf(),s=(n==null?void 0:n.locale)??i.locale??Zv,a=(n==null?void 0:n.firstWeekContainsDate)??((y=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(_=i.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((A=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((C=(S=i.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,c=Se(e,n==null?void 0:n.in);if(!Ez(c))throw new RangeError("Invalid time value");let h=t.match(x9).map(O=>{const M=O[0];if(M==="p"||M==="P"){const q=f9[M];return q(O,s.formatLong)}return O}).join("").match(v9).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const M=O[0];if(M==="'")return{isToken:!1,value:A9(O)};if(zT[M])return{isToken:!0,value:O};if(M.match(S9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:O}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return h.map(O=>{if(!O.isToken)return O.value;const M=O.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&y9(M)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&m9(M))&&_9(M,t,String(e));const q=zT[M[0]];return q(c,M,s.localize,f)}).join("")}function A9(e){const t=e.match(w9);return t?t[1].replace(E9,"'"):e}function R9(e,t){const n=Se(e,t==null?void 0:t.in),i=n.getFullYear(),s=n.getMonth(),a=xn(n,0);return a.setFullYear(i,s+1,0),a.setHours(0,0,0,0),a.getDate()}function k9(e,t){return Se(e,t==null?void 0:t.in).getMonth()}function C9(e,t){return Se(e,t==null?void 0:t.in).getFullYear()}function D9(e,t){return+Se(e)>+Se(t)}function M9(e,t){return+Se(e)<+Se(t)}function I9(e,t,n){const[i,s]=hu(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function O9(e,t,n){const[i,s]=hu(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()}function P9(e,t,n){const i=Se(e,n==null?void 0:n.in),s=i.getFullYear(),a=i.getDate(),l=xn(e,0);l.setFullYear(s,t,15),l.setHours(0,0,0,0);const c=R9(l);return i.setMonth(t,Math.min(a,c)),i}function N9(e,t,n){const i=Se(e,n==null?void 0:n.in);return isNaN(+i)?xn(e,NaN):(i.setFullYear(t),i)}const $T=5,L9=4;function V9(e,t){const n=t.startOfMonth(e),i=n.getDay()>0?n.getDay():7,s=t.addDays(e,-i+1),a=t.addDays(s,$T*7-1);return t.getMonth(e)===t.getMonth(a)?$T:L9}function wM(e,t){const n=t.startOfMonth(e),i=n.getDay();return i===1?n:i===0?t.addDays(n,-6):t.addDays(n,-1*(i-1))}function j9(e,t){const n=wM(e,t),i=V9(e,t);return t.addDays(n,i*7-1)}class sa{constructor(t,n){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?Jn.tz(this.options.timeZone):new this.Date},this.newDate=(i,s,a)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(i,s,a):this.options.timeZone?new Jn(i,s,a,this.options.timeZone):new Date(i,s,a)},this.addDays=(i,s)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(i,s):hM(i,s)},this.addMonths=(i,s)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(i,s):fM(i,s)},this.addWeeks=(i,s)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(i,s):_z(i,s)},this.addYears=(i,s)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(i,s):bz(i,s)},this.differenceInCalendarDays=(i,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):pM(i,s)},this.differenceInCalendarMonths=(i,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):Sz(i,s)},this.eachMonthOfInterval=i=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):Rz(i)},this.endOfBroadcastWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):j9(i,this)},this.endOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(i):Dz(i)},this.endOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(i):Tz(i)},this.endOfWeek=(i,s)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(i,s):yM(i,this.options)},this.endOfYear=i=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(i):Cz(i)},this.format=(i,s,a)=>{var c;const l=(c=this.overrides)!=null&&c.format?this.overrides.format(i,s,this.options):T9(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(i):_M(i)},this.getMonth=(i,s)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(i,this.options):k9(i,this.options)},this.getYear=(i,s)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(i,this.options):C9(i,this.options)},this.getWeek=(i,s)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(i,this.options):vM(i,this.options)},this.isAfter=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(i,s):D9(i,s)},this.isBefore=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(i,s):M9(i,s)},this.isDate=i=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(i):gM(i)},this.isSameDay=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(i,s):wz(i,s)},this.isSameMonth=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(i,s):I9(i,s)},this.isSameYear=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(i,s):O9(i,s)},this.max=i=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(i):vz(i)},this.min=i=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(i):xz(i)},this.setMonth=(i,s)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(i,s):P9(i,s)},this.setYear=(i,s)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(i,s):N9(i,s)},this.startOfBroadcastWeek=(i,s)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):wM(i,this)},this.startOfDay=i=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(i):xf(i)},this.startOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(i):vf(i)},this.startOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(i):kz(i)},this.startOfWeek=(i,s)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(i,this.options):Yc(i,this.options)},this.startOfYear=i=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(i):mM(i)},this.options={locale:Zv,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let s=0;s<10;s++)i[s.toString()]=n.format(s);return i}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,i=>n[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}}const ir=new sa;class EM{constructor(t,n,i=ir){this.date=t,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(t,n)),this.dateLib=i}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class U9{constructor(t,n){this.date=t,this.weeks=n}}class z9{constructor(t,n){this.days=n,this.weekNumber=t}}function B9(e){return _t.createElement("button",{...e})}function F9(e){return _t.createElement("span",{...e})}function q9(e){const{size:t=24,orientation:n="left",className:i}=e;return _t.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&_t.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&_t.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&_t.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&_t.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function $9(e){const{day:t,modifiers:n,...i}=e;return _t.createElement("td",{...i})}function H9(e){const{day:t,modifiers:n,...i}=e,s=_t.useRef(null);return _t.useEffect(()=>{var a;n.focused&&((a=s.current)==null||a.focus())},[n.focused]),_t.createElement("button",{ref:s,...i})}var Rt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Rt||(Rt={}));var Fe;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Fe||(Fe={}));var ds;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(ds||(ds={}));var Ni;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Ni||(Ni={}));function W9(e){const{options:t,className:n,components:i,classNames:s,...a}=e,l=[s[Rt.Dropdown],n].join(" "),c=t==null?void 0:t.find(({value:h})=>h===a.value);return _t.createElement("span",{"data-disabled":a.disabled,className:s[Rt.DropdownRoot]},_t.createElement(i.Select,{className:l,...a},t==null?void 0:t.map(({value:h,label:f,disabled:p})=>_t.createElement(i.Option,{key:h,value:h,disabled:p},f))),_t.createElement("span",{className:s[Rt.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,_t.createElement(i.Chevron,{orientation:"down",size:18,className:s[Rt.Chevron]})))}function Y9(e){return _t.createElement("div",{...e})}function G9(e){return _t.createElement("div",{...e})}function K9(e){const{calendarMonth:t,displayIndex:n,...i}=e;return _t.createElement("div",{...i},e.children)}function X9(e){const{calendarMonth:t,displayIndex:n,...i}=e;return _t.createElement("div",{...i})}function Q9(e){return _t.createElement("table",{...e})}function Z9(e){return _t.createElement("div",{...e})}const SM=B.createContext(void 0);function Wf(){const e=B.useContext(SM);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function J9(e){const{components:t}=Wf();return _t.createElement(t.Dropdown,{...e})}function tB(e){const{onPreviousClick:t,onNextClick:n,previousMonth:i,nextMonth:s,...a}=e,{components:l,classNames:c,labels:{labelPrevious:h,labelNext:f}}=Wf(),p=B.useCallback(_=>{s&&(n==null||n(_))},[s,n]),y=B.useCallback(_=>{i&&(t==null||t(_))},[i,t]);return _t.createElement("nav",{...a},_t.createElement(l.PreviousMonthButton,{type:"button",className:c[Rt.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":h(i),onClick:y},_t.createElement(l.Chevron,{disabled:i?void 0:!0,className:c[Rt.Chevron],orientation:"left"})),_t.createElement(l.NextMonthButton,{type:"button",className:c[Rt.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:p},_t.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:c[Rt.Chevron]})))}function eB(e){const{components:t}=Wf();return _t.createElement(t.Button,{...e})}function nB(e){return _t.createElement("option",{...e})}function iB(e){const{components:t}=Wf();return _t.createElement(t.Button,{...e})}function sB(e){const{rootRef:t,...n}=e;return _t.createElement("div",{...n,ref:t})}function rB(e){return _t.createElement("select",{...e})}function aB(e){const{week:t,...n}=e;return _t.createElement("tr",{...n})}function oB(e){return _t.createElement("th",{...e})}function lB(e){return _t.createElement("thead",{"aria-hidden":!0},_t.createElement("tr",{...e}))}function cB(e){const{week:t,...n}=e;return _t.createElement("th",{...n})}function uB(e){return _t.createElement("th",{...e})}function hB(e){return _t.createElement("tbody",{...e})}function fB(e){const{components:t}=Wf();return _t.createElement(t.Dropdown,{...e})}const dB=Object.freeze(Object.defineProperty({__proto__:null,Button:B9,CaptionLabel:F9,Chevron:q9,Day:$9,DayButton:H9,Dropdown:W9,DropdownNav:Y9,Footer:G9,Month:K9,MonthCaption:X9,MonthGrid:Q9,Months:Z9,MonthsDropdown:J9,Nav:tB,NextMonthButton:eB,Option:nB,PreviousMonthButton:iB,Root:sB,Select:rB,Week:aB,WeekNumber:cB,WeekNumberHeader:uB,Weekday:oB,Weekdays:lB,Weeks:hB,YearsDropdown:fB},Symbol.toStringTag,{value:"Module"}));function zr(e,t,n=!1,i=ir){let{from:s,to:a}=e;const{differenceInCalendarDays:l,isSameDay:c}=i;return s&&a?(l(a,s)<0&&([s,a]=[a,s]),l(t,s)>=(n?1:0)&&l(a,t)>=(n?1:0)):!n&&a?c(a,t):!n&&s?c(s,t):!1}function TM(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Jv(e){return!!(e&&typeof e=="object"&&"from"in e)}function AM(e){return!!(e&&typeof e=="object"&&"after"in e)}function RM(e){return!!(e&&typeof e=="object"&&"before"in e)}function kM(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function CM(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Br(e,t,n=ir){const i=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:a,isAfter:l}=n;return i.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return s(e,c);if(CM(c,n))return c.includes(e);if(Jv(c))return zr(c,e,!1,n);if(kM(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(TM(c)){const h=a(c.before,e),f=a(c.after,e),p=h>0,y=f<0;return l(c.before,c.after)?y&&p:p||y}return AM(c)?a(e,c.after)>0:RM(c)?a(c.before,e)>0:typeof c=="function"?c(e):!1})}function pB(e,t,n,i,s){const{disabled:a,hidden:l,modifiers:c,showOutsideDays:h,broadcastCalendar:f,today:p}=t,{isSameDay:y,isSameMonth:_,startOfMonth:w,isBefore:E,endOfMonth:A,isAfter:S}=s,C=n&&w(n),O=i&&A(i),M={[Fe.focused]:[],[Fe.outside]:[],[Fe.disabled]:[],[Fe.hidden]:[],[Fe.today]:[]},q={};for(const L of e){const{date:Y,displayMonth:D}=L,k=!!(D&&!_(Y,D)),V=!!(C&&E(Y,C)),z=!!(O&&S(Y,O)),F=!!(a&&Br(Y,a,s)),N=!!(l&&Br(Y,l,s))||V||z||!f&&!h&&k||f&&h===!1&&k,P=y(Y,p??s.today());k&&M.outside.push(L),F&&M.disabled.push(L),N&&M.hidden.push(L),P&&M.today.push(L),c&&Object.keys(c).forEach(bt=>{const ot=c==null?void 0:c[bt];ot&&Br(Y,ot,s)&&(q[bt]?q[bt].push(L):q[bt]=[L])})}return L=>{const Y={[Fe.focused]:!1,[Fe.disabled]:!1,[Fe.hidden]:!1,[Fe.outside]:!1,[Fe.today]:!1},D={};for(const k in M){const V=M[k];Y[k]=V.some(z=>z===L)}for(const k in q)D[k]=q[k].some(V=>V===L);return{...Y,...D}}}function gB(e,t,n={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[a])=>(n[a]?s.push(n[a]):t[Fe[a]]?s.push(t[Fe[a]]):t[ds[a]]&&s.push(t[ds[a]]),s),[t[Rt.Day]])}function mB(e){return{...dB,...e}}function yB(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,i])=>{n.startsWith("data-")&&(t[n]=i)}),t}function _B(){const e={};for(const t in Rt)e[Rt[t]]=`rdp-${Rt[t]}`;for(const t in Fe)e[Fe[t]]=`rdp-${Fe[t]}`;for(const t in ds)e[ds[t]]=`rdp-${ds[t]}`;for(const t in Ni)e[Ni[t]]=`rdp-${Ni[t]}`;return e}function DM(e,t,n){return(n??new sa(t)).format(e,"LLLL y")}const bB=DM;function vB(e,t,n){return(n??new sa(t)).format(e,"d")}function xB(e,t=ir){return t.format(e,"LLLL")}function wB(e,t,n){return(n??new sa(t)).format(e,"cccccc")}function EB(e,t=ir){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function SB(){return""}function MM(e,t=ir){return t.format(e,"yyyy")}const TB=MM,AB=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:DM,formatDay:vB,formatMonthCaption:bB,formatMonthDropdown:xB,formatWeekNumber:EB,formatWeekNumberHeader:SB,formatWeekdayName:wB,formatYearCaption:TB,formatYearDropdown:MM},Symbol.toStringTag,{value:"Module"}));function RB(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...AB,...e}}function kB(e,t,n,i,s){const{startOfMonth:a,startOfYear:l,endOfYear:c,eachMonthOfInterval:h,getMonth:f}=s;return h({start:l(e),end:c(e)}).map(_=>{const w=i.formatMonthDropdown(_,s),E=f(_),A=t&&_<a(t)||n&&_>a(n)||!1;return{value:E,label:w,disabled:A}})}function CB(e,t={},n={}){let i={...t==null?void 0:t[Rt.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...n==null?void 0:n[s]}}),i}function DB(e,t,n){const i=e.today(),s=t?e.startOfISOWeek(i):e.startOfWeek(i),a=[];for(let l=0;l<7;l++){const c=e.addDays(s,l);a.push(c)}return a}function MB(e,t,n,i,s=!1){if(!e||!t)return;const{startOfYear:a,endOfYear:l,addYears:c,getYear:h,isBefore:f,isSameYear:p}=i,y=a(e),_=l(t),w=[];let E=y;for(;f(E,_)||p(E,_);)w.push(E),E=c(E,1);return s&&w.reverse(),w.map(A=>{const S=n.formatYearDropdown(A,i);return{value:h(A),label:S,disabled:!1}})}function IM(e,t,n,i){let s=(i??new sa(n)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const IB=IM;function OM(e,t,n){return(n??new sa(t)).format(e,"LLLL y")}const OB=OM;function PB(e,t,n,i){let s=(i??new sa(n)).format(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s}function NB(e){return"Choose the Month"}function LB(){return""}function VB(e){return"Go to the Next Month"}function jB(e){return"Go to the Previous Month"}function UB(e,t,n){return(n??new sa(t)).format(e,"cccc")}function zB(e,t){return`Week ${e}`}function BB(e){return"Week Number"}function FB(e){return"Choose the Year"}const qB=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:OB,labelDay:IB,labelDayButton:IM,labelGrid:OM,labelGridcell:PB,labelMonthDropdown:NB,labelNav:LB,labelNext:VB,labelPrevious:jB,labelWeekNumber:zB,labelWeekNumberHeader:BB,labelWeekday:UB,labelYearDropdown:FB},Symbol.toStringTag,{value:"Module"})),Yf=e=>e instanceof HTMLElement?e:null,cb=e=>[...e.querySelectorAll("[data-animated-month]")??[]],$B=e=>Yf(e.querySelector("[data-animated-month]")),ub=e=>Yf(e.querySelector("[data-animated-caption]")),hb=e=>Yf(e.querySelector("[data-animated-weeks]")),HB=e=>Yf(e.querySelector("[data-animated-nav]")),WB=e=>Yf(e.querySelector("[data-animated-weekdays]"));function YB(e,t,{classNames:n,months:i,focused:s,dateLib:a}){const l=B.useRef(null),c=B.useRef(i),h=B.useRef(!1);B.useLayoutEffect(()=>{const f=c.current;if(c.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||i.length===0||f.length===0||i.length!==f.length)return;const p=a.isSameMonth(i[0].date,f[0].date),y=a.isAfter(i[0].date,f[0].date),_=y?n[Ni.caption_after_enter]:n[Ni.caption_before_enter],w=y?n[Ni.weeks_after_enter]:n[Ni.weeks_before_enter],E=l.current,A=e.current.cloneNode(!0);if(A instanceof HTMLElement?(cb(A).forEach(M=>{if(!(M instanceof HTMLElement))return;const q=$B(M);q&&M.contains(q)&&M.removeChild(q);const L=ub(M);L&&L.classList.remove(_);const Y=hb(M);Y&&Y.classList.remove(w)}),l.current=A):l.current=null,h.current||p||s)return;const S=E instanceof HTMLElement?cb(E):[],C=cb(e.current);if(C!=null&&C.every(O=>O instanceof HTMLElement)&&S&&S.every(O=>O instanceof HTMLElement)){h.current=!0,e.current.style.isolation="isolate";const O=HB(e.current);O&&(O.style.zIndex="1"),C.forEach((M,q)=>{const L=S[q];if(!L)return;M.style.position="relative",M.style.overflow="hidden";const Y=ub(M);Y&&Y.classList.add(_);const D=hb(M);D&&D.classList.add(w);const k=()=>{h.current=!1,e.current&&(e.current.style.isolation=""),O&&(O.style.zIndex=""),Y&&Y.classList.remove(_),D&&D.classList.remove(w),M.style.position="",M.style.overflow="",M.contains(L)&&M.removeChild(L)};L.style.pointerEvents="none",L.style.position="absolute",L.style.overflow="hidden",L.setAttribute("aria-hidden","true");const V=WB(L);V&&(V.style.opacity="0");const z=ub(L);z&&(z.classList.add(y?n[Ni.caption_before_exit]:n[Ni.caption_after_exit]),z.addEventListener("animationend",k));const F=hb(L);F&&F.classList.add(y?n[Ni.weeks_before_exit]:n[Ni.weeks_after_exit]),M.insertBefore(L,M.firstChild)})}})}function GB(e,t,n,i){const s=e[0],a=e[e.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:f,differenceInCalendarDays:p,differenceInCalendarMonths:y,endOfBroadcastWeek:_,endOfISOWeek:w,endOfMonth:E,endOfWeek:A,isAfter:S,startOfBroadcastWeek:C,startOfISOWeek:O,startOfWeek:M}=i,q=h?C(s,i):l?O(s):M(s),L=h?_(a):l?w(E(a)):A(E(a)),Y=p(L,q),D=y(a,s)+1,k=[];for(let F=0;F<=Y;F++){const N=f(q,F);if(t&&S(N,t))break;k.push(N)}const z=(h?35:42)*D;if(c&&k.length<z){const F=z-k.length;for(let N=0;N<F;N++){const P=f(k[k.length-1],1);k.push(P)}}return k}function KB(e){const t=[];return e.reduce((n,i)=>{const s=i.weeks.reduce((a,l)=>a.concat(l.days.slice()),t.slice());return n.concat(s.slice())},t.slice())}function XB(e,t,n,i){const{numberOfMonths:s=1}=n,a=[];for(let l=0;l<s;l++){const c=i.addMonths(e,l);if(t&&c>t)break;a.push(c)}return a}function HT(e,t,n,i){const{month:s,defaultMonth:a,today:l=i.today(),numberOfMonths:c=1}=e;let h=s||a||l;const{differenceInCalendarMonths:f,addMonths:p,startOfMonth:y}=i;if(n&&f(n,h)<c-1){const _=-1*(c-1);h=p(n,_)}return t&&f(h,t)<0&&(h=t),y(h)}function QB(e,t,n,i){const{addDays:s,endOfBroadcastWeek:a,endOfISOWeek:l,endOfMonth:c,endOfWeek:h,getISOWeek:f,getWeek:p,startOfBroadcastWeek:y,startOfISOWeek:_,startOfWeek:w}=i,E=e.reduce((A,S)=>{const C=n.broadcastCalendar?y(S,i):n.ISOWeek?_(S):w(S),O=n.broadcastCalendar?a(S):n.ISOWeek?l(c(S)):h(c(S)),M=t.filter(D=>D>=C&&D<=O),q=n.broadcastCalendar?35:42;if(n.fixedWeeks&&M.length<q){const D=t.filter(k=>{const V=q-M.length;return k>O&&k<=s(O,V)});M.push(...D)}const L=M.reduce((D,k)=>{const V=n.ISOWeek?f(k):p(k),z=D.find(N=>N.weekNumber===V),F=new EM(k,S,i);return z?z.days.push(F):D.push(new z9(V,[F])),D},[]),Y=new U9(S,L);return A.push(Y),A},[]);return n.reverseMonths?E.reverse():E}function ZB(e,t){let{startMonth:n,endMonth:i}=e;const{startOfYear:s,startOfDay:a,startOfMonth:l,endOfMonth:c,addYears:h,endOfYear:f,newDate:p,today:y}=t,{fromYear:_,toYear:w,fromMonth:E,toMonth:A}=e;!n&&E&&(n=E),!n&&_&&(n=t.newDate(_,0,1)),!i&&A&&(i=A),!i&&w&&(i=p(w,11,31));const S=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):_?n=p(_,0,1):!n&&S&&(n=s(h(e.today??y(),-100))),i?i=c(i):w?i=p(w,11,31):!i&&S&&(i=f(e.today??y())),[n&&a(n),i&&a(i)]}function JB(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a=1}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,f=s?a:1,p=l(e);if(!t)return c(p,f);if(!(h(t,e)<a))return c(p,f)}function tF(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,f=s?a??1:1,p=l(e);if(!t)return c(p,-f);if(!(h(p,t)<=0))return c(p,-f)}function eF(e){const t=[];return e.reduce((n,i)=>n.concat(i.weeks.slice()),t.slice())}function Im(e,t){const[n,i]=B.useState(e);return[t===void 0?n:t,i]}function nF(e,t){const[n,i]=ZB(e,t),{startOfMonth:s,endOfMonth:a}=t,l=HT(e,n,i,t),[c,h]=Im(l,e.month?l:void 0);B.useEffect(()=>{const Y=HT(e,n,i,t);h(Y)},[e.timeZone]);const f=XB(c,i,e,t),p=GB(f,e.endMonth?a(e.endMonth):void 0,e,t),y=QB(f,p,e,t),_=eF(y),w=KB(y),E=tF(c,n,e,t),A=JB(c,i,e,t),{disableNavigation:S,onMonthChange:C}=e,O=Y=>_.some(D=>D.days.some(k=>k.isEqualTo(Y))),M=Y=>{if(S)return;let D=s(Y);n&&D<s(n)&&(D=s(n)),i&&D>s(i)&&(D=s(i)),h(D),C==null||C(D)};return{months:y,weeks:_,days:w,navStart:n,navEnd:i,previousMonth:E,nextMonth:A,goToMonth:M,goToDay:Y=>{O(Y)||M(Y.date)}}}var Bs;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Bs||(Bs={}));function WT(e){return!e[Fe.disabled]&&!e[Fe.hidden]&&!e[Fe.outside]}function iF(e,t,n,i){let s,a=-1;for(const l of e){const c=t(l);WT(c)&&(c[Fe.focused]&&a<Bs.FocusedModifier?(s=l,a=Bs.FocusedModifier):i!=null&&i.isEqualTo(l)&&a<Bs.LastFocused?(s=l,a=Bs.LastFocused):n(l.date)&&a<Bs.Selected?(s=l,a=Bs.Selected):c[Fe.today]&&a<Bs.Today&&(s=l,a=Bs.Today))}return s||(s=e.find(l=>WT(t(l)))),s}function sF(e,t,n,i,s,a,l){const{ISOWeek:c,broadcastCalendar:h}=a,{addDays:f,addMonths:p,addWeeks:y,addYears:_,endOfBroadcastWeek:w,endOfISOWeek:E,endOfWeek:A,max:S,min:C,startOfBroadcastWeek:O,startOfISOWeek:M,startOfWeek:q}=l;let Y={day:f,week:y,month:p,year:_,startOfWeek:D=>h?O(D,l):c?M(D):q(D),endOfWeek:D=>h?w(D):c?E(D):A(D)}[e](n,t==="after"?1:-1);return t==="before"&&i?Y=S([i,Y]):t==="after"&&s&&(Y=C([s,Y])),Y}function PM(e,t,n,i,s,a,l,c=0){if(c>365)return;const h=sF(e,t,n.date,i,s,a,l),f=!!(a.disabled&&Br(h,a.disabled,l)),p=!!(a.hidden&&Br(h,a.hidden,l)),y=h,_=new EM(h,y,l);return!f&&!p?_:PM(e,t,_,i,s,a,l,c+1)}function rF(e,t,n,i,s){const{autoFocus:a}=e,[l,c]=B.useState(),h=iF(t.days,n,i||(()=>!1),l),[f,p]=B.useState(a?h:void 0);return{isFocusTarget:A=>!!(h!=null&&h.isEqualTo(A)),setFocused:p,focused:f,blur:()=>{c(f),p(void 0)},moveFocus:(A,S)=>{if(!f)return;const C=PM(A,S,f,t.navStart,t.navEnd,e,s);C&&(t.goToDay(C),p(C))}}}function aF(e,t){const{selected:n,required:i,onSelect:s}=e,[a,l]=Im(n,s?n:void 0),c=s?n:a,{isSameDay:h}=t,f=w=>(c==null?void 0:c.some(E=>h(E,w)))??!1,{min:p,max:y}=e;return{selected:c,select:(w,E,A)=>{let S=[...c??[]];if(f(w)){if((c==null?void 0:c.length)===p||i&&(c==null?void 0:c.length)===1)return;S=c==null?void 0:c.filter(C=>!h(C,w))}else(c==null?void 0:c.length)===y?S=[w]:S=[...S,w];return s||l(S),s==null||s(S,w,E,A),S},isSelected:f}}function oF(e,t,n=0,i=0,s=!1,a=ir){const{from:l,to:c}=t||{},{isSameDay:h,isAfter:f,isBefore:p}=a;let y;if(!l&&!c)y={from:e,to:n>0?void 0:e};else if(l&&!c)h(l,e)?n===0?y={from:l,to:e}:s?y={from:l,to:void 0}:y=void 0:p(e,l)?y={from:e,to:l}:y={from:l,to:e};else if(l&&c)if(h(l,e)&&h(c,e))s?y={from:l,to:c}:y=void 0;else if(h(l,e))y={from:l,to:n>0?void 0:e};else if(h(c,e))y={from:e,to:n>0?void 0:e};else if(p(e,l))y={from:e,to:c};else if(f(e,l))y={from:l,to:e};else if(f(e,c))y={from:l,to:e};else throw new Error("Invalid range");if(y!=null&&y.from&&(y!=null&&y.to)){const _=a.differenceInCalendarDays(y.to,y.from);i>0&&_>i?y={from:e,to:void 0}:n>1&&_<n&&(y={from:e,to:void 0})}return y}function lF(e,t,n=ir){const i=Array.isArray(t)?t:[t];let s=e.from;const a=n.differenceInCalendarDays(e.to,e.from),l=Math.min(a,6);for(let c=0;c<=l;c++){if(i.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function YT(e,t,n=ir){return zr(e,t.from,!1,n)||zr(e,t.to,!1,n)||zr(t,e.from,!1,n)||zr(t,e.to,!1,n)}function cF(e,t,n=ir){const i=Array.isArray(t)?t:[t];if(i.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?zr(e,c,!1,n):CM(c,n)?c.some(h=>zr(e,h,!1,n)):Jv(c)?c.from&&c.to?YT(e,{from:c.from,to:c.to},n):!1:kM(c)?lF(e,c.dayOfWeek,n):TM(c)?n.isAfter(c.before,c.after)?YT(e,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Br(e.from,c,n)||Br(e.to,c,n):AM(c)||RM(c)?Br(e.from,c,n)||Br(e.to,c,n):!1))return!0;const l=i.filter(c=>typeof c=="function");if(l.length){let c=e.from;const h=n.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=h;f++){if(l.some(p=>p(c)))return!0;c=n.addDays(c,1)}}return!1}function uF(e,t){const{disabled:n,excludeDisabled:i,selected:s,required:a,onSelect:l}=e,[c,h]=Im(s,l?s:void 0),f=l?s:c;return{selected:f,select:(_,w,E)=>{const{min:A,max:S}=e,C=_?oF(_,f,A,S,a,t):void 0;return i&&n&&(C!=null&&C.from)&&C.to&&cF({from:C.from,to:C.to},n,t)&&(C.from=_,C.to=void 0),l||h(C),l==null||l(C,_,w,E),C},isSelected:_=>f&&zr(f,_,!1,t)}}function hF(e,t){const{selected:n,required:i,onSelect:s}=e,[a,l]=Im(n,s?n:void 0),c=s?n:a,{isSameDay:h}=t;return{selected:c,select:(y,_,w)=>{let E=y;return!i&&c&&c&&h(y,c)&&(E=void 0),s||l(E),s==null||s(E,y,_,w),E},isSelected:y=>c?h(c,y):!1}}function fF(e,t){const n=hF(e,t),i=aF(e,t),s=uF(e,t);switch(e.mode){case"single":return n;case"multiple":return i;case"range":return s;default:return}}function dF(e){var ra;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Jn(t.today,t.timeZone)),t.month&&(t.month=new Jn(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Jn(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Jn(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Jn(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Jn(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(ra=t.selected)==null?void 0:ra.map(Ut=>new Jn(Ut,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Jn(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Jn(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:i,labels:s,dateLib:a,locale:l,classNames:c}=B.useMemo(()=>{const Ut={...Zv,...t.locale};return{dateLib:new sa({locale:Ut,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:mB(t.components),formatters:RB(t.formatters),labels:{...qB,...t.labels},locale:Ut,classNames:{..._B(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:h,mode:f,navLayout:p,numberOfMonths:y=1,onDayBlur:_,onDayClick:w,onDayFocus:E,onDayKeyDown:A,onDayMouseEnter:S,onDayMouseLeave:C,onNextClick:O,onPrevClick:M,showWeekNumber:q,styles:L}=t,{formatCaption:Y,formatDay:D,formatMonthDropdown:k,formatWeekNumber:V,formatWeekNumberHeader:z,formatWeekdayName:F,formatYearDropdown:N}=i,P=nF(t,a),{days:bt,months:ot,navStart:W,navEnd:G,previousMonth:Q,nextMonth:X,goToMonth:U}=P,J=pB(bt,t,W,G,a),{isSelected:rt,select:lt,selected:gt}=fF(t,a)??{},{blur:Tt,focused:xt,isFocusTarget:Te,moveFocus:Yt,setFocused:De}=rF(t,P,J,rt??(()=>!1),a),{labelDayButton:Gn,labelGridcell:wn,labelGrid:pt,labelMonthDropdown:Dt,labelNav:St,labelPrevious:zt,labelNext:ge,labelWeekday:Ke,labelWeekNumber:ji,labelWeekNumberHeader:Ui,labelYearDropdown:di}=s,Ei=B.useMemo(()=>DB(a,t.ISOWeek),[a,t.ISOWeek]),Sl=f!==void 0||w!==void 0,ws=B.useCallback(()=>{Q&&(U(Q),M==null||M(Q))},[Q,U,M]),sr=B.useCallback(()=>{X&&(U(X),O==null||O(X))},[U,X,O]),Tl=B.useCallback((Ut,ue)=>It=>{It.preventDefault(),It.stopPropagation(),De(Ut),lt==null||lt(Ut.date,ue,It),w==null||w(Ut.date,ue,It)},[lt,w,De]),Le=B.useCallback((Ut,ue)=>It=>{De(Ut),E==null||E(Ut.date,ue,It)},[E,De]),le=B.useCallback((Ut,ue)=>It=>{Tt(),_==null||_(Ut.date,ue,It)},[Tt,_]),ri=B.useCallback((Ut,ue)=>It=>{const se={ArrowLeft:[It.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[It.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[It.shiftKey?"year":"week","after"],ArrowUp:[It.shiftKey?"year":"week","before"],PageUp:[It.shiftKey?"year":"month","before"],PageDown:[It.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(se[It.key]){It.preventDefault(),It.stopPropagation();const[Sn,Bt]=se[It.key];Yt(Sn,Bt)}A==null||A(Ut.date,ue,It)},[Yt,A,t.dir]),En=B.useCallback((Ut,ue)=>It=>{S==null||S(Ut.date,ue,It)},[S]),Al=B.useCallback((Ut,ue)=>It=>{C==null||C(Ut.date,ue,It)},[C]),fu=B.useCallback(Ut=>ue=>{const It=Number(ue.target.value),se=a.setMonth(a.startOfMonth(Ut),It);U(se)},[a,U]),rr=B.useCallback(Ut=>ue=>{const It=Number(ue.target.value),se=a.setYear(a.startOfMonth(Ut),It);U(se)},[a,U]),{className:ar,style:or}=B.useMemo(()=>({className:[c[Rt.Root],t.className].filter(Boolean).join(" "),style:{...L==null?void 0:L[Rt.Root],...t.style}}),[c,t.className,t.style,L]),Si=yB(t),lr=B.useRef(null);YB(lr,!!t.animate,{classNames:c,months:ot,focused:xt,dateLib:a});const cr={dayPickerProps:t,selected:gt,select:lt,isSelected:rt,months:ot,nextMonth:X,previousMonth:Q,goToMonth:U,getModifiers:J,components:n,classNames:c,styles:L,labels:s,formatters:i};return _t.createElement(SM.Provider,{value:cr},_t.createElement(n.Root,{rootRef:t.animate?lr:void 0,className:ar,style:or,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Si},_t.createElement(n.Months,{className:c[Rt.Months],style:L==null?void 0:L[Rt.Months]},!t.hideNavigation&&!p&&_t.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Rt.Nav],style:L==null?void 0:L[Rt.Nav],"aria-label":St(),onPreviousClick:ws,onNextClick:sr,previousMonth:Q,nextMonth:X}),ot.map((Ut,ue)=>_t.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Rt.Month],style:L==null?void 0:L[Rt.Month],key:ue,displayIndex:ue,calendarMonth:Ut},p==="around"&&!t.hideNavigation&&ue===0&&_t.createElement(n.PreviousMonthButton,{type:"button",className:c[Rt.PreviousMonthButton],tabIndex:Q?void 0:-1,"aria-disabled":Q?void 0:!0,"aria-label":zt(Q),onClick:ws,"data-animated-button":t.animate?"true":void 0},_t.createElement(n.Chevron,{disabled:Q?void 0:!0,className:c[Rt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),_t.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Rt.MonthCaption],style:L==null?void 0:L[Rt.MonthCaption],calendarMonth:Ut,displayIndex:ue},h!=null&&h.startsWith("dropdown")?_t.createElement(n.DropdownNav,{className:c[Rt.Dropdowns],style:L==null?void 0:L[Rt.Dropdowns]},h==="dropdown"||h==="dropdown-months"?_t.createElement(n.MonthsDropdown,{className:c[Rt.MonthsDropdown],"aria-label":Dt(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:fu(Ut.date),options:kB(Ut.date,W,G,i,a),style:L==null?void 0:L[Rt.Dropdown],value:a.getMonth(Ut.date)}):_t.createElement("span",null,k(Ut.date,a)),h==="dropdown"||h==="dropdown-years"?_t.createElement(n.YearsDropdown,{className:c[Rt.YearsDropdown],"aria-label":di(a.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:rr(Ut.date),options:MB(W,G,i,a,!!t.reverseYears),style:L==null?void 0:L[Rt.Dropdown],value:a.getYear(Ut.date)}):_t.createElement("span",null,N(Ut.date,a)),_t.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},Y(Ut.date,a.options,a))):_t.createElement(n.CaptionLabel,{className:c[Rt.CaptionLabel],role:"status","aria-live":"polite"},Y(Ut.date,a.options,a))),p==="around"&&!t.hideNavigation&&ue===y-1&&_t.createElement(n.NextMonthButton,{type:"button",className:c[Rt.NextMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":ge(X),onClick:sr,"data-animated-button":t.animate?"true":void 0},_t.createElement(n.Chevron,{disabled:X?void 0:!0,className:c[Rt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),ue===y-1&&p==="after"&&!t.hideNavigation&&_t.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Rt.Nav],style:L==null?void 0:L[Rt.Nav],"aria-label":St(),onPreviousClick:ws,onNextClick:sr,previousMonth:Q,nextMonth:X}),_t.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":pt(Ut.date,a.options,a)||void 0,className:c[Rt.MonthGrid],style:L==null?void 0:L[Rt.MonthGrid]},!t.hideWeekdays&&_t.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Rt.Weekdays],style:L==null?void 0:L[Rt.Weekdays]},q&&_t.createElement(n.WeekNumberHeader,{"aria-label":Ui(a.options),className:c[Rt.WeekNumberHeader],style:L==null?void 0:L[Rt.WeekNumberHeader],scope:"col"},z()),Ei.map(It=>_t.createElement(n.Weekday,{"aria-label":Ke(It,a.options,a),className:c[Rt.Weekday],key:String(It),style:L==null?void 0:L[Rt.Weekday],scope:"col"},F(It,a.options,a)))),_t.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Rt.Weeks],style:L==null?void 0:L[Rt.Weeks]},Ut.weeks.map(It=>_t.createElement(n.Week,{className:c[Rt.Week],key:It.weekNumber,style:L==null?void 0:L[Rt.Week],week:It},q&&_t.createElement(n.WeekNumber,{week:It,style:L==null?void 0:L[Rt.WeekNumber],"aria-label":ji(It.weekNumber,{locale:l}),className:c[Rt.WeekNumber],scope:"row",role:"rowheader"},V(It.weekNumber,a)),It.days.map(se=>{const{date:Sn}=se,Bt=J(se);if(Bt[Fe.focused]=!Bt.hidden&&!!(xt!=null&&xt.isEqualTo(se)),Bt[ds.selected]=(rt==null?void 0:rt(Sn))||Bt.selected,Jv(gt)){const{from:zi,to:oa}=gt;Bt[ds.range_start]=!!(zi&&oa&&a.isSameDay(Sn,zi)),Bt[ds.range_end]=!!(zi&&oa&&a.isSameDay(Sn,oa)),Bt[ds.range_middle]=zr(gt,Sn,!0,a)}const mo=CB(Bt,L,t.modifiersStyles),Es=gB(Bt,c,t.modifiersClassNames),aa=!Sl&&!Bt.hidden?wn(Sn,Bt,a.options,a):void 0;return _t.createElement(n.Day,{key:`${a.format(Sn,"yyyy-MM-dd")}_${a.format(se.displayMonth,"yyyy-MM")}`,day:se,modifiers:Bt,className:Es.join(" "),style:mo,role:"gridcell","aria-selected":Bt.selected||void 0,"aria-label":aa,"data-day":a.format(Sn,"yyyy-MM-dd"),"data-month":se.outside?a.format(Sn,"yyyy-MM"):void 0,"data-selected":Bt.selected||void 0,"data-disabled":Bt.disabled||void 0,"data-hidden":Bt.hidden||void 0,"data-outside":se.outside||void 0,"data-focused":Bt.focused||void 0,"data-today":Bt.today||void 0},!Bt.hidden&&Sl?_t.createElement(n.DayButton,{className:c[Rt.DayButton],style:L==null?void 0:L[Rt.DayButton],type:"button",day:se,modifiers:Bt,disabled:Bt.disabled||void 0,tabIndex:Te(se)?0:-1,"aria-label":Gn(Sn,Bt,a.options,a),onClick:Tl(se,Bt),onBlur:le(se,Bt),onFocus:Le(se,Bt),onKeyDown:ri(se,Bt),onMouseEnter:En(se,Bt),onMouseLeave:Al(se,Bt)},D(Sn,a.options,a)):!Bt.hidden&&D(se.date,a.options,a))})))))))),t.footer&&_t.createElement(n.Footer,{className:c[Rt.Footer],style:L==null?void 0:L[Rt.Footer],role:"status","aria-live":"polite"},t.footer)))}const pF=""+new URL("calendar-arrow-BfXL-r2k.png",import.meta.url).href;function gF({value:e,onApply:t,placeholder:n="요청 기간 선택",autoCloseOnComplete:i=!0}){var A;const[s,a]=B.useState({start:(e==null?void 0:e.start)??null,end:(e==null?void 0:e.end)??null}),[l,c]=B.useState(((A=e==null?void 0:e.start)==null?void 0:A.getFullYear())??new Date().getFullYear()),[h,f]=B.useState(!1),p=B.useMemo(()=>{const S=C=>`${C.getFullYear()}.${String(C.getMonth()+1).padStart(2,"0")}.${String(C.getDate()).padStart(2,"0")}`;return s.start&&s.end?`${S(s.start)} ~ ${S(s.end)}`:s.start?`${S(s.start)} ~`:""},[s]),y=new Date().getMonth(),_=B.useRef(null);B.useEffect(()=>{if(h&&_.current){const S=_.current.querySelectorAll(".month-box")[y];S&&S.scrollIntoView({block:"start"})}},[h]);const w=B.useRef(null);B.useEffect(()=>{const S=C=>{w.current&&!w.current.contains(C.target)&&f(!1)};return h&&document.addEventListener("click",S),()=>{document.removeEventListener("click",S)}},[h]),B.useEffect(()=>{const S=M=>M instanceof Date?new Date(M.getFullYear(),M.getMonth(),M.getDate()).getTime():null,C=(e==null?void 0:e.start)??null,O=(e==null?void 0:e.end)??null;(S(s.start)!==S(C)||S(s.end)!==S(O))&&(a({start:C,end:O}),c((C==null?void 0:C.getFullYear())??new Date().getFullYear()))},[e==null?void 0:e.start,e==null?void 0:e.end]);const E=S=>{if(!s.start||s.start&&s.end){a({start:S,end:null});return}if(s.start&&!s.end)if(S<s.start)a({start:S,end:null});else{const C={start:s.start,end:S};a(C),t==null||t(C),i&&f(!1)}};return v.jsxs(mF,{ref:w,children:[v.jsx(RF,{}),v.jsx(yF,{value:p,placeholder:n,readOnly:!0,onClick:()=>f(S=>!S)}),h&&v.jsxs(bF,{children:[v.jsxs(vF,{children:[v.jsx(xF,{dir:"prev",onClick:()=>c(S=>S-1)}),v.jsx("span",{children:l}),v.jsx(wF,{dir:"next",onClick:()=>c(S=>S+1)})]}),v.jsx(EF,{children:["일","월","화","수","목","금","토"].map(S=>v.jsx("span",{children:S},S))}),v.jsx(_F,{children:v.jsx(SF,{ref:_,children:Array.from({length:12}).map((S,C)=>{const O=new Date(l,C,1),M=L=>new Date(L.getFullYear(),L.getMonth(),L.getDate()).getTime(),q=L=>L.getFullYear()===O.getFullYear()&&L.getMonth()===O.getMonth();return v.jsxs(TF,{className:"month-box",children:[v.jsx(AF,{children:String(C+1).padStart(2,"0")}),v.jsx(dF,{mode:"single",month:O,selected:void 0,onDayClick:E,showOutsideDays:!1,modifiers:{start:L=>!!s.start&&q(L)&&M(L)===M(s.start),end:L=>!!s.end&&q(L)&&M(L)===M(s.end),middle:L=>{if(!s.start||!s.end||!q(L))return!1;const Y=M(L),D=M(s.start),k=M(s.end);return Y>D&&Y<k},todayInMonth:L=>{const Y=new Date;return q(L)&&L.getFullYear()===Y.getFullYear()&&L.getMonth()===Y.getMonth()&&L.getDate()===Y.getDate()}},modifiersClassNames:{start:"sel-start",end:"sel-end",middle:"sel-mid",todayInMonth:"sel-today"}})]},C)})})})]})]})}const mF=H.div`
  position: relative;
  width: 215px;
  margin-right: 8px;
  font-family: 'Pretendard';
`,yF=H.input`
  width: 100%;
  padding: 11.5px 12px;
  border: 1px solid ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray02)||"#d0d5dd"}};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  cursor: pointer;

  &::placeholder {
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
  }
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.black)||"#111"}};
  }
`,_F=H.div`
  overflow-y: auto;
  max-height: 385px;

  /* ===== Firefox ===== */
  scrollbar-width: thin;
  scrollbar-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray03)||"#c9ced6"}}
                    transparent;

  &::-webkit-scrollbar {
    width: 10px !important;
  }

  /* ===== WebKit (Chrome/Edge/Safari) ===== */
  &::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    background: transparent !important;
    border: none !important;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray04)||"#aeb4be"}};
  }
`,bF=H.div`
  position: absolute;
  top: 60px;
  left: 0;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  z-index: 100;
  width: 380px;
  max-height: 480px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,vF=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-weight: 700;
  font-size: 15px;
  background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray02}};
`,NM=H.button`
  width: 48px;
  height: 100%;
  background-image: url(${pF});
  background-repeat: no-repeat;
`,xF=H(NM)``,wF=H(NM)`
  background-position: -50px 0;  /* 오른쪽 프레임만 노출 */
`,EF=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-size: 12px;
  padding: 0 11px;
  border-bottom: 1px solid ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray03}};

  span {
    flex: 1;
    font-size: 15px;
    font-weight: 700;
    text-align: center;
    color: #757575;
  }
`,SF=H.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding-left: 12px;
`,TF=H.div`
  .rdp-months {
    width: 100%;

    table {
      width: 100%;
    }
  }

  .rdp-tbody {
    display: contents !important; /* table body 제거 */
  }

  .rdp-row {
    display: contents !important; /* tr 제거 */
  }

  .rdp-cell {
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
  }

  .rdp-day {
    font-size: 13px;
    line-height: 31px;
    border: none;
    text-align: center;
    cursor: pointer;

    & button {
      width: 100%;
      padding: 8px 0;
      font-family: 'Pretendard';
    }
  }

  /* ✅ 오늘 날짜 강조 */
  .sel-today {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
    font-weight: 700;

    button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }

  /* ❶ 라이브러리 기본 range 클래스 전부 무력화 (혹시 붙어도 표시 안 되게) */
  .rdp-range_start,
  .rdp-range_middle,
  .rdp-range_end {
    background: none !important;
    color: inherit !important;
  }

  /* ❷ 우리가 지정한 커스텀 클래스만 색칠 */
  .sel-start,
  .sel-end,
  .sel-mid {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.red}} !important;

    & button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }
`,AF=H.div`
  font-size: 16px;
  font-weight: 700;
  margin-top: 20px;
  padding-left: 15px;
  color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
`,RF=Ik`
  .rdp-month_caption, .rdp-weekday, .rdp-nav {
    display: none !important;
  }
`,Ic="진행 상태 선택",_h="요청자 선택",bh="디자이너 선택",fb={start:null,end:null},kF=e=>e===3?"manager":e===2?"designer":"requester",CF={requester:[Ic,"대기","진행중","검수중","완료","취소"],manager:[Ic,"대기","진행중","검수중","검수요청","완료","취소"],designer:[Ic,"대기","진행중","검수요청","완료","취소"]},DF=(e,t)=>{if(e==="manager"){if(t==="검수중")return"검수요청";if(t==="검수요청")return"검수중"}return t};function MF({onApplyStatus:e,onApplyRange:t,isManager:n=!1,requesterOptions:i=[],onApplyRequester:s,designerOptions:a=[],onApplyDesigner:l,roleNumber:c}){const[h,f]=B.useState(fb),[p,y]=B.useState(Ic),[_,w]=B.useState(_h),[E,A]=B.useState(bh),S=()=>{y(Ic),f(fb),w(_h),A(bh),e(Ic),t(fb),s==null||s(_h),l==null||l(bh)},C=kF(c),O=CF[C];return v.jsxs(IF,{children:[v.jsx(gF,{value:h,onApply:M=>{f(M),t(M)}}),n&&v.jsxs(v.Fragment,{children:[v.jsxs(db,{"aria-label":"요청자 선택",value:_,onChange:M=>{w(M.target.value),s==null||s(M.target.value)},children:[v.jsx("option",{value:_h,children:_h}),i.map(M=>v.jsx("option",{value:M,children:M},M))]}),v.jsxs(db,{"aria-label":"디자이너 선택",value:E,onChange:M=>{const q=M.target.value;A(q),l==null||l(q)},children:[v.jsx("option",{value:bh,children:bh}),a.map(M=>v.jsx("option",{value:M,children:M},M))]})]}),v.jsx(db,{value:p,onChange:M=>{const q=M.target.value,L=DF(C,q);y(q),e(L)},children:O.map(M=>v.jsx("option",{value:M,children:M},M))}),v.jsx(OF,{type:"button",onClick:S,children:"필터 초기화"})]})}const IF=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
`,db=H.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: 200px;
  margin-right: 8px;
  padding: 13.5px 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${Qv});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }
`,OF=H.button`
  padding: 11.5px 10px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,PF=""+new URL("search-icon-g0O6fOpZ.svg",import.meta.url).href;function NF({keyword:e,onKeywordChange:t,onSearch:n}){const i=s=>{t(s),n(s.trim())};return v.jsx(LF,{children:v.jsx(VF,{placeholder:"문서번호와 작업항목을 검색해 주세요.",value:e,onChange:s=>i(s.target.value),onKeyDown:s=>{s.key==="Escape"&&i("")}})})}const LF=H.div`
  position: relative;
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 11.5px 14.5px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;

  /* 🔍 아이콘: 버튼 제거하고 래퍼에 ::after로 표시 */
  &::after {
    content: "";
    position: absolute;
    right: 12px;
    top: 50%;
    display: block;
    width: 24px;
    height: 24px;
    background: url(${PF}) no-repeat center / contain;
    transform: translateY(-50%);
  }
`,VF=H.input`
  width: 458px;
  margin-right: 12px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`;function wf({onApplyStatus:e,onApplyRange:t,onSearch:n,keyword:i,onKeywordChange:s,isManager:a=!1,requesterOptions:l=[],onApplyRequester:c,designerOptions:h=[],onApplyDesigner:f,roleNumber:p}){return v.jsxs(jF,{children:[v.jsx(MF,{onApplyStatus:e,onApplyRange:t,isManager:a,requesterOptions:l,onApplyRequester:c,designerOptions:h,onApplyDesigner:f,roleNumber:p}),v.jsx(NF,{keyword:i,onKeywordChange:s,onSearch:n})]})}const jF=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Gf(e){return e+.5|0}const $a=(e,t,n)=>Math.max(Math.min(e,n),t);function Vh(e){return $a(Gf(e*2.55),0,255)}function to(e){return $a(Gf(e*255),0,255)}function Vr(e){return $a(Gf(e/2.55)/100,0,1)}function GT(e){return $a(Gf(e*100),0,100)}const ts={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},E0=[..."0123456789ABCDEF"],UF=e=>E0[e&15],zF=e=>E0[(e&240)>>4]+E0[e&15],Rp=e=>(e&240)>>4===(e&15),BF=e=>Rp(e.r)&&Rp(e.g)&&Rp(e.b)&&Rp(e.a);function FF(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ts[e[1]]*17,g:255&ts[e[2]]*17,b:255&ts[e[3]]*17,a:t===5?ts[e[4]]*17:255}:(t===7||t===9)&&(n={r:ts[e[1]]<<4|ts[e[2]],g:ts[e[3]]<<4|ts[e[4]],b:ts[e[5]]<<4|ts[e[6]],a:t===9?ts[e[7]]<<4|ts[e[8]]:255})),n}const qF=(e,t)=>e<255?t(e):"";function $F(e){var t=BF(e)?UF:zF;return e?"#"+t(e.r)+t(e.g)+t(e.b)+qF(e.a,t):void 0}const HF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function LM(e,t,n){const i=t*Math.min(n,1-n),s=(a,l=(a+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function WF(e,t,n){const i=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function YF(e,t,n){const i=LM(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function GF(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function tx(e){const n=e.r/255,i=e.g/255,s=e.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),c=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),h=GF(n,i,s,p,a),h=h*60+.5),[h|0,f||0,c]}function ex(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(to)}function nx(e,t,n){return ex(LM,e,t,n)}function KF(e,t,n){return ex(YF,e,t,n)}function XF(e,t,n){return ex(WF,e,t,n)}function VM(e){return(e%360+360)%360}function QF(e){const t=HF.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Vh(+t[5]):to(+t[5]));const s=VM(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=KF(s,a,l):t[1]==="hsv"?i=XF(s,a,l):i=nx(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function ZF(e,t){var n=tx(e);n[0]=VM(n[0]+t),n=nx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function JF(e){if(!e)return;const t=tx(e),n=t[0],i=GT(t[1]),s=GT(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Vr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const KT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},XT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tq(){const e={},t=Object.keys(XT),n=Object.keys(KT);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)a=n[s],c=c.replace(a,KT[a]);a=parseInt(XT[l],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let kp;function eq(e){kp||(kp=tq(),kp.transparent=[0,0,0,0]);const t=kp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const nq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iq(e){const t=nq.exec(e);let n=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?Vh(l):$a(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?Vh(i):$a(i,0,255)),s=255&(t[4]?Vh(s):$a(s,0,255)),a=255&(t[6]?Vh(a):$a(a,0,255)),{r:i,g:s,b:a,a:n}}}function sq(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Vr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const pb=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,yc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function rq(e,t,n){const i=yc(Vr(e.r)),s=yc(Vr(e.g)),a=yc(Vr(e.b));return{r:to(pb(i+n*(yc(Vr(t.r))-i))),g:to(pb(s+n*(yc(Vr(t.g))-s))),b:to(pb(a+n*(yc(Vr(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Cp(e,t,n){if(e){let i=tx(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=nx(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function jM(e,t){return e&&Object.assign(t||{},e)}function QT(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=to(e[3]))):(t=jM(e,{r:0,g:0,b:0,a:1}),t.a=to(t.a)),t}function aq(e){return e.charAt(0)==="r"?iq(e):QF(e)}class Ef{constructor(t){if(t instanceof Ef)return t;const n=typeof t;let i;n==="object"?i=QT(t):n==="string"&&(i=FF(t)||eq(t)||aq(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=jM(this._rgb);return t&&(t.a=Vr(t.a)),t}set rgb(t){this._rgb=QT(t)}rgbString(){return this._valid?sq(this._rgb):void 0}hexString(){return this._valid?$F(this._rgb):void 0}hslString(){return this._valid?JF(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let a;const l=n===a?.5:n,c=2*l-1,h=i.a-s.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=rq(this._rgb,t._rgb,n)),this}clone(){return new Ef(this.rgb)}alpha(t){return this._rgb.a=to(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Gf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Cp(this._rgb,2,t),this}darken(t){return Cp(this._rgb,2,-t),this}saturate(t){return Cp(this._rgb,1,t),this}desaturate(t){return Cp(this._rgb,1,-t),this}rotate(t){return ZF(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Or(){}const oq=(()=>{let e=0;return()=>e++})();function Ft(e){return e==null}function Oe(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ge(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Pi(e,t){return Ge(e)?e:t}function Vt(e,t){return typeof e>"u"?t:e}const lq=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,UM=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ee(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function de(e,t,n,i){let s,a,l;if(Oe(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(Xt(e))for(l=Object.keys(e),a=l.length,s=0;s<a;s++)t.call(n,e[l[s]],l[s])}function Hg(e,t){let n,i,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Wg(e){if(Oe(e))return e.map(Wg);if(Xt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Wg(e[n[s]]);return t}return e}function zM(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function cq(e,t,n,i){if(!zM(e))return;const s=t[e],a=n[e];Xt(s)&&Xt(a)?er(s,a,i):t[e]=Wg(a)}function er(e,t,n){const i=Oe(t)?t:[t],s=i.length;if(!Xt(e))return e;n=n||{};const a=n.merger||cq;let l;for(let c=0;c<s;++c){if(l=i[c],!Xt(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],e,l,n)}return e}function Kh(e,t){return er(e,t,{merger:uq})}function uq(e,t,n){if(!zM(e))return;const i=t[e],s=n[e];Xt(i)&&Xt(s)?Kh(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Wg(s))}const ZT={"":e=>e,x:e=>e.x,y:e=>e.y};function hq(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function fq(e){const t=hq(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function lo(e,t){return(ZT[t]||(ZT[t]=fq(t)))(e)}function ix(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Sf=e=>typeof e<"u",co=e=>typeof e=="function",JT=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function dq(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const oe=Math.PI,Pe=2*oe,pq=Pe+oe,Yg=Number.POSITIVE_INFINITY,gq=oe/180,tn=oe/2,Wo=oe/4,tA=oe*2/3,Ha=Math.log10,Js=Math.sign;function Xh(e,t,n){return Math.abs(e-t)<n}function eA(e){const t=Math.round(e);e=Xh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ha(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function mq(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function yq(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Gc(e){return!yq(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function _q(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function BM(e,t,n){let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ps(e){return e*(oe/180)}function sx(e){return e*(180/oe)}function nA(e){if(!Ge(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function FM(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*oe&&(a+=Pe),{angle:a,distance:s}}function S0(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function bq(e,t){return(e-t+pq)%Pe-oe}function ei(e){return(e%Pe+Pe)%Pe}function Tf(e,t,n,i){const s=ei(e),a=ei(t),l=ei(n),c=ei(a-s),h=ei(l-s),f=ei(s-a),p=ei(s-l);return s===a||s===l||i&&a===l||c>h&&f<p}function Nn(e,t,n){return Math.max(t,Math.min(n,e))}function vq(e){return Nn(e,-32768,32767)}function Fr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function rx(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const qr=(e,t,n,i)=>rx(e,n,i?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),xq=(e,t,n)=>rx(e,n,i=>e[i][t]>=n);function wq(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const qM=["push","pop","shift","splice","unshift"];function Eq(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),qM.forEach(n=>{const i="_onData"+ix(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function iA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(qM.forEach(a=>{delete e[a]}),delete e._chartjs)}function $M(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const HM=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function WM(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,HM.call(window,()=>{i=!1,e.apply(t,n)}))}}function Sq(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const ax=e=>e==="start"?"left":e==="end"?"right":"center",Zn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Tq=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function YM(e,t,n){const i=t.length;let s=0,a=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:w,maxDefined:E}=l.getUserBounds();if(w){if(s=Math.min(qr(h,p,y).lo,n?i:qr(t,p,l.getPixelForValue(y)).lo),f){const A=h.slice(0,s+1).reverse().findIndex(S=>!Ft(S[c.axis]));s-=Math.max(0,A)}s=Nn(s,0,i-1)}if(E){let A=Math.max(qr(h,l.axis,_,!0).hi+1,n?0:qr(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const S=h.slice(A-1).findIndex(C=>!Ft(C[c.axis]));A+=Math.max(0,S)}a=Nn(A,s,i)-s}else a=i-s}return{start:s,count:a}}function GM(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),a}const Dp=e=>e===0||e===1,sA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Pe/n)),rA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Pe/n)+1,Qh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*tn)+1,easeOutSine:e=>Math.sin(e*tn),easeInOutSine:e=>-.5*(Math.cos(oe*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Dp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Dp(e)?e:sA(e,.075,.3),easeOutElastic:e=>Dp(e)?e:rA(e,.075,.3),easeInOutElastic(e){return Dp(e)?e:e<.5?.5*sA(e*2,.1125,.45):.5+.5*rA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Qh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Qh.easeInBounce(e*2)*.5:Qh.easeOutBounce(e*2-1)*.5+.5};function ox(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function aA(e){return ox(e)?e:new Ef(e)}function gb(e){return ox(e)?e:new Ef(e).saturate(.5).darken(.1).hexString()}const Aq=["x","y","borderWidth","radius","tension"],Rq=["color","borderColor","backgroundColor"];function kq(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Rq},numbers:{type:"number",properties:Aq}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Cq(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const oA=new Map;function Dq(e,t){t=t||{};const n=e+JSON.stringify(t);let i=oA.get(n);return i||(i=new Intl.NumberFormat(e,t),oA.set(n,i)),i}function Kf(e,t,n){return Dq(t,n).format(e)}const KM={values(e){return Oe(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=Mq(e,n)}const l=Ha(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),Kf(e,i,h)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Ha(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?KM.numeric.call(this,e,t,n):""}};function Mq(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Om={formatters:KM};function Iq(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Om.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _l=Object.create(null),T0=Object.create(null);function Zh(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function mb(e,t,n){return typeof t=="string"?er(Zh(e,t),n):er(Zh(e,""),t)}class Oq{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>gb(s.backgroundColor),this.hoverBorderColor=(i,s)=>gb(s.borderColor),this.hoverColor=(i,s)=>gb(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return mb(this,t,n)}get(t){return Zh(this,t)}describe(t,n){return mb(T0,t,n)}override(t,n){return mb(_l,t,n)}route(t,n,i,s){const a=Zh(this,t),l=Zh(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],f=l[s];return Xt(h)?Object.assign({},f,h):Vt(h,f)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var Ne=new Oq({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kq,Cq,Iq]);function Pq(e){return!e||Ft(e.size)||Ft(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Gg(e,t,n,i,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>i&&(i=a),i}function Nq(e,t,n,i){i=i||{};let s=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},a=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let l=0;const c=n.length;let h,f,p,y,_;for(h=0;h<c;h++)if(y=n[h],y!=null&&!Oe(y))l=Gg(e,s,a,l,y);else if(Oe(y))for(f=0,p=y.length;f<p;f++)_=y[f],_!=null&&!Oe(_)&&(l=Gg(e,s,a,l,_));e.restore();const w=a.length/2;if(w>n.length){for(h=0;h<w;h++)delete s[a[h]];a.splice(0,w)}return l}function Yo(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function lA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function A0(e,t,n,i){XM(e,t,n,i,null)}function XM(e,t,n,i,s){let a,l,c,h,f,p,y,_;const w=t.pointStyle,E=t.rotation,A=t.radius;let S=(E||0)*gq;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(S),e.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),e.restore();return}if(!(isNaN(A)||A<=0)){switch(e.beginPath(),w){default:s?e.ellipse(n,i,s/2,A,0,0,Pe):e.arc(n,i,A,0,Pe),e.closePath();break;case"triangle":p=s?s/2:A,e.moveTo(n+Math.sin(S)*p,i-Math.cos(S)*A),S+=tA,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*A),S+=tA,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*A),e.closePath();break;case"rectRounded":f=A*.516,h=A-f,l=Math.cos(S+Wo)*h,y=Math.cos(S+Wo)*(s?s/2-f:h),c=Math.sin(S+Wo)*h,_=Math.sin(S+Wo)*(s?s/2-f:h),e.arc(n-y,i-c,f,S-oe,S-tn),e.arc(n+_,i-l,f,S-tn,S),e.arc(n+y,i+c,f,S,S+tn),e.arc(n-_,i+l,f,S+tn,S+oe),e.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*A,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}S+=Wo;case"rectRot":y=Math.cos(S)*(s?s/2:A),l=Math.cos(S)*A,c=Math.sin(S)*A,_=Math.sin(S)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":S+=Wo;case"cross":y=Math.cos(S)*(s?s/2:A),l=Math.cos(S)*A,c=Math.sin(S)*A,_=Math.sin(S)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(S)*(s?s/2:A),l=Math.cos(S)*A,c=Math.sin(S)*A,_=Math.sin(S)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),S+=Wo,y=Math.cos(S)*(s?s/2:A),l=Math.cos(S)*A,c=Math.sin(S)*A,_=Math.sin(S)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(S)*A,c=Math.sin(S)*A,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(S)*(s?s/2:A),i+Math.sin(S)*A);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function $r(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Pm(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Nm(e){e.restore()}function Lq(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Vq(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function jq(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ft(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Uq(e,t,n,i,s){if(s.strikethrough||s.underline){const a=e.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function zq(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function bl(e,t,n,i,s,a={}){const l=Oe(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(e.save(),e.font=s.string,jq(e,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&zq(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Ft(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,i,a.maxWidth)),e.fillText(f,n,i,a.maxWidth),Uq(e,n,i,f,a),i+=Number(s.lineHeight);e.restore()}function Af(e,t){const{x:n,y:i,w:s,h:a,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*oe,oe,!0),e.lineTo(n,i+a-l.bottomLeft),e.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,oe,tn,!0),e.lineTo(n+s-l.bottomRight,i+a),e.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,tn,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-tn,!0),e.lineTo(n+l.topLeft,i)}const Bq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qq(e,t){const n=(""+e).match(Bq);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const $q=e=>+e||0;function lx(e,t){const n={},i=Xt(t),s=i?Object.keys(t):t,a=Xt(e)?i?l=>Vt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=$q(a(l));return n}function QM(e){return lx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ol(e){return lx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Yn(e){const t=QM(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function dn(e,t){e=e||{},t=t||Ne.font;let n=Vt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Vt(e.style,t.style);i&&!(""+i).match(Fq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Vt(e.family,t.family),lineHeight:qq(Vt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Vt(e.weight,t.weight),string:""};return s.string=Pq(s),s}function Ie(e,t,n,i){let s,a,l;for(s=0,a=e.length;s<a;++s)if(l=e[s],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t)),n!==void 0&&Oe(l)&&(l=l[n%l.length]),l!==void 0))return l}function Hq(e,t,n){const{min:i,max:s}=e,a=UM(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function go(e,t){return Object.assign(Object.create(e),t)}function cx(e,t=[""],n,i,s=()=>e[0]){const a=n||e;typeof i>"u"&&(i=eI("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>cx([c,...e],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return JM(c,h,()=>Jq(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return uA(c).includes(h)},ownKeys(c){return uA(c)},set(c,h,f){const p=c._storage||(c._storage=s());return c[h]=p[h]=f,delete c._keys,!0}})}function Kc(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ZM(e,i),setContext:a=>Kc(e,a,n,i),override:a=>Kc(e.override(a),t,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,c){return JM(a,l,()=>Yq(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,c){return e[l]=c,delete a[l],!0}})}function ZM(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:co(n)?n:()=>n,isIndexable:co(i)?i:()=>i}}const Wq=(e,t)=>e?e+ix(t):t,ux=(e,t)=>Xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function JM(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function Yq(e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=e;let c=i[t];return co(c)&&l.isScriptable(t)&&(c=Gq(t,c,e,n)),Oe(c)&&c.length&&(c=Kq(t,c,e,l.isIndexable)),ux(t,c)&&(c=Kc(c,s,a&&a[t],l)),c}function Gq(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(a,l||i);return c.delete(e),ux(e,h)&&(h=hx(s._scopes,s,e,h)),h}function Kq(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(Xt(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=hx(f,s,e,p);t.push(Kc(y,a,l&&l[e],c))}}return t}function tI(e,t,n){return co(e)?e(t,n):e}const Xq=(e,t)=>e===!0?t:typeof e=="string"?lo(t,e):void 0;function Qq(e,t,n,i,s){for(const a of t){const l=Xq(n,a);if(l){e.add(l);const c=tI(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function hx(e,t,n,i){const s=t._rootScopes,a=tI(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=cA(c,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=cA(c,l,a,h,i),h===null)?!1:cx(Array.from(c),[""],s,a,()=>Zq(t,n,i))}function cA(e,t,n,i,s){for(;n;)n=Qq(e,t,n,i,s);return n}function Zq(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Oe(s)&&Xt(n)?n:s||{}}function Jq(e,t,n,i){let s;for(const a of t)if(s=eI(Wq(a,e),n),typeof s<"u")return ux(e,s)?hx(n,i,e,s):s}function eI(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function uA(e){let t=e._keys;return t||(t=e._keys=t8(e._scopes)),t}function t8(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function nI(e,t,n,i){const{iScale:s}=e,{key:a="r"}=this._parsing,l=new Array(i);let c,h,f,p;for(c=0,h=i;c<h;++c)f=c+n,p=t[f],l[c]={r:s.parse(lo(p,a),f)};return l}const e8=Number.EPSILON||1e-14,Xc=(e,t)=>t<e.length&&!e[t].skip&&e[t],iI=e=>e==="x"?"y":"x";function n8(e,t,n,i){const s=e.skip?t:e,a=t,l=n.skip?t:n,c=S0(a,s),h=S0(l,a);let f=c/(c+h),p=h/(c+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+_*(l.x-s.x),y:a.y+_*(l.y-s.y)}}}function i8(e,t,n){const i=e.length;let s,a,l,c,h,f=Xc(e,0);for(let p=0;p<i-1;++p)if(h=f,f=Xc(e,p+1),!(!h||!f)){if(Xh(t[p],0,e8)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],a=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=a*l*t[p])}}function s8(e,t,n="x"){const i=iI(n),s=e.length;let a,l,c,h=Xc(e,0);for(let f=0;f<s;++f){if(l=c,c=h,h=Xc(e,f+1),!c)continue;const p=c[n],y=c[i];l&&(a=(p-l[n])/3,c[`cp1${n}`]=p-a,c[`cp1${i}`]=y-a*t[f]),h&&(a=(h[n]-p)/3,c[`cp2${n}`]=p+a,c[`cp2${i}`]=y+a*t[f])}}function r8(e,t="x"){const n=iI(t),i=e.length,s=Array(i).fill(0),a=Array(i);let l,c,h,f=Xc(e,0);for(l=0;l<i;++l)if(c=h,h=f,f=Xc(e,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[n]-h[n])/p:0}a[l]=c?f?Js(s[l-1])!==Js(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}i8(e,s,a),s8(e,a,t)}function Mp(e,t,n){return Math.max(Math.min(e,n),t)}function a8(e,t){let n,i,s,a,l,c=$r(e[0],t);for(n=0,i=e.length;n<i;++n)l=a,a=c,c=n<i-1&&$r(e[n+1],t),a&&(s=e[n],l&&(s.cp1x=Mp(s.cp1x,t.left,t.right),s.cp1y=Mp(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=Mp(s.cp2x,t.left,t.right),s.cp2y=Mp(s.cp2y,t.top,t.bottom)))}function o8(e,t,n,i,s){let a,l,c,h;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")r8(e,s);else{let f=i?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)c=e[a],h=n8(f,c,e[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}t.capBezierPoints&&a8(e,n)}function fx(){return typeof window<"u"&&typeof document<"u"}function dx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Kg(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Lm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function l8(e,t){return Lm(e).getPropertyValue(t)}const c8=["top","right","bottom","left"];function ll(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=c8[s];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const u8=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function h8(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(u8(s,a,e.target))c=s,h=a;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function Zo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Lm(n),a=s.boxSizing==="border-box",l=ll(s,"padding"),c=ll(s,"border","width"),{x:h,y:f,box:p}=h8(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:w,height:E}=t;return a&&(w-=l.width+c.width,E-=l.height+c.height),{x:Math.round((h-y)/w*n.width/i),y:Math.round((f-_)/E*n.height/i)}}function f8(e,t,n){let i,s;if(t===void 0||n===void 0){const a=e&&dx(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const l=a.getBoundingClientRect(),c=Lm(a),h=ll(c,"border","width"),f=ll(c,"padding");t=l.width-f.width-h.width,n=l.height-f.height-h.height,i=Kg(c.maxWidth,a,"clientWidth"),s=Kg(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||Yg,maxHeight:s||Yg}}const Ip=e=>Math.round(e*10)/10;function d8(e,t,n,i){const s=Lm(e),a=ll(s,"margin"),l=Kg(s.maxWidth,e,"clientWidth")||Yg,c=Kg(s.maxHeight,e,"clientHeight")||Yg,h=f8(e,t,n);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const _=ll(s,"border","width"),w=ll(s,"padding");f-=w.width+_.width,p-=w.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=Ip(Math.min(f,l,h.maxWidth)),p=Ip(Math.min(p,c,h.maxHeight)),f&&!p&&(p=Ip(f/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Ip(Math.floor(p*i))),{width:f,height:p}}function hA(e,t,n){const i=t||1,s=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(e.currentDevicePixelRatio=i,l.height=s,l.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const p8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};fx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function fA(e,t){const n=l8(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Jo(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function g8(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function m8(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=Jo(e,s,n),c=Jo(s,a,n),h=Jo(a,t,n),f=Jo(l,c,n),p=Jo(c,h,n);return Jo(f,p,n)}const y8=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},_8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Oc(e,t,n){return e?y8(t,n):_8()}function sI(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function rI(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function aI(e){return e==="angle"?{between:Tf,compare:bq,normalize:ei}:{between:Fr,compare:(t,n)=>t-n,normalize:t=>t}}function dA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function b8(e,t,n){const{property:i,start:s,end:a}=n,{between:l,normalize:c}=aI(i),h=t.length;let{start:f,end:p,loop:y}=e,_,w;if(y){for(f+=h,p+=h,_=0,w=h;_<w&&l(c(t[f%h][i]),s,a);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:y,style:e.style}}function oI(e,t,n){if(!n)return[e];const{property:i,start:s,end:a}=n,l=t.length,{compare:c,between:h,normalize:f}=aI(i),{start:p,end:y,loop:_,style:w}=b8(e,t,n),E=[];let A=!1,S=null,C,O,M;const q=()=>h(s,M,C)&&c(s,M)!==0,L=()=>c(a,C)===0||h(a,M,C),Y=()=>A||q(),D=()=>!A||L();for(let k=p,V=p;k<=y;++k)O=t[k%l],!O.skip&&(C=f(O[i]),C!==M&&(A=h(C,s,a),S===null&&Y()&&(S=c(C,s)===0?k:V),S!==null&&D()&&(E.push(dA({start:S,end:k,loop:_,count:l,style:w})),S=null),V=k,M=C));return S!==null&&E.push(dA({start:S,end:y,loop:_,count:l,style:w})),E}function lI(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const a=oI(i[s],e.points,t);a.length&&n.push(...a)}return n}function v8(e,t,n,i){let s=0,a=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}function x8(e,t,n,i){const s=e.length,a=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const f=e[h%s];f.skip||f.stop?c.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,c.skip&&(t=h)),c=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function w8(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:l,end:c}=v8(n,s,a,i);if(i===!0)return pA(e,[{start:l,end:c,loop:a}],n,t);const h=c<l?c+s:c,f=!!e._fullLoop&&l===0&&c===s-1;return pA(e,x8(n,l,h,f),n,t)}function pA(e,t,n,i){return!i||!i.setContext||!n?t:E8(e,t,n,i)}function E8(e,t,n,i){const s=e._chart.getContext(),a=gA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,f=[];let p=a,y=t[0].start,_=y;function w(E,A,S,C){const O=c?-1:1;if(E!==A){for(E+=h;n[E%h].skip;)E-=O;for(;n[A%h].skip;)A+=O;E%h!==A%h&&(f.push({start:E%h,end:A%h,loop:S,style:C}),p=C,y=A%h)}}for(const E of t){y=c?y:E.start;let A=n[y%h],S;for(_=y+1;_<=E.end;_++){const C=n[_%h];S=gA(i.setContext(go(s,{type:"segment",p0:A,p1:C,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),S8(S,p)&&w(y,_-1,E.loop,p),A=C,p=S}y<_-1&&w(y,_-1,E.loop,p)}return f}function gA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function S8(e,t){if(!t)return!1;const n=[],i=function(s,a){return ox(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Op(e,t,n){return e.options.clip?e[n]:t[n]}function T8(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Op(n,t,"left"),right:Op(n,t,"right"),top:Op(i,t,"top"),bottom:Op(i,t,"bottom")}:t}function cI(e,t){const n=t._clip;if(n.disabled)return!1;const i=T8(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class A8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=HM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Pr=new A8;const mA="transparent",R8={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=aA(e||mA),s=i.valid&&aA(t||mA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class k8{constructor(t,n,i,s){const a=n[i];s=Ie([t.to,s,a,t.from]);const l=Ie([t.from,a,s]);this._active=!0,this._fn=t.fn||R8[t.type||typeof l],this._easing=Qh[t.easing]||Qh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Ie([t.to,n,s,t.from]),this._from=Ie([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class uI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Xt(t))return;const n=Object.keys(Ne.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Xt(a))return;const l={};for(const c of n)l[c]=a[c];(Oe(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=D8(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&C8(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[f];let y=a[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}a[f]=y=new k8(_,t,f,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Pr.add(this._chart,i),!0}}function C8(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=e[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function D8(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function yA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function M8(e,t,n){if(n===!1)return!1;const i=yA(e,n),s=yA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function I8(e){let t,n,i,s;return Xt(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function hI(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function _A(e,t,n,i={}){const s=e.keys,a=i.mode==="single";let l,c,h,f;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}f=e.values[h],Ge(f)&&(a||t===0||Js(t)===Js(f))&&(t+=f)}return!p&&!i.all?0:t}function O8(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],c[h]={[s]:p,[a]:e[p]};return c}function yb(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function P8(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function N8(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function L8(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function bA(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function vA(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,f=l.axis,p=P8(a,l,i),y=t.length;let _;for(let w=0;w<y;++w){const E=t[w],{[h]:A,[f]:S}=E,C=E._stacks||(E._stacks={});_=C[f]=L8(s,p,A),_[c]=S,_._top=bA(_,l,!0,i.type),_._bottom=bA(_,l,!1,i.type);const O=_._visualValues||(_._visualValues={});O[c]=S}}function _b(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function V8(e,t){return go(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function j8(e,t,n){return go(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function vh(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const bb=e=>e==="reset"||e==="none",xA=(e,t)=>t?e:Object.assign({},e),U8=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:hI(n,!0),values:null};class ys{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=yb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&vh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,w,E)=>y==="x"?_:y==="r"?E:w,a=n.xAxisID=Vt(i.xAxisID,_b(t,"x")),l=n.yAxisID=Vt(i.yAxisID,_b(t,"y")),c=n.rAxisID=Vt(i.rAxisID,_b(t,"r")),h=n.indexAxis,f=n.iAxisID=s(h,a,l,c),p=n.vAxisID=s(h,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&iA(this._data,this),t._stacked&&vh(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Xt(n)){const s=this._cachedMeta;this._data=O8(n,s)}else if(i!==n){if(i){iA(i,this);const s=this._cachedMeta;vh(s),s._parsed=[]}n&&Object.isExtensible(n)&&Eq(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=yb(n.vScale,n),n.stack!==i.stack&&(s=!0,vh(n),n.stack=i.stack),this._resyncElements(t),(s||a!==n._stacked)&&(vA(this,n._parsed),n._stacked=yb(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&n===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{Oe(s[t])?_=this.parseArrayData(i,s,t,n):Xt(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const w=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(w()&&(h=!1),f=y);i._sorted=h}l&&vA(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,f=a.getLabels(),p=a===l,y=new Array(s);let _,w,E;for(_=0,w=s;_<w;++_)E=_+i,y[_]={[c]:p||a.parse(f[E],E),[h]:l.parse(n[E],E)};return y}parseArrayData(t,n,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,f,p,y;for(h=0,f=s;h<f;++h)p=h+i,y=n[p],c[h]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,y,_,w;for(p=0,y=s;p<y;++p)_=p+i,w=n[_],f[p]={x:a.parse(lo(w,c),_),y:l.parse(lo(w,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,a=this._cachedMeta,l=n[t.axis],c={keys:hI(s,!0),values:n._stacks[t.axis]._visualValues};return _A(c,l,a.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=_A(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=U8(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=N8(c);let _,w;function E(){w=s[_];const A=w[c.axis];return!Ge(w[t.axis])||p>A||y<A}for(_=0;_<l&&!(!E()&&(this.updateRangeFromParsed(f,t,w,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(f,t,w,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][t.axis],Ge(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=I8(Vt(this.options.clip,M8(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=j8(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=V8(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=t+"-"+n,c=a[l],h=this.enableOptionSharing&&Sf(i);if(c)return xA(c,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),w=Object.keys(Ne.elements[t]),E=()=>this.getContext(i,s,n),A=f.resolveNamedOptions(_,w,E,y);return A.$shared&&(A.$shared=h,a[l]=Object.freeze(xA(A,h))),A}_resolveAnimations(t,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const f=new uI(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||bb(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(t,n,i,s){bb(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!bb(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,i=!0){const s=this._cachedMeta,a=s.data,l=t+n;let c;const h=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&vh(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}yt(ys,"defaults",{}),yt(ys,"datasetElementType",null),yt(ys,"dataElementType",null);function z8(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=$M(i.sort((s,a)=>s-a))}return e._cache.$bar}function B8(e){const t=e.iScale,n=z8(t,e.type);let i=t._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(Sf(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=n.length;s<a;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function F8(e,t,n,i){const s=n.barThickness;let a,l;return Ft(s)?(a=t.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[e]-a/2}}function q8(e,t,n,i){const s=t.pixels,a=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:f}}function $8(e,t,n,i){const s=n.parse(e[0],i),a=n.parse(e[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),t[n.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:c}}function fI(e,t,n,i){return Oe(e)?$8(e,t,n,i):t[n.axis]=n.parse(e,i),t}function wA(e,t,n,i){const s=e.iScale,a=e.vScale,l=s.getLabels(),c=s===a,h=[];let f,p,y,_;for(f=n,p=n+i;f<p;++f)_=t[f],y={},y[s.axis]=c||s.parse(l[f],f),h.push(fI(_,y,a,f));return h}function vb(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function H8(e,t,n){return e!==0?Js(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function W8(e){let t,n,i,s,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:t,top:s,bottom:a}}function Y8(e,t,n,i){let s=t.borderSkipped;const a={};if(!s){e.borderSkipped=a;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:p}=W8(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=f:(n._bottom||0)===i?s=p:(a[EA(p,l,c,h)]=!0,s=f)),a[EA(s,l,c,h)]=!0,e.borderSkipped=a}function EA(e,t,n,i){return i?(e=G8(e,t,n),e=SA(e,n,t)):e=SA(e,t,n),e}function G8(e,t,n){return e===t?n:e===n?t:e}function SA(e,t,n){return e==="start"?t:e==="end"?n:e}function K8(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class pg extends ys{parsePrimitiveData(t,n,i,s){return wA(t,n,i,s)}parseArrayData(t,n,i,s){return wA(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,w,E,A;for(_=i,w=i+s;_<w;++_)A=n[_],E={},E[a.axis]=a.parse(lo(A,f),_),y.push(fI(lo(A,p),E,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(t),l=a._custom,c=vb(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let w=n;w<n+i;w++){const E=this.getParsed(w),A=a||Ft(E[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(w),S=this._calculateBarIndexPixels(w,p),C=(E._stacks||{})[c.axis],O={horizontal:f,base:A.base,enableBorderRadius:!C||vb(E._custom)||l===C._top||l===C._bottom,x:f?A.head:S.center,y:f?S.center:A.head,height:f?S.size:Math.abs(A.size),width:f?Math.abs(A.size):S.size};_&&(O.options=y||this.resolveDataElementOptions(w,t[w].active?"active":s));const M=O.options||t[w].options;Y8(O,M,C,l),K8(O,M,p.ratio),this.updateElement(t[w],w,O,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],f=p=>{const y=p._parsed.find(w=>w[i.axis]===h),_=y&&y[p.vScale.axis];if(Ft(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Vt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||B8(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(t),f=h._custom,p=vb(f);let y=h[n.axis],_=0,w=i?this.applyStack(n,h,i):y,E,A;w!==y&&(_=w-y,w=y),p&&(y=f.barStart,w=f.barEnd-f.barStart,y!==0&&Js(y)!==Js(f.barEnd)&&(_=0),_+=y);const S=!Ft(a)&&!p?a:_;let C=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(_+w):E=C,A=E-C,Math.abs(A)<l){A=H8(A,n,c)*l,y===c&&(C-=A/2);const O=n.getPixelForDecimal(0),M=n.getPixelForDecimal(1),q=Math.min(O,M),L=Math.max(O,M);C=Math.max(Math.min(C,L),q),E=C+A,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const O=Js(A)*n.getLineWidthForValue(c)/2;C+=O,A-=O}return{size:A,base:C,head:E,center:E+A/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,a=s.skipNull,l=Vt(s.maxBarThickness,1/0);let c,h;const f=this._getAxisCount();if(n.grouped){const p=a?this._getStackCount(t):n.stackCount,y=s.barThickness==="flex"?q8(t,n,s,p*f):F8(t,n,s,p*f),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Vt(_,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+w;c=y.start+y.chunk*E+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}yt(pg,"id","bar"),yt(pg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),yt(pg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class gg extends ys{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const a=super.parsePrimitiveData(t,n,i,s);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+i).radius;return a}parseArrayData(t,n,i,s){const a=super.parseArrayData(t,n,i,s);for(let l=0;l<a.length;l++){const c=n[i+l];a[l]._custom=Vt(c[2],this.resolveDataElementOptions(l+i).radius)}return a}parseObjectData(t,n,i,s){const a=super.parseObjectData(t,n,i,s);for(let l=0;l<a.length;l++){const c=n[i+l];a[l]._custom=Vt(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=a.getLabelForValue(l.y),f=l._custom;return{label:i[t]||"",value:"("+c+", "+h+(f?", "+f:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s),p=l.axis,y=c.axis;for(let _=n;_<n+i;_++){const w=t[_],E=!a&&this.getParsed(_),A={},S=A[p]=a?l.getPixelForDecimal(.5):l.getPixelForValue(E[p]),C=A[y]=a?c.getBasePixel():c.getPixelForValue(E[y]);A.skip=isNaN(S)||isNaN(C),f&&(A.options=h||this.resolveDataElementOptions(_,w.active?"active":s),a&&(A.options.radius=0)),this.updateElement(w,_,A,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Vt(i&&i._custom,a),s}}yt(gg,"id","bubble"),yt(gg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),yt(gg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function X8(e,t,n){let i=1,s=1,a=0,l=0;if(t<Pe){const c=e,h=c+t,f=Math.cos(c),p=Math.sin(c),y=Math.cos(h),_=Math.sin(h),w=(M,q,L)=>Tf(M,c,h,!0)?1:Math.max(q,q*n,L,L*n),E=(M,q,L)=>Tf(M,c,h,!0)?-1:Math.min(q,q*n,L,L*n),A=w(0,f,y),S=w(tn,p,_),C=E(oe,f,y),O=E(oe+tn,p,_);i=(A-C)/2,s=(S-O)/2,a=-(A+C)/2,l=-(S+O)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:l}}class il extends ys{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=h=>+i[h];if(Xt(i[t])){const{key:h="value"}=this._parsing;a=f=>+lo(i[f],h)}let l,c;for(l=t,c=t+n;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return ps(this.options.rotation-90)}_getCircumference(){return ps(this.options.circumference)}_getRotationExtents(){let t=Pe,n=-Pe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),l=s._getCircumference();t=Math.min(t,a),n=Math.max(n,a+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(lq(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:w,offsetX:E,offsetY:A}=X8(y,p,h),S=(i.width-l)/_,C=(i.height-l)/w,O=Math.max(Math.min(S,C)/2,0),M=UM(this.options.radius,O),q=Math.max(M*h,0),L=(M-q)/this._getVisibleDatasetWeightTotal();this.offsetX=E*M,this.offsetY=A*M,s.total=this.calculateTotal(),this.outerRadius=M-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/Pe)}updateElements(t,n,i,s){const a=s==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=a&&f.animateScale,w=_?0:this.innerRadius,E=_?0:this.outerRadius,{sharedOptions:A,includeOptions:S}=this._getSharedOptions(n,s);let C=this._getRotation(),O;for(O=0;O<n;++O)C+=this._circumference(O,a);for(O=n;O<n+i;++O){const M=this._circumference(O,a),q=t[O],L={x:p+this.offsetX,y:y+this.offsetY,startAngle:C,endAngle:C+M,circumference:M,outerRadius:E,innerRadius:w};S&&(L.options=A||this.resolveDataElementOptions(O,q.active?"active":s)),C+=M,this.updateElement(q,O,L,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Pe*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=Kf(n._parsed[t],i.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,a,l,c,h;if(!t){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Vt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}yt(il,"id","doughnut"),yt(il,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),yt(il,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),yt(il,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class mg extends ys{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=YM(n,s,l);this._drawStart=c,this._drawCount=h,GM(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,w=c.axis,{spanGaps:E,segment:A}=this.options,S=Gc(E)?E:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||s==="none",O=n+i,M=t.length;let q=n>0&&this.getParsed(n-1);for(let L=0;L<M;++L){const Y=t[L],D=C?Y:{};if(L<n||L>=O){D.skip=!0;continue}const k=this.getParsed(L),V=Ft(k[w]),z=D[_]=l.getPixelForValue(k[_],L),F=D[w]=a||V?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,k,h):k[w],L);D.skip=isNaN(z)||isNaN(F)||V,D.stop=L>0&&Math.abs(k[_]-q[_])>S,A&&(D.parsed=k,D.raw=f.data[L]),y&&(D.options=p||this.resolveDataElementOptions(L,Y.active?"active":s)),C||this.updateElement(Y,L,D,s),q=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}yt(mg,"id","line"),yt(mg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),yt(mg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Jh extends ys{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=Kf(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:a}}parseObjectData(t,n,i,s){return nI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),c=(a-l)/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,i,s){const a=s==="reset",l=this.chart,h=l.options.animation,f=this._cachedMeta.rScale,p=f.xCenter,y=f.yCenter,_=f.getIndexAngle(0)-.5*oe;let w=_,E;const A=360/this.countVisibleElements();for(E=0;E<n;++E)w+=this._computeAngle(E,s,A);for(E=n;E<n+i;E++){const S=t[E];let C=w,O=w+this._computeAngle(E,s,A),M=l.getDataVisibility(E)?f.getDistanceFromCenterForValue(this.getParsed(E).r):0;w=O,a&&(h.animateScale&&(M=0),h.animateRotate&&(C=O=_));const q={x:p,y,innerRadius:0,outerRadius:M,startAngle:C,endAngle:O,options:this.resolveDataElementOptions(E,S.active?"active":s)};this.updateElement(S,E,q,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?ps(this.resolveDataElementOptions(t,n).angle||i):0}}yt(Jh,"id","polarArea"),yt(Jh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),yt(Jh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class R0 extends il{}yt(R0,"id","pie"),yt(R0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class yg extends ys{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return nI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],a=n.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:a.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const a=this._cachedMeta.rScale,l=s==="reset";for(let c=n;c<n+i;c++){const h=t[c],f=this.resolveDataElementOptions(c,h.active?"active":s),p=a.getPointPositionForValue(c,this.getParsed(c).r),y=l?a.xCenter:p.x,_=l?a.yCenter:p.y,w={x:y,y:_,angle:p.angle,skip:isNaN(y)||isNaN(_),options:f};this.updateElement(h,c,w,s)}}}yt(yg,"id","radar"),yt(yg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),yt(yg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class _g extends ys{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=a.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+h+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:a,count:l}=YM(n,i,s);if(this._drawStart=a,this._drawCount=l,GM(n)&&(a=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=i;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:f},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,a,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,p=this.resolveDataElementOptions(n,s),y=this.getSharedOptions(p),_=this.includeOptions(s,y),w=l.axis,E=c.axis,{spanGaps:A,segment:S}=this.options,C=Gc(A)?A:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||a||s==="none";let M=n>0&&this.getParsed(n-1);for(let q=n;q<n+i;++q){const L=t[q],Y=this.getParsed(q),D=O?L:{},k=Ft(Y[E]),V=D[w]=l.getPixelForValue(Y[w],q),z=D[E]=a||k?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,Y,h):Y[E],q);D.skip=isNaN(V)||isNaN(z)||k,D.stop=q>0&&Math.abs(Y[w]-M[w])>C,S&&(D.parsed=Y,D.raw=f.data[q]),_&&(D.options=y||this.resolveDataElementOptions(q,L.active?"active":s)),O||this.updateElement(L,q,D,s),M=Y}this.updateSharedOptions(y,s,p)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let h=n.length-1;h>=0;--h)c=Math.max(c,n[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const a=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,a,l)/2}}yt(_g,"id","scatter"),yt(_g,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),yt(_g,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Q8=Object.freeze({__proto__:null,BarController:pg,BubbleController:gg,DoughnutController:il,LineController:mg,PieController:R0,PolarAreaController:Jh,RadarController:yg,ScatterController:_g});function Go(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class px{constructor(t){yt(this,"options");this.options=t||{}}static override(t){Object.assign(px.prototype,t)}init(){}formats(){return Go()}parse(){return Go()}format(){return Go()}add(){return Go()}diff(){return Go()}startOf(){return Go()}endOf(){return Go()}}var Z8={_date:px};function J8(e,t,n,i){const{controller:s,data:a,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const f=c._reversePixels?xq:qr;if(i){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(a,t,n-y),w=f(a,t,n+y);return{lo:_.lo,hi:w.hi}}}}else{const p=f(a,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,w=_.slice(0,p.lo+1).reverse().findIndex(A=>!Ft(A[y.axis]));p.lo-=Math.max(0,w);const E=_.slice(p.hi).findIndex(A=>!Ft(A[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:a.length-1}}function Vm(e,t,n,i,s){const a=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=a.length;c<h;++c){const{index:f,data:p}=a[c],{lo:y,hi:_}=J8(a[c],t,l,s);for(let w=y;w<=_;++w){const E=p[w];E.skip||i(E,f,w)}}}function t$(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function xb(e,t,n,i,s){const a=[];return!s&&!e.isPointInArea(t)||Vm(e,n,t,function(c,h,f){!s&&!$r(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:f})},!0),a}function e$(e,t,n,i){let s=[];function a(l,c,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=FM(l,{x:t.x,y:t.y});Tf(y,f,p)&&s.push({element:l,datasetIndex:c,index:h})}return Vm(e,n,t,a),s}function n$(e,t,n,i,s,a){let l=[];const c=t$(n);let h=Number.POSITIVE_INFINITY;function f(p,y,_){const w=p.inRange(t.x,t.y,s);if(i&&!w)return;const E=p.getCenterPoint(s);if(!(!!a||e.isPointInArea(E))&&!w)return;const S=c(t,E);S<h?(l=[{element:p,datasetIndex:y,index:_}],h=S):S===h&&l.push({element:p,datasetIndex:y,index:_})}return Vm(e,n,t,f),l}function wb(e,t,n,i,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?e$(e,t,n,s):n$(e,t,n,i,s,a)}function TA(e,t,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Vm(e,n,t,(h,f,p)=>{h[l]&&h[l](t[n],s)&&(a.push({element:h,datasetIndex:f,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var i$={modes:{index(e,t,n,i){const s=Zo(t,e),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?xb(e,s,a,i,l):wb(e,s,a,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,i){const s=Zo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?xb(e,s,a,i,l):wb(e,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=e.getDatasetMeta(h).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=Zo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return xb(e,s,a,i,l)},nearest(e,t,n,i){const s=Zo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return wb(e,s,a,n.intersect,i,l)},x(e,t,n,i){const s=Zo(t,e);return TA(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Zo(t,e);return TA(e,s,"y",n.intersect,i)}}};const dI=["left","top","right","bottom"];function xh(e,t){return e.filter(n=>n.pos===t)}function AA(e,t){return e.filter(n=>dI.indexOf(n.pos)===-1&&n.box.axis===t)}function wh(e,t){return e.sort((n,i)=>{const s=t?i:n,a=t?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function s$(e){const t=[];let n,i,s,a,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function r$(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!dI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function a$(e,t){const n=r$(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=e.length;a<l;++a){c=e[a];const{fullSize:h}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function o$(e){const t=s$(e),n=wh(t.filter(f=>f.box.fullSize),!0),i=wh(xh(t,"left"),!0),s=wh(xh(t,"right")),a=wh(xh(t,"top"),!0),l=wh(xh(t,"bottom")),c=AA(t,"x"),h=AA(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:xh(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function RA(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function pI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function l$(e,t,n,i){const{pos:s,box:a}=n,l=e.maxPadding;if(!Xt(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[s]+=n.size}a.getPadding&&pI(l,a.getPadding());const c=Math.max(0,t.outerWidth-RA(l,e,"left","right")),h=Math.max(0,t.outerHeight-RA(l,e,"top","bottom")),f=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function c$(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function u$(e,t){const n=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],n[l])}),a}return i(e?["left","right"]:["top","bottom"])}function jh(e,t,n,i){const s=[];let a,l,c,h,f,p;for(a=0,l=e.length,f=0;a<l;++a){c=e[a],h=c.box,h.update(c.width||t.w,c.height||t.h,u$(c.horizontal,t));const{same:y,other:_}=l$(t,n,c,i);f|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return f&&jh(s,t,n,i)||p}function Pp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function kA(e,t,n,i){const s=n.padding;let{x:a,y:l}=t;for(const c of e){const h=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,_=f.size||h.height;Sf(f.start)&&(l=f.start),h.fullSize?Pp(h,s.left,l,n.outerWidth-s.right-s.left,_):Pp(h,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=h.bottom}else{const y=t.h*p,_=f.size||h.width;Sf(f.start)&&(a=f.start),h.fullSize?Pp(h,a,s.top,_,n.outerHeight-s.bottom-s.top):Pp(h,a,t.top+f.placed,_,y),f.start=a,f.placed+=y,a=h.right}}t.x=a,t.y=l}var ii={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Yn(e.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=o$(e.boxes),h=c.vertical,f=c.horizontal;de(e.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=h.reduce((A,S)=>S.box.options&&S.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);pI(_,Yn(i));const w=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),E=a$(h.concat(f),y);jh(c.fullSize,w,y,E),jh(h,w,y,E),jh(f,w,y,E)&&jh(h,w,y,E),c$(w),kA(c.leftAndTop,w,y,E),w.x+=w.w,w.y+=w.h,kA(c.rightAndBottom,w,y,E),e.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},de(c.chartArea,A=>{const S=A.box;Object.assign(S,e.chartArea),S.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class gI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class h$ extends gI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const bg="$chartjs",f$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},CA=e=>e===null||e==="";function d$(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[bg]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",CA(s)){const a=fA(e,"width");a!==void 0&&(e.width=a)}if(CA(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=fA(e,"height");a!==void 0&&(e.height=a)}return e}const mI=p8?{passive:!0}:!1;function p$(e,t,n){e&&e.addEventListener(t,n,mI)}function g$(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,mI)}function m$(e,t){const n=f$[e.type]||e.type,{x:i,y:s}=Zo(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Xg(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function y$(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Xg(c.addedNodes,i),l=l&&!Xg(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function _$(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Xg(c.removedNodes,i),l=l&&!Xg(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Rf=new Map;let DA=0;function yI(){const e=window.devicePixelRatio;e!==DA&&(DA=e,Rf.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function b$(e,t){Rf.size||window.addEventListener("resize",yI),Rf.set(e,t)}function v$(e){Rf.delete(e),Rf.size||window.removeEventListener("resize",yI)}function x$(e,t,n){const i=e.canvas,s=i&&dx(i);if(!s)return;const a=WM((c,h)=>{const f=s.clientWidth;n(c,h),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),b$(e,a),l}function Eb(e,t,n){n&&n.disconnect(),t==="resize"&&v$(e)}function w$(e,t,n){const i=e.canvas,s=WM(a=>{e.ctx!==null&&n(m$(a,e))},e);return p$(i,t,s),s}class E$ extends gI{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(d$(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[bg])return!1;const i=n[bg].initial;["height","width"].forEach(a=>{const l=i[a];Ft(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[bg],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:y$,detach:_$,resize:x$}[n]||w$;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Eb,detach:Eb,resize:Eb}[n]||g$)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return d8(t,n,i,s)}isAttached(t){const n=t&&dx(t);return!!(n&&n.isConnected)}}function S$(e){return!fx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?h$:E$}class vs{constructor(){yt(this,"x");yt(this,"y");yt(this,"active",!1);yt(this,"options");yt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Gc(this.x)&&Gc(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}yt(vs,"defaults",{}),yt(vs,"defaultRoutes");function T$(e,t){const n=e.options.ticks,i=A$(e),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?k$(t):[],l=a.length,c=a[0],h=a[l-1],f=[];if(l>s)return C$(t,f,a,l/s),f;const p=R$(a,t,s);if(l>0){let y,_;const w=l>1?Math.round((h-c)/(l-1)):null;for(Np(t,f,p,Ft(w)?0:c-w,c),y=0,_=l-1;y<_;y++)Np(t,f,p,a[y],a[y+1]);return Np(t,f,p,h,Ft(w)?t.length:h+w),f}return Np(t,f,p),f}function A$(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function R$(e,t,n){const i=D$(e),s=t.length/n;if(!i)return Math.max(s,1);const a=mq(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function k$(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function C$(e,t,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===a&&(t.push(e[l]),s++,a=n[s*i])}function Np(e,t,n,i,s){const a=Vt(i,0),l=Math.min(Vt(s,e.length),e.length);let c=0,h,f,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(e[f]),c++,p=Math.round(a+c*n))}function D$(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const M$=e=>e==="left"?"right":e==="right"?"left":e,MA=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,IA=(e,t)=>Math.min(t||e,e);function OA(e,t){const n=[],i=e.length/t,s=e.length;let a=0;for(;a<s;a+=i)n.push(e[Math.floor(a)]);return n}function I$(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),a=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),f;if(!(n&&(i===1?f=Math.max(h-a,l-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-c||h>l+c)))return h}function O$(e,t){de(e,n=>{const i=n.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function Eh(e){return e.drawTicks?e.tickLength:0}function PA(e,t){if(!e.display)return 0;const n=dn(e.font,t),i=Yn(e.padding);return(Oe(e.text)?e.text.length:1)*n.lineHeight+i.height}function P$(e,t){return go(e,{scale:t,type:"scale"})}function N$(e,t,n){return go(e,{tick:n,index:t,type:"tick"})}function L$(e,t,n){let i=ax(e);return(n&&t!=="right"||!n&&t==="right")&&(i=M$(i)),i}function V$(e,t,n,i){const{top:s,left:a,bottom:l,right:c,chart:h}=e,{chartArea:f,scales:p}=h;let y=0,_,w,E;const A=l-s,S=c-a;if(e.isHorizontal()){if(w=Zn(i,a,c),Xt(n)){const C=Object.keys(n)[0],O=n[C];E=p[C].getPixelForValue(O)+A-t}else n==="center"?E=(f.bottom+f.top)/2+A-t:E=MA(e,n,t);_=c-a}else{if(Xt(n)){const C=Object.keys(n)[0],O=n[C];w=p[C].getPixelForValue(O)-S+t}else n==="center"?w=(f.left+f.right)/2-S+t:w=MA(e,n,t);E=Zn(i,l,s),y=n==="left"?-tn:tn}return{titleX:w,titleY:E,maxWidth:_,rotation:y}}class El extends vs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Pi(t,Number.POSITIVE_INFINITY),n=Pi(n,Number.NEGATIVE_INFINITY),i=Pi(i,Number.POSITIVE_INFINITY),s=Pi(s,Number.NEGATIVE_INFINITY),{min:Pi(t,i),max:Pi(n,s),minDefined:Ge(t),maxDefined:Ge(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:Pi(n,Pi(i,n)),max:Pi(i,Pi(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ee(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Hq(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?OA(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=T$(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ee(this.options.afterUpdate,[this])}beforeSetDimensions(){Ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ee(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ee(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=Ee(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=IA(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,h,f;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,w=Nn(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:w/(i-1),y+6>c&&(c=w/(i-(t.offset?.5:1)),h=this.maxHeight-Eh(t.grid)-n.padding-PA(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=sx(Math.min(Math.asin(Nn((p.highest.height+6)/c,-1,1)),Math.asin(Nn(h/f,-1,1))-Math.asin(Nn(_/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ee(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ee(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=PA(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=Eh(a)+h):(t.height=this.maxHeight,t.width=Eh(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),w=i.padding*2,E=ps(this.labelRotation),A=Math.cos(E),S=Math.sin(E);if(c){const C=i.mirror?0:S*y.width+A*_.height;t.height=Math.min(this.maxHeight,t.height+C+w)}else{const C=i.mirror?0:A*y.width+S*_.height;t.width=Math.min(this.maxWidth,t.width+C+w)}this._calculatePadding(f,p,S,A)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,w=0;h?f?(_=s*t.width,w=i*n.height):(_=i*t.height,w=s*n.width):a==="start"?w=n.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,w=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((w-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;a==="start"?(p=0,y=t.height):a==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ee(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Ft(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=OA(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(n/IA(n,i));let f=0,p=0,y,_,w,E,A,S,C,O,M,q,L;for(y=0;y<n;y+=h){if(E=t[y].label,A=this._resolveTickFontOptions(y),s.font=S=A.string,C=a[S]=a[S]||{data:{},gc:[]},O=A.lineHeight,M=q=0,!Ft(E)&&!Oe(E))M=Gg(s,C.data,C.gc,M,E),q=O;else if(Oe(E))for(_=0,w=E.length;_<w;++_)L=E[_],!Ft(L)&&!Oe(L)&&(M=Gg(s,C.data,C.gc,M,L),q+=O);l.push(M),c.push(q),f=Math.max(M,f),p=Math.max(q,p)}O$(a,n);const Y=l.indexOf(f),D=c.indexOf(p),k=V=>({width:l[V]||0,height:c[V]||0});return{first:k(0),last:k(n-1),widest:k(Y),highest:k(D),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return vq(this._alignToPixels?Yo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=N$(this.getContext(),t,i))}return this.$context||(this.$context=P$(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ps(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=Eh(a),w=[],E=c.setContext(this.getContext()),A=E.display?E.width:0,S=A/2,C=function(W){return Yo(i,W,A)};let O,M,q,L,Y,D,k,V,z,F,N,P;if(l==="top")O=C(this.bottom),D=this.bottom-_,V=O-S,F=C(t.top)+S,P=t.bottom;else if(l==="bottom")O=C(this.top),F=t.top,P=C(t.bottom)-S,D=O+S,V=this.top+_;else if(l==="left")O=C(this.right),Y=this.right-_,k=O-S,z=C(t.left)+S,N=t.right;else if(l==="right")O=C(this.left),z=t.left,N=C(t.right)-S,Y=O+S,k=this.left+_;else if(n==="x"){if(l==="center")O=C((t.top+t.bottom)/2+.5);else if(Xt(l)){const W=Object.keys(l)[0],G=l[W];O=C(this.chart.scales[W].getPixelForValue(G))}F=t.top,P=t.bottom,D=O+S,V=D+_}else if(n==="y"){if(l==="center")O=C((t.left+t.right)/2);else if(Xt(l)){const W=Object.keys(l)[0],G=l[W];O=C(this.chart.scales[W].getPixelForValue(G))}Y=O-S,k=Y-_,z=t.left,N=t.right}const bt=Vt(s.ticks.maxTicksLimit,y),ot=Math.max(1,Math.ceil(y/bt));for(M=0;M<y;M+=ot){const W=this.getContext(M),G=a.setContext(W),Q=c.setContext(W),X=G.lineWidth,U=G.color,J=Q.dash||[],rt=Q.dashOffset,lt=G.tickWidth,gt=G.tickColor,Tt=G.tickBorderDash||[],xt=G.tickBorderDashOffset;q=I$(this,M,h),q!==void 0&&(L=Yo(i,q,X),f?Y=k=z=N=L:D=V=F=P=L,w.push({tx1:Y,ty1:D,tx2:k,ty2:V,x1:z,y1:F,x2:N,y2:P,width:X,color:U,borderDash:J,borderDashOffset:rt,tickWidth:lt,tickColor:gt,tickBorderDash:Tt,tickBorderDashOffset:xt}))}return this._ticksLength=y,this._borderValue=O,w}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:p,mirror:y}=a,_=Eh(i.grid),w=_+p,E=y?-p:w,A=-ps(this.labelRotation),S=[];let C,O,M,q,L,Y,D,k,V,z,F,N,P="middle";if(s==="top")Y=this.bottom-E,D=this._getXAxisLabelAlignment();else if(s==="bottom")Y=this.top+E,D=this._getXAxisLabelAlignment();else if(s==="left"){const ot=this._getYAxisLabelAlignment(_);D=ot.textAlign,L=ot.x}else if(s==="right"){const ot=this._getYAxisLabelAlignment(_);D=ot.textAlign,L=ot.x}else if(n==="x"){if(s==="center")Y=(t.top+t.bottom)/2+w;else if(Xt(s)){const ot=Object.keys(s)[0],W=s[ot];Y=this.chart.scales[ot].getPixelForValue(W)+w}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")L=(t.left+t.right)/2-w;else if(Xt(s)){const ot=Object.keys(s)[0],W=s[ot];L=this.chart.scales[ot].getPixelForValue(W)}D=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?P="top":h==="end"&&(P="bottom"));const bt=this._getLabelSizes();for(C=0,O=c.length;C<O;++C){M=c[C],q=M.label;const ot=a.setContext(this.getContext(C));k=this.getPixelForTick(C)+a.labelOffset,V=this._resolveTickFontOptions(C),z=V.lineHeight,F=Oe(q)?q.length:1;const W=F/2,G=ot.color,Q=ot.textStrokeColor,X=ot.textStrokeWidth;let U=D;l?(L=k,D==="inner"&&(C===O-1?U=this.options.reverse?"left":"right":C===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?f==="near"||A!==0?N=-F*z+z/2:f==="center"?N=-bt.highest.height/2-W*z+z:N=-bt.highest.height+z/2:f==="near"||A!==0?N=z/2:f==="center"?N=bt.highest.height/2-W*z:N=bt.highest.height-F*z,y&&(N*=-1),A!==0&&!ot.showLabelBackdrop&&(L+=z/2*Math.sin(A))):(Y=k,N=(1-F)*z/2);let J;if(ot.showLabelBackdrop){const rt=Yn(ot.backdropPadding),lt=bt.heights[C],gt=bt.widths[C];let Tt=N-rt.top,xt=0-rt.left;switch(P){case"middle":Tt-=lt/2;break;case"bottom":Tt-=lt;break}switch(D){case"center":xt-=gt/2;break;case"right":xt-=gt;break;case"inner":C===O-1?xt-=gt:C>0&&(xt-=gt/2);break}J={left:xt,top:Tt,width:gt+rt.width,height:lt+rt.height,color:ot.backdropColor}}S.push({label:q,font:V,textOffset:N,options:{rotation:A,color:G,strokeColor:Q,strokeWidth:X,textAlign:U,textBaseline:P,translation:[L,Y],backdrop:J}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ps(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=Yo(t,this.left,l)-l/2,p=Yo(t,this.right,c)+c/2,y=_=h):(y=Yo(t,this.top,l)-l/2,_=Yo(t,this.bottom,c)+c/2,f=p=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Pm(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,f=l.label,p=l.textOffset;bl(i,f,0,p,h,c)}s&&Nm(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=dn(i.font),l=Yn(i.padding),c=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||Xt(n)?(h+=l.bottom,Oe(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=V$(this,h,n,c);bl(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:L$(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Vt(t.grid&&t.grid.z,-1),s=Vt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==El.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return dn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Lp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;z$(n)&&(i=this.register(n));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,j$(t,l,i),this.override&&Ne.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Ne[s]&&(delete Ne[s][i],this.override&&delete _l[i])}}function j$(e,t,n){const i=er(Object.create(null),[n?Ne.get(n):{},Ne.get(t),e.defaults]);Ne.set(t,i),e.defaultRoutes&&U$(t,e.defaultRoutes),e.descriptors&&Ne.describe(t,e.descriptors)}function U$(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),a=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");Ne.route(a,s,h,c)})}function z$(e){return"id"in e&&"defaults"in e}class B${constructor(){this.controllers=new Lp(ys,"datasets",!0),this.elements=new Lp(vs,"elements"),this.plugins=new Lp(Object,"plugins"),this.scales=new Lp(El,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):de(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=ix(t);Ee(i["before"+s],[],i),n[t](i),Ee(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Fs=new B$;class F${constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[n,s,a.options];if(Ee(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=Vt(i.options&&i.options.plugins,{}),a=q$(i);return s===!1&&!n?[]:H$(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function q$(e){const t={},n=[],i=Object.keys(Fs.plugins.items);for(let a=0;a<i.length;a++)n.push(Fs.getPlugin(i[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function $$(e,t){return!t&&e===!1?null:e===!0?{}:e}function H$(e,{plugins:t,localIds:n},i,s){const a=[],l=e.getContext();for(const c of t){const h=c.id,f=$$(i[h],s);f!==null&&a.push({plugin:c,options:W$(e.config,{plugin:c,local:n[h]},f,l)})}return a}function W$(e,{plugin:t,local:n},i,s){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(i,a);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function k0(e,t){const n=Ne.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Y$(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function G$(e,t){return e===t?"_index_":"_value_"}function NA(e){if(e==="x"||e==="y"||e==="r")return e}function K$(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function C0(e,...t){if(NA(e))return e;for(const n of t){const i=n.axis||K$(n.position)||e.length>1&&NA(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function LA(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function X$(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return LA(e,"x",n[0])||LA(e,"y",n[0])}return{}}function Q$(e,t){const n=_l[e.type]||{scales:{}},i=t.scales||{},s=k0(e.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!Xt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=C0(l,c,X$(l,e),Ne.scales[c.type]),f=G$(h,s),p=n.scales||{};a[l]=Kh(Object.create(null),[{axis:h},c,p[h],p[f]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||k0(c,t),p=(_l[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=Y$(y,h),w=l[_+"AxisID"]||_;a[w]=a[w]||Object.create(null),Kh(a[w],[{axis:_},i[w],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];Kh(c,[Ne.scales[c.type],Ne.scale])}),a}function _I(e){const t=e.options||(e.options={});t.plugins=Vt(t.plugins,{}),t.scales=Q$(e,t)}function bI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Z$(e){return e=e||{},e.data=bI(e.data),_I(e),e}const VA=new Map,vI=new Set;function Vp(e,t){let n=VA.get(e);return n||(n=t(),VA.set(e,n),vI.add(n)),n}const Sh=(e,t,n)=>{const i=lo(t,n);i!==void 0&&e.add(i)};class J${constructor(t){this._config=Z$(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),_I(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Vp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Vp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Vp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Vp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>Sh(h,t,y))),p.forEach(y=>Sh(h,s,y)),p.forEach(y=>Sh(h,_l[a]||{},y)),p.forEach(y=>Sh(h,Ne,y)),p.forEach(y=>Sh(h,T0,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),vI.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,_l[n]||{},Ne.datasets[n]||{},{type:n},Ne,T0]}resolveNamedOptions(t,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=jA(this._resolverCache,t,s);let h=l;if(eH(l,n)){a.$shared=!1,i=co(i)?i():i;const f=this.createResolver(t,i,c);h=Kc(l,i,f)}for(const f of n)a[f]=h[f];return a}createResolver(t,n,i=[""],s){const{resolver:a}=jA(this._resolverCache,t,i);return Xt(n)?Kc(a,n,void 0,s):a}}function jA(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let a=i.get(s);return a||(a={resolver:cx(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const tH=e=>Xt(e)&&Object.getOwnPropertyNames(e).some(t=>co(e[t]));function eH(e,t){const{isScriptable:n,isIndexable:i}=ZM(e);for(const s of t){const a=n(s),l=i(s),c=(l||a)&&e[s];if(a&&(co(c)||tH(c))||l&&Oe(c))return!0}return!1}var nH="4.5.0";const iH=["top","bottom","left","right","chartArea"];function UA(e,t){return e==="top"||e==="bottom"||iH.indexOf(e)===-1&&t==="x"}function zA(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function BA(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ee(n&&n.onComplete,[e],t)}function sH(e){const t=e.chart,n=t.options.animation;Ee(n&&n.onProgress,[e],t)}function xI(e){return fx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const vg={},FA=e=>{const t=xI(e);return Object.values(vg).filter(n=>n.canvas===t).pop()};function rH(e,t,n){const i=Object.keys(e);for(const s of i){const a=+s;if(a>=t){const l=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=l)}}}function aH(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class vi{static register(...t){Fs.add(...t),qA()}static unregister(...t){Fs.remove(...t),qA()}constructor(t,n){const i=this.config=new J$(n),s=xI(t),a=FA(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||S$(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,p=h&&h.width;if(this.id=oq(),this.ctx=c,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new F$,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Sq(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],vg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Pr.listen(this,"complete",BA),Pr.listen(this,"progress",sH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return Ft(t)?n&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Fs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lA(this.canvas,this.ctx),this}stop(){return Pr.stop(this),this}resize(t,n){Pr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,hA(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Ee(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};de(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],h=C0(l,c),f=h==="r",p=h==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),de(a,l=>{const c=l.options,h=c.id,f=C0(h,c),p=Vt(c.type,l.dtype);(c.position===void 0||UA(c.position,f)!==UA(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Fs.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),de(s,(l,c)=>{l||delete i[c]}),de(i,l=>{ii.configure(this,l,l.options),ii.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(zA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||k0(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Fs.getController(c),{datasetElementType:f,dataElementType:p}=Ne.datasets[c];Object.assign(h,{dataElementType:Fs.getElement(p),datasetElementType:f&&Fs.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){de(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||de(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(zA("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){de(this.scales,t=>{ii.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!JT(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;rH(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!JT(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ii.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],de(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,co(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pr.has(this)?this.attached&&!Pr.running(this)&&Pr.start(this):(this.draw(),BA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=cI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Pm(n,s),t.controller.draw(),s&&Nm(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return $r(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const a=i$.modes[n];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=go(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);Sf(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Pr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),lA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete vg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};de(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){de(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},de(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let a,l,c,h;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Hg(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(n,t),c=i?t:a(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(t,s,i,l),h=dq(t),f=aH(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Ee(a.onHover,[t,c,this],this),h&&Ee(a.onClick,[t,c,this],this));const p=!Hg(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}}yt(vi,"defaults",Ne),yt(vi,"instances",vg),yt(vi,"overrides",_l),yt(vi,"registry",Fs),yt(vi,"version",nH),yt(vi,"getChart",FA);function qA(){return de(vi.instances,e=>e._plugins.invalidate())}function oH(e,t,n){const{startAngle:i,x:s,y:a,outerRadius:l,innerRadius:c,options:h}=t,{borderWidth:f,borderJoinStyle:p}=h,y=Math.min(f/l,ei(i-n));if(e.beginPath(),e.arc(s,a,l-f/2,i+y/2,n-y/2),c>0){const _=Math.min(f/c,ei(i-n));e.arc(s,a,c+f/2,n-_/2,i+_/2,!0)}else{const _=Math.min(f/2,l*ei(i-n));if(p==="round")e.arc(s,a,_,n-oe/2,i+oe/2,!0);else if(p==="bevel"){const w=2*_*_,E=-w*Math.cos(n+oe/2)+s,A=-w*Math.sin(n+oe/2)+a,S=w*Math.cos(i+oe/2)+s,C=w*Math.sin(i+oe/2)+a;e.lineTo(E,A),e.lineTo(S,C)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function lH(e,t,n){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:h}=t;let f=s/c;e.beginPath(),e.arc(a,l,c,i-f,n+f),h>s?(f=s/h,e.arc(a,l,h,n+f,i-f,!0)):e.arc(a,l,s,n+tn,i-tn),e.closePath(),e.clip()}function cH(e){return lx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function uH(e,t,n,i){const s=cH(e.options.borderRadius),a=(n-t)/2,l=Math.min(a,i*t/2),c=h=>{const f=(n-Math.min(a,h))*i/2;return Nn(h,0,Math.min(a,f))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Nn(s.innerStart,0,l),innerEnd:Nn(s.innerEnd,0,l)}}function _c(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Qg(e,t,n,i,s,a){const{x:l,y:c,startAngle:h,pixelMargin:f,innerRadius:p}=t,y=Math.max(t.outerRadius+i+n-f,0),_=p>0?p+i+n+f:0;let w=0;const E=s-h;if(i){const ot=p>0?p-i:0,W=y>0?y-i:0,G=(ot+W)/2,Q=G!==0?E*G/(G+i):E;w=(E-Q)/2}const A=Math.max(.001,E*y-n/oe)/y,S=(E-A)/2,C=h+S+w,O=s-S-w,{outerStart:M,outerEnd:q,innerStart:L,innerEnd:Y}=uH(t,_,y,O-C),D=y-M,k=y-q,V=C+M/D,z=O-q/k,F=_+L,N=_+Y,P=C+L/F,bt=O-Y/N;if(e.beginPath(),a){const ot=(V+z)/2;if(e.arc(l,c,y,V,ot),e.arc(l,c,y,ot,z),q>0){const X=_c(k,z,l,c);e.arc(X.x,X.y,q,z,O+tn)}const W=_c(N,O,l,c);if(e.lineTo(W.x,W.y),Y>0){const X=_c(N,bt,l,c);e.arc(X.x,X.y,Y,O+tn,bt+Math.PI)}const G=(O-Y/_+(C+L/_))/2;if(e.arc(l,c,_,O-Y/_,G,!0),e.arc(l,c,_,G,C+L/_,!0),L>0){const X=_c(F,P,l,c);e.arc(X.x,X.y,L,P+Math.PI,C-tn)}const Q=_c(D,C,l,c);if(e.lineTo(Q.x,Q.y),M>0){const X=_c(D,V,l,c);e.arc(X.x,X.y,M,C-tn,V)}}else{e.moveTo(l,c);const ot=Math.cos(V)*y+l,W=Math.sin(V)*y+c;e.lineTo(ot,W);const G=Math.cos(z)*y+l,Q=Math.sin(z)*y+c;e.lineTo(G,Q)}e.closePath()}function hH(e,t,n,i,s){const{fullCircles:a,startAngle:l,circumference:c}=t;let h=t.endAngle;if(a){Qg(e,t,n,i,h,s);for(let f=0;f<a;++f)e.fill();isNaN(c)||(h=l+(c%Pe||Pe))}return Qg(e,t,n,i,h,s),e.fill(),h}function fH(e,t,n,i,s){const{fullCircles:a,startAngle:l,circumference:c,options:h}=t,{borderWidth:f,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:w}=h,E=h.borderAlign==="inner";if(!f)return;e.setLineDash(y||[]),e.lineDashOffset=_,E?(e.lineWidth=f*2,e.lineJoin=p||"round"):(e.lineWidth=f,e.lineJoin=p||"bevel");let A=t.endAngle;if(a){Qg(e,t,n,i,A,s);for(let S=0;S<a;++S)e.stroke();isNaN(c)||(A=l+(c%Pe||Pe))}E&&lH(e,t,A),h.selfJoin&&A-l>=oe&&w===0&&p!=="miter"&&oH(e,t,A),a||(Qg(e,t,n,i,A,s),e.stroke())}class Ac extends vs{constructor(n){super();yt(this,"circumference");yt(this,"endAngle");yt(this,"fullCircles");yt(this,"innerRadius");yt(this,"outerRadius");yt(this,"pixelMargin");yt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.getProps(["x","y"],s),{angle:l,distance:c}=FM(a,{x:n,y:i}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),w=(this.options.spacing+this.options.borderWidth)/2,E=Vt(_,f-h),A=Tf(l,h,f)&&h!==f,S=E>=Pe||A,C=Fr(c,p+w,y+w);return S&&C}getCenterPoint(n){const{x:i,y:s,startAngle:a,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:f,spacing:p}=this.options,y=(a+l)/2,_=(c+h+p+f)/2;return{x:i+Math.cos(y)*_,y:s+Math.sin(y)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Pe?Math.floor(s/Pe):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(oe,s||0)),p=a*f;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,hH(n,this,p,l,c),fH(n,this,p,l,c),n.restore()}}yt(Ac,"id","arc"),yt(Ac,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),yt(Ac,"defaultRoutes",{backgroundColor:"backgroundColor"}),yt(Ac,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function wI(e,t,n=t){e.lineCap=Vt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Vt(n.borderDash,t.borderDash)),e.lineDashOffset=Vt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Vt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Vt(n.borderWidth,t.borderWidth),e.strokeStyle=Vt(n.borderColor,t.borderColor)}function dH(e,t,n){e.lineTo(n.x,n.y)}function pH(e){return e.stepped?Lq:e.tension||e.cubicInterpolationMode==="monotone"?Vq:dH}function EI(e,t,n={}){const i=e.length,{start:s=0,end:a=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function gH(e,t,n,i){const{points:s,options:a}=t,{count:l,start:c,loop:h,ilen:f}=EI(s,n,i),p=pH(a);let{move:y=!0,reverse:_}=i||{},w,E,A;for(w=0;w<=f;++w)E=s[(c+(_?f-w:w))%l],!E.skip&&(y?(e.moveTo(E.x,E.y),y=!1):p(e,A,E,_,a.stepped),A=E);return h&&(E=s[(c+(_?f:0))%l],p(e,A,E,_,a.stepped)),!!h}function mH(e,t,n,i){const s=t.points,{count:a,start:l,ilen:c}=EI(s,n,i),{move:h=!0,reverse:f}=i||{};let p=0,y=0,_,w,E,A,S,C;const O=q=>(l+(f?c-q:q))%a,M=()=>{A!==S&&(e.lineTo(p,S),e.lineTo(p,A),e.lineTo(p,C))};for(h&&(w=s[O(0)],e.moveTo(w.x,w.y)),_=0;_<=c;++_){if(w=s[O(_)],w.skip)continue;const q=w.x,L=w.y,Y=q|0;Y===E?(L<A?A=L:L>S&&(S=L),p=(y*p+q)/++y):(M(),e.lineTo(q,L),E=Y,y=0,A=S=L),C=L}M()}function D0(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?mH:gH}function yH(e){return e.stepped?g8:e.tension||e.cubicInterpolationMode==="monotone"?m8:Jo}function _H(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),wI(e,t.options),e.stroke(s)}function bH(e,t,n,i){const{segments:s,options:a}=t,l=D0(t);for(const c of s)wI(e,a,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const vH=typeof Path2D=="function";function xH(e,t,n,i){vH&&!t.options.segment?_H(e,t,n,i):bH(e,t,n,i)}class Wa extends vs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;o8(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=w8(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],a=this.points,l=lI(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=yH(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],w=a[y],E=a[_];if(w===E){c.push(w);continue}const A=Math.abs((s-w[n])/(E[n]-w[n])),S=h(w,E,A,i.stepped);S[n]=t[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,n,i){return D0(this)(t,this,n,i)}path(t,n,i){const s=this.segments,a=D0(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=a(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),xH(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}yt(Wa,"id","line"),yt(Wa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),yt(Wa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),yt(Wa,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function $A(e,t,n,i){const s=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<s.radius+s.hitRadius}class tf extends vs{constructor(n){super();yt(this,"parsed");yt(this,"skip");yt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return $A(this,n,"x",i)}inYRange(n,i){return $A(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!$r(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,A0(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}yt(tf,"id","point"),yt(tf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),yt(tf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function SI(e,t){const{x:n,y:i,base:s,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,f,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),f=i-y,p=i+y):(y=a/2,c=n-y,h=n+y,f=Math.min(i,s),p=Math.max(i,s)),{left:c,top:f,right:h,bottom:p}}function Ya(e,t,n,i){return e?0:Nn(t,n,i)}function wH(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,a=QM(i);return{t:Ya(s.top,a.top,0,n),r:Ya(s.right,a.right,0,t),b:Ya(s.bottom,a.bottom,0,n),l:Ya(s.left,a.left,0,t)}}function EH(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=ol(s),l=Math.min(t,n),c=e.borderSkipped,h=i||Xt(s);return{topLeft:Ya(!h||c.top||c.left,a.topLeft,0,l),topRight:Ya(!h||c.top||c.right,a.topRight,0,l),bottomLeft:Ya(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Ya(!h||c.bottom||c.right,a.bottomRight,0,l)}}function SH(e){const t=SI(e),n=t.right-t.left,i=t.bottom-t.top,s=wH(e,n/2,i/2),a=EH(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Sb(e,t,n,i){const s=t===null,a=n===null,c=e&&!(s&&a)&&SI(e,i);return c&&(s||Fr(t,c.left,c.right))&&(a||Fr(n,c.top,c.bottom))}function TH(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function AH(e,t){e.rect(t.x,t.y,t.w,t.h)}function Tb(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+a,h:e.h+l,radius:e.radius}}class ef extends vs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=SH(this),c=TH(l.radius)?Af:AH;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Tb(l,n,a)),t.clip(),c(t,Tb(a,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Tb(a,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Sb(this,t,n,i)}inXRange(t,n){return Sb(this,t,null,n)}inYRange(t,n){return Sb(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}yt(ef,"id","bar"),yt(ef,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),yt(ef,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var RH=Object.freeze({__proto__:null,ArcElement:Ac,BarElement:ef,LineElement:Wa,PointElement:tf});const M0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],HA=M0.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function TI(e){return M0[e%M0.length]}function AI(e){return HA[e%HA.length]}function kH(e,t){return e.borderColor=TI(t),e.backgroundColor=AI(t),++t}function CH(e,t){return e.backgroundColor=e.data.map(()=>TI(t++)),t}function DH(e,t){return e.backgroundColor=e.data.map(()=>AI(t++)),t}function MH(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof il?t=CH(n,t):s instanceof Jh?t=DH(n,t):s&&(t=kH(n,t))}}function WA(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function IH(e){return e&&(e.borderColor||e.backgroundColor)}function OH(){return Ne.borderColor!=="rgba(0,0,0,0.1)"||Ne.backgroundColor!=="rgba(0,0,0,0.1)"}var PH={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:a}=s,l=WA(i)||IH(s)||a&&WA(a)||OH();if(!n.forceOverride&&l)return;const c=MH(e);i.forEach(c)}};function NH(e,t,n,i,s){const a=s.samples||i;if(a>=n)return e.slice(t,t+n);const l=[],c=(n-2)/(a-2);let h=0;const f=t+n-1;let p=t,y,_,w,E,A;for(l[h++]=e[p],y=0;y<a-2;y++){let S=0,C=0,O;const M=Math.floor((y+1)*c)+1+t,q=Math.min(Math.floor((y+2)*c)+1,n)+t,L=q-M;for(O=M;O<q;O++)S+=e[O].x,C+=e[O].y;S/=L,C/=L;const Y=Math.floor(y*c)+1+t,D=Math.min(Math.floor((y+1)*c)+1,n)+t,{x:k,y:V}=e[p];for(w=E=-1,O=Y;O<D;O++)E=.5*Math.abs((k-S)*(e[O].y-V)-(k-e[O].x)*(C-V)),E>w&&(w=E,_=e[O],A=O);l[h++]=_,p=A}return l[h++]=e[f],l}function LH(e,t,n,i){let s=0,a=0,l,c,h,f,p,y,_,w,E,A;const S=[],C=t+n-1,O=e[t].x,q=e[C].x-O;for(l=t;l<t+n;++l){c=e[l],h=(c.x-O)/q*i,f=c.y;const L=h|0;if(L===p)f<E?(E=f,y=l):f>A&&(A=f,_=l),s=(a*s+c.x)/++a;else{const Y=l-1;if(!Ft(y)&&!Ft(_)){const D=Math.min(y,_),k=Math.max(y,_);D!==w&&D!==Y&&S.push({...e[D],x:s}),k!==w&&k!==Y&&S.push({...e[k],x:s})}l>0&&Y!==w&&S.push(e[Y]),S.push(c),p=L,a=0,E=A=f,y=_=w=l}}return S}function RI(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function YA(e){e.data.datasets.forEach(t=>{RI(t)})}function VH(e,t){const n=t.length;let i=0,s;const{iScale:a}=e,{min:l,max:c,minDefined:h,maxDefined:f}=a.getUserBounds();return h&&(i=Nn(qr(t,a.axis,l).lo,0,n-1)),f?s=Nn(qr(t,a.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var jH={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){YA(e);return}const i=e.width;e.data.datasets.forEach((s,a)=>{const{_data:l,indexAxis:c}=s,h=e.getDatasetMeta(a),f=l||s.data;if(Ie([c,e.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=e.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||e.options.parsing)return;let{start:y,count:_}=VH(h,f);const w=n.threshold||4*i;if(_<=w){RI(s);return}Ft(l)&&(s._data=f,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let E;switch(n.algorithm){case"lttb":E=NH(f,y,_,i,n);break;case"min-max":E=LH(f,y,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=E})},destroy(e){YA(e)}};function UH(e,t,n){const i=e.segments,s=e.points,a=t.points,l=[];for(const c of i){let{start:h,end:f}=c;f=jm(h,f,s);const p=I0(n,s[h],s[f],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[f]});continue}const y=lI(t,p);for(const _ of y){const w=I0(n,a[_.start],a[_.end],_.loop),E=oI(c,s,w);for(const A of E)l.push({source:A,target:_,start:{[n]:GA(p,w,"start",Math.max)},end:{[n]:GA(p,w,"end",Math.min)}})}}return l}function I0(e,t,n,i){if(i)return;let s=t[e],a=n[e];return e==="angle"&&(s=ei(s),a=ei(a)),{property:e,start:s,end:a}}function zH(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=jm(l,c,s);const h=s[l],f=s[c];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):n!==null&&(a.push({x:n,y:h.y}),a.push({x:n,y:f.y}))}),a}function jm(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function GA(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function kI(e,t){let n=[],i=!1;return Oe(e)?(i=!0,n=e):n=zH(e,t),n.length?new Wa({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function KA(e){return e&&e.fill!==!1}function BH(e,t,n){let s=e[t].fill;const a=[t];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!Ge(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function FH(e,t,n){const i=WH(e);if(Xt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ge(s)&&Math.floor(s)===s?qH(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function qH(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function $H(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Xt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function HH(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:Xt(e)?i=e.value:i=t.getBaseValue(),i}function WH(e){const t=e.options,n=t.fill;let i=Vt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function YH(e){const{scale:t,index:n,line:i}=e,s=[],a=i.segments,l=i.points,c=GH(t,n);c.push(kI({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let p=f.start;p<=f.end;p++)KH(s,l[p],c)}return new Wa({points:s,options:{}})}function GH(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function KH(e,t,n){const i=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:h}=XH(a,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function XH(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],a=e.segments,l=e.points;let c=!1,h=!1;for(let f=0;f<a.length;f++){const p=a[f],y=l[p.start][n],_=l[p.end][n];if(Fr(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class CI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:Pe},t.arc(s,a,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,a=t.angle;return{x:n+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function QH(e){const{chart:t,fill:n,line:i}=e;if(Ge(n))return ZH(t,n);if(n==="stack")return YH(e);if(n==="shape")return!0;const s=JH(e);return s instanceof CI?s:kI(s,i)}function ZH(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function JH(e){return(e.scale||{}).getPointPositionForValue?e7(e):t7(e)}function t7(e){const{scale:t={},fill:n}=e,i=$H(n,t);if(Ge(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function e7(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=HH(n,t,a),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new CI({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Ab(e,t,n){const i=QH(t),{chart:s,index:a,line:l,scale:c,axis:h}=t,f=l.options,p=f.fill,y=f.backgroundColor,{above:_=y,below:w=y}=p||{},E=s.getDatasetMeta(a),A=cI(s,E);i&&l.points.length&&(Pm(e,n),n7(e,{line:l,target:i,above:_,below:w,area:n,scale:c,axis:h,clip:A}),Nm(e))}function n7(e,t){const{line:n,target:i,above:s,below:a,area:l,scale:c,clip:h}=t,f=n._loop?"angle":t.axis;e.save();let p=a;a!==s&&(f==="x"?(XA(e,i,l.top),Rb(e,{line:n,target:i,color:s,scale:c,property:f,clip:h}),e.restore(),e.save(),XA(e,i,l.bottom)):f==="y"&&(QA(e,i,l.left),Rb(e,{line:n,target:i,color:a,scale:c,property:f,clip:h}),e.restore(),e.save(),QA(e,i,l.right),p=s)),Rb(e,{line:n,target:i,color:p,scale:c,property:f,clip:h}),e.restore()}function XA(e,t,n){const{segments:i,points:s}=t;let a=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[jm(h,f,s)];a?(e.moveTo(p.x,p.y),a=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function QA(e,t,n){const{segments:i,points:s}=t;let a=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[jm(h,f,s)];a?(e.moveTo(p.x,p.y),a=!1):(e.lineTo(n,p.y),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(n,y.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Rb(e,t){const{line:n,target:i,property:s,color:a,scale:l,clip:c}=t,h=UH(n,i,s);for(const{source:f,target:p,start:y,end:_}of h){const{style:{backgroundColor:w=a}={}}=f,E=i!==!0;e.save(),e.fillStyle=w,i7(e,l,c,E&&I0(s,y,_)),e.beginPath();const A=!!n.pathSegment(e,f);let S;if(E){A?e.closePath():ZA(e,i,_,s);const C=!!i.pathSegment(e,p,{move:A,reverse:!0});S=A&&C,S||ZA(e,i,y,s)}e.closePath(),e.fill(S?"evenodd":"nonzero"),e.restore()}}function i7(e,t,n,i){const s=t.chart.chartArea,{property:a,start:l,end:c}=i||{};if(a==="x"||a==="y"){let h,f,p,y;a==="x"?(h=l,f=s.top,p=c,y=s.bottom):(h=s.left,f=l,p=s.right,y=c),e.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),f=Math.max(f,n.top),y=Math.min(y,n.bottom)),e.rect(h,f,p-h,y-f),e.clip()}}function ZA(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var s7={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let a,l,c,h;for(l=0;l<i;++l)a=e.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof Wa&&(h={visible:e.isDatasetVisible(l),index:l,fill:FH(c,l,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=BH(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&Ab(e.ctx,c,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;KA(a)&&Ab(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!KA(i)||n.drawTime!=="beforeDatasetDraw"||Ab(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const JA=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},r7=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class tR extends vs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ee(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=dn(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=JA(i,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let y=t;a.textAlign="left",a.textBaseline="middle";let _=-1,w=-p;return this.legendItems.forEach((E,A)=>{const S=i+n/2+a.measureText(E.text).width;(A===0||f[f.length-1]+S+2*c>l)&&(y+=p,f[f.length-(A>0?0:1)]=0,w+=p,_++),h[A]={left:0,top:w,row:_,width:S,height:s},f[f.length-1]+=S+c}),y}_fitCols(t,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=c,_=0,w=0,E=0,A=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:O,itemHeight:M}=a7(i,n,a,S,s);C>0&&w+M+2*c>p&&(y+=_+c,f.push({width:_,height:w}),E+=_+c,A++,_=w=0),h[C]={left:E,top:w,col:A,width:O,height:M},_=Math.max(_,O),w+=M+c}),y+=_,f.push({width:_,height:w}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=Oc(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Zn(i,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,h=Zn(i,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let c=0,h=Zn(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,h=Zn(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Pm(t,this),this._draw(),Nm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=Ne.color,h=Oc(t.rtl,this.left,this.width),f=dn(l.font),{padding:p}=l,y=f.size,_=y/2;let w;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:E,boxHeight:A,itemHeight:S}=JA(l,y),C=function(Y,D,k){if(isNaN(E)||E<=0||isNaN(A)||A<0)return;s.save();const V=Vt(k.lineWidth,1);if(s.fillStyle=Vt(k.fillStyle,c),s.lineCap=Vt(k.lineCap,"butt"),s.lineDashOffset=Vt(k.lineDashOffset,0),s.lineJoin=Vt(k.lineJoin,"miter"),s.lineWidth=V,s.strokeStyle=Vt(k.strokeStyle,c),s.setLineDash(Vt(k.lineDash,[])),l.usePointStyle){const z={radius:A*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:V},F=h.xPlus(Y,E/2),N=D+_;XM(s,z,F,N,l.pointStyleWidth&&E)}else{const z=D+Math.max((y-A)/2,0),F=h.leftForLtr(Y,E),N=ol(k.borderRadius);s.beginPath(),Object.values(N).some(P=>P!==0)?Af(s,{x:F,y:z,w:E,h:A,radius:N}):s.rect(F,z,E,A),s.fill(),V!==0&&s.stroke()}s.restore()},O=function(Y,D,k){bl(s,k.text,Y,D+S/2,f,{strikethrough:k.hidden,textAlign:h.textAlign(k.textAlign)})},M=this.isHorizontal(),q=this._computeTitleHeight();M?w={x:Zn(a,this.left+p,this.right-i[0]),y:this.top+p+q,line:0}:w={x:this.left+p,y:Zn(a,this.top+q+p,this.bottom-n[0].height),line:0},sI(this.ctx,t.textDirection);const L=S+p;this.legendItems.forEach((Y,D)=>{s.strokeStyle=Y.fontColor,s.fillStyle=Y.fontColor;const k=s.measureText(Y.text).width,V=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),z=E+_+k;let F=w.x,N=w.y;h.setWidth(this.width),M?D>0&&F+z+p>this.right&&(N=w.y+=L,w.line++,F=w.x=Zn(a,this.left+p,this.right-i[w.line])):D>0&&N+L>this.bottom&&(F=w.x=F+n[w.line].width+p,w.line++,N=w.y=Zn(a,this.top+q+p,this.bottom-n[w.line].height));const P=h.x(F);if(C(P,N,Y),F=Tq(V,F+E+_,M?F+z:this.right,t.rtl),O(h.x(F),N,Y),M)w.x+=z+p;else if(typeof Y.text!="string"){const bt=f.lineHeight;w.y+=DI(Y,bt)+p}else w.y+=L}),rI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=dn(n.font),s=Yn(n.padding);if(!n.display)return;const a=Oc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,f=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=Zn(t.align,y,this.right-_);else{const E=this.columnSizes.reduce((A,S)=>Math.max(A,S.height),0);p=f+Zn(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const w=Zn(c,y,y+_);l.textAlign=a.textAlign(ax(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,bl(l,n.text,w,p,i)}_computeTitleHeight(){const t=this.options.title,n=dn(t.font),i=Yn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,a;if(Fr(t,this.left,this.right)&&Fr(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Fr(t,s.left,s.left+s.width)&&Fr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!c7(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=r7(s,i);s&&!a&&Ee(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&Ee(n.onHover,[t,i,this],this)}else i&&Ee(n.onClick,[t,i,this],this)}}function a7(e,t,n,i,s){const a=o7(i,e,t,n),l=l7(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function o7(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+n.size/2+i.measureText(s).width}function l7(e,t,n){let i=e;return typeof t.text!="string"&&(i=DI(t,n)),i}function DI(e,t){const n=e.text?e.text.length:0;return t*n}function c7(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var u7={id:"legend",_element:tR,start(e,t,n){const i=e.legend=new tR({ctx:e.ctx,options:n,chart:e});ii.configure(e,i,n),ii.addBox(e,i)},stop(e){ii.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ii.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=Yn(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class gx extends vs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Oe(i.text)?i.text.length:1;this._padding=Yn(i.padding);const a=s*dn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,f,p,y;return this.isHorizontal()?(p=Zn(c,i,a),y=n+t,f=a-i):(l.position==="left"?(p=i+t,y=Zn(c,s,n),h=oe*-.5):(p=a-t,y=Zn(c,n,s),h=oe*.5),f=s-n),{titleX:p,titleY:y,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=dn(n.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(a);bl(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:ax(n.align),textBaseline:"middle",translation:[l,c]})}}function h7(e,t){const n=new gx({ctx:e.ctx,options:t,chart:e});ii.configure(e,n,t),ii.addBox(e,n),e.titleBlock=n}var f7={id:"title",_element:gx,start(e,t,n){h7(e,n)},stop(e){const t=e.titleBlock;ii.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ii.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jp=new WeakMap;var d7={id:"subtitle",start(e,t,n){const i=new gx({ctx:e.ctx,options:n,chart:e});ii.configure(e,i,n),ii.addBox(e,i),jp.set(e,i)},stop(e){ii.removeBox(e,jp.get(e)),jp.delete(e)},beforeUpdate(e,t,n){const i=jp.get(e);ii.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Uh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=e.length;a<l;++a){const h=e[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=S0(t,f);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function zs(e,t){return t&&(Oe(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Nr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function p7(e,t){const{element:n,datasetIndex:i,index:s}=t,a=e.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:e,label:l,parsed:a.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function eR(e,t){const n=e.chart.ctx,{body:i,footer:s,title:a}=e,{boxWidth:l,boxHeight:c}=t,h=dn(t.bodyFont),f=dn(t.titleFont),p=dn(t.footerFont),y=a.length,_=s.length,w=i.length,E=Yn(t.padding);let A=E.height,S=0,C=i.reduce((q,L)=>q+L.before.length+L.lines.length+L.after.length,0);if(C+=e.beforeBody.length+e.afterBody.length,y&&(A+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),C){const q=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;A+=w*q+(C-w)*h.lineHeight+(C-1)*t.bodySpacing}_&&(A+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let O=0;const M=function(q){S=Math.max(S,n.measureText(q).width+O)};return n.save(),n.font=f.string,de(e.title,M),n.font=h.string,de(e.beforeBody.concat(e.afterBody),M),O=t.displayColors?l+2+t.boxPadding:0,de(i,q=>{de(q.before,M),de(q.lines,M),de(q.after,M)}),O=0,n.font=p.string,de(e.footer,M),n.restore(),S+=E.width,{width:S,height:A}}function g7(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function m7(e,t,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+a+l>t.width||e==="right"&&s-a-l<0)return!0}function y7(e,t,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:h}}=e;let f="center";return i==="center"?f=s<=(c+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),m7(f,e,t,n)&&(f="center"),f}function nR(e,t,n){const i=n.yAlign||t.yAlign||g7(e,n);return{xAlign:n.xAlign||t.xAlign||y7(e,t,n,i),yAlign:i}}function _7(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function b7(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function iR(e,t,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,f=s+a,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:w}=ol(l);let E=_7(t,c);const A=b7(t,h,f);return h==="center"?c==="left"?E+=f:c==="right"&&(E-=f):c==="left"?E-=Math.max(p,_)+s:c==="right"&&(E+=Math.max(y,w)+s),{x:Nn(E,0,i.width-t.width),y:Nn(A,0,i.height-t.height)}}function Up(e,t,n){const i=Yn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function sR(e){return zs([],Nr(e))}function v7(e,t,n){return go(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function rR(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const MI={beforeTitle:Or,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Or,beforeBody:Or,beforeLabel:Or,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ft(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Or,afterBody:Or,beforeFooter:Or,footer:Or,afterFooter:Or};function yi(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?MI[t].call(n,i):s}class O0 extends vs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new uI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=v7(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=yi(i,"beforeTitle",this,t),a=yi(i,"title",this,t),l=yi(i,"afterTitle",this,t);let c=[];return c=zs(c,Nr(s)),c=zs(c,Nr(a)),c=zs(c,Nr(l)),c}getBeforeBody(t,n){return sR(yi(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return de(t,a=>{const l={before:[],lines:[],after:[]},c=rR(i,a);zs(l.before,Nr(yi(c,"beforeLabel",this,a))),zs(l.lines,yi(c,"label",this,a)),zs(l.after,Nr(yi(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,n){return sR(yi(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=yi(i,"beforeFooter",this,t),a=yi(i,"footer",this,t),l=yi(i,"afterFooter",this,t);let c=[];return c=zs(c,Nr(s)),c=zs(c,Nr(a)),c=zs(c,Nr(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,f;for(h=0,f=n.length;h<f;++h)c.push(p7(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),de(c,p=>{const y=rR(t.callbacks,p);s.push(yi(y,"labelColor",this,p)),a.push(yi(y,"labelPointStyle",this,p)),l.push(yi(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Uh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=eR(this,i),f=Object.assign({},c,h),p=nR(this.chart,i,f),y=iR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const a=this.getCaretPosition(t,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=ol(c),{x:_,y:w}=t,{width:E,height:A}=n;let S,C,O,M,q,L;return a==="center"?(q=w+A/2,s==="left"?(S=_,C=S-l,M=q+l,L=q-l):(S=_+E,C=S+l,M=q-l,L=q+l),O=S):(s==="left"?C=_+Math.max(h,p)+l:s==="right"?C=_+E-Math.max(f,y)-l:C=this.caretX,a==="top"?(M=w,q=M-l,S=C-l,O=C+l):(M=w+A,q=M+l,S=C+l,O=C-l),L=M),{x1:S,x2:C,x3:O,y1:M,y2:q,y3:L}}drawTitle(t,n,i){const s=this.title,a=s.length;let l,c,h;if(a){const f=Oc(i.rtl,this.x,this.width);for(t.x=Up(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=dn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=dn(a.bodyFont),y=Up(this,"left",a),_=s.x(y),w=h<p.lineHeight?(p.lineHeight-h)/2:0,E=n.y+w;if(a.usePointStyle){const A={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(_,f)+f/2,C=E+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,A0(t,A,S,C),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,A0(t,A,S,C)}else{t.lineWidth=Xt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=s.leftForLtr(_,f),S=s.leftForLtr(s.xPlus(_,1),f-2),C=ol(l.borderRadius);Object.values(C).some(O=>O!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Af(t,{x:A,y:E,w:f,h,radius:C}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Af(t,{x:S,y:E+1,w:f-2,h:h-2,radius:C}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(A,E,f,h),t.strokeRect(A,E,f,h),t.fillStyle=l.backgroundColor,t.fillRect(S,E+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:p}=i,y=dn(i.bodyFont);let _=y.lineHeight,w=0;const E=Oc(i.rtl,this.x,this.width),A=function(k){n.fillText(k,E.x(t.x+w),t.y+_/2),t.y+=_+a},S=E.textAlign(l);let C,O,M,q,L,Y,D;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=Up(this,S,i),n.fillStyle=i.bodyColor,de(this.beforeBody,A),w=c&&S!=="right"?l==="center"?f/2+p:f+2+p:0,q=0,Y=s.length;q<Y;++q){for(C=s[q],O=this.labelTextColors[q],n.fillStyle=O,de(C.before,A),M=C.lines,c&&M.length&&(this._drawColorBox(n,t,q,E,i),_=Math.max(y.lineHeight,h)),L=0,D=M.length;L<D;++L)A(M[L]),_=y.lineHeight;de(C.after,A)}w=0,_=y.lineHeight,de(this.afterBody,A),t.y-=a}drawFooter(t,n,i){const s=this.footer,a=s.length;let l,c;if(a){const h=Oc(i.rtl,this.x,this.width);for(t.x=Up(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=dn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:w,bottomRight:E}=ol(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+f-_,h),n.quadraticCurveTo(c+f,h,c+f,h+_),l==="center"&&a==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+f,h+p-E),n.quadraticCurveTo(c+f,h+p,c+f-E,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+w,h+p),n.quadraticCurveTo(c,h+p,c,h+p-w),l==="center"&&a==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Uh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=eR(this,t),h=Object.assign({},l,this._size),f=nR(n,t,h),p=iR(t,h,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Yn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,n),sI(t,n.textDirection),a.y+=l.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),rI(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),a=!Hg(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,n,i),c=this._positionChanged(l,t),h=n||!Hg(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:a}=this,l=Uh[a.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}yt(O0,"positioners",Uh);var x7={id:"tooltip",_element:O0,positioners:Uh,afterInit(e,t,n){n&&(e.tooltip=new O0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},w7=Object.freeze({__proto__:null,Colors:PH,Decimation:jH,Filler:s7,Legend:u7,SubTitle:d7,Title:f7,Tooltip:x7});const E7=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function S7(e,t,n,i){const s=e.indexOf(t);if(s===-1)return E7(e,t,n,i);const a=e.lastIndexOf(t);return s!==a?n:s}const T7=(e,t)=>e===null?null:Nn(Math.round(e),0,t);function aR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class P0 extends El{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Ft(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:S7(i,t,Vt(n,t),this._addedLabels),T7(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return aR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}yt(P0,"id","category"),yt(P0,"defaults",{ticks:{callback:aR}});function A7(e,t){const n=[],{bounds:s,step:a,min:l,max:c,precision:h,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=e,w=a||1,E=p-1,{min:A,max:S}=t,C=!Ft(l),O=!Ft(c),M=!Ft(f),q=(S-A)/(y+1);let L=eA((S-A)/E/w)*w,Y,D,k,V;if(L<1e-14&&!C&&!O)return[{value:A},{value:S}];V=Math.ceil(S/L)-Math.floor(A/L),V>E&&(L=eA(V*L/E/w)*w),Ft(h)||(Y=Math.pow(10,h),L=Math.ceil(L*Y)/Y),s==="ticks"?(D=Math.floor(A/L)*L,k=Math.ceil(S/L)*L):(D=A,k=S),C&&O&&a&&_q((c-l)/a,L/1e3)?(V=Math.round(Math.min((c-l)/L,p)),L=(c-l)/V,D=l,k=c):M?(D=C?l:D,k=O?c:k,V=f-1,L=(k-D)/V):(V=(k-D)/L,Xh(V,Math.round(V),L/1e3)?V=Math.round(V):V=Math.ceil(V));const z=Math.max(nA(L),nA(D));Y=Math.pow(10,Ft(h)?z:h),D=Math.round(D*Y)/Y,k=Math.round(k*Y)/Y;let F=0;for(C&&(_&&D!==l?(n.push({value:l}),D<l&&F++,Xh(Math.round((D+F*L)*Y)/Y,l,oR(l,q,e))&&F++):D<l&&F++);F<V;++F){const N=Math.round((D+F*L)*Y)/Y;if(O&&N>c)break;n.push({value:N})}return O&&_&&k!==c?n.length&&Xh(n[n.length-1].value,c,oR(c,q,e))?n[n.length-1].value=c:n.push({value:c}):(!O||k===c)&&n.push({value:k}),n}function oR(e,t,{horizontal:n,minRotation:i}){const s=ps(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class Zg extends El{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Ft(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,c=h=>a=i?a:h;if(t){const h=Js(s),f=Js(a);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=A7(s,a);return t.bounds==="ticks"&&BM(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Kf(t,this.chart.options.locale,this.options.ticks.format)}}class N0 extends Zg{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ge(t)?t:0,this.max=Ge(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=ps(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}yt(N0,"id","linear"),yt(N0,"defaults",{ticks:{callback:Om.formatters.numeric}});const kf=e=>Math.floor(Ha(e)),Ko=(e,t)=>Math.pow(10,kf(e)+t);function lR(e){return e/Math.pow(10,kf(e))===1}function cR(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function R7(e,t){const n=t-e;let i=kf(n);for(;cR(e,t,i)>10;)i++;for(;cR(e,t,i)<10;)i--;return Math.min(i,kf(e))}function k7(e,{min:t,max:n}){t=Pi(e.min,t);const i=[],s=kf(t);let a=R7(t,n),l=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),h=s>a?Math.pow(10,s):0,f=Math.round((t-h)*l)/l,p=Math.floor((t-h)/c/10)*c*10;let y=Math.floor((f-p)/Math.pow(10,a)),_=Pi(e.min,Math.round((h+p+y*Math.pow(10,a))*l)/l);for(;_<n;)i.push({value:_,major:lR(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(a++,y=2,l=a>=0?1:l),_=Math.round((h+p+y*Math.pow(10,a))*l)/l;const w=Pi(e.max,_);return i.push({value:w,major:lR(w),significand:y}),i}class L0 extends El{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Zg.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Ge(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ge(t)?Math.max(0,t):null,this.max=Ge(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ge(this._userMin)&&(this.min=t===Ko(this.min,0)?Ko(this.min,-1):Ko(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const a=c=>i=t?i:c,l=c=>s=n?s:c;i===s&&(i<=0?(a(1),l(10)):(a(Ko(i,-1)),l(Ko(s,1)))),i<=0&&a(Ko(s,-1)),s<=0&&l(Ko(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=k7(n,this);return t.bounds==="ticks"&&BM(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Kf(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ha(t),this._valueRange=Ha(this.max)-Ha(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ha(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}yt(L0,"id","logarithmic"),yt(L0,"defaults",{ticks:{callback:Om.formatters.logarithmic,major:{enabled:!0}}});function V0(e){const t=e.ticks;if(t.display&&e.display){const n=Yn(t.backdropPadding);return Vt(t.font&&t.font.size,Ne.font.size)+n.height}return 0}function C7(e,t,n){return n=Oe(n)?n:[n],{w:Nq(e,t.string,n),h:n.length*t.lineHeight}}function uR(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function D7(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],a=e._pointLabels.length,l=e.options.pointLabels,c=l.centerPointLabels?oe/a:0;for(let h=0;h<a;h++){const f=l.setContext(e.getPointLabelContext(h));s[h]=f.padding;const p=e.getPointPosition(h,e.drawingArea+s[h],c),y=dn(f.font),_=C7(e.ctx,y,e._pointLabels[h]);i[h]=_;const w=ei(e.getIndexAngle(h)+c),E=Math.round(sx(w)),A=uR(E,p.x,_.w,0,180),S=uR(E,p.y,_.h,90,270);M7(n,t,w,A,S)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=P7(e,i,s)}function M7(e,t,n,i,s){const a=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+c)),s.start<t.t?(h=(t.t-s.start)/l,e.t=Math.min(e.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,e.b=Math.max(e.b,t.b+h))}function I7(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:a,padding:l,size:c}=n,h=e.getPointPosition(t,i+s+l,a),f=Math.round(sx(ei(h.angle+tn))),p=V7(h.y,c.h,f),y=N7(f),_=L7(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:_,top:p,right:_+c.w,bottom:p+c.h}}function O7(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:a}=e;return!($r({x:n,y:i},t)||$r({x:n,y:a},t)||$r({x:s,y:i},t)||$r({x:s,y:a},t))}function P7(e,t,n){const i=[],s=e._pointLabels.length,a=e.options,{centerPointLabels:l,display:c}=a.pointLabels,h={extra:V0(a)/2,additionalAngle:l?oe/s:0};let f;for(let p=0;p<s;p++){h.padding=n[p],h.size=t[p];const y=I7(e,p,h);i.push(y),c==="auto"&&(y.visible=O7(y,f),y.visible&&(f=y))}return i}function N7(e){return e===0||e===180?"center":e<180?"left":"right"}function L7(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function V7(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function j7(e,t,n){const{left:i,top:s,right:a,bottom:l}=n,{backdropColor:c}=t;if(!Ft(c)){const h=ol(t.borderRadius),f=Yn(t.backdropPadding);e.fillStyle=c;const p=i-f.left,y=s-f.top,_=a-i+f.width,w=l-s+f.height;Object.values(h).some(E=>E!==0)?(e.beginPath(),Af(e,{x:p,y,w:_,h:w,radius:h}),e.fill()):e.fillRect(p,y,_,w)}}function U7(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const a=e._pointLabelItems[s];if(!a.visible)continue;const l=i.setContext(e.getPointLabelContext(s));j7(n,l,a);const c=dn(l.font),{x:h,y:f,textAlign:p}=a;bl(n,e._pointLabels[s],h,f+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}function II(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Pe);else{let a=e.getPointPosition(0,t);s.moveTo(a.x,a.y);for(let l=1;l<i;l++)a=e.getPointPosition(l,t),s.lineTo(a.x,a.y)}}function z7(e,t,n,i,s){const a=e.ctx,l=t.circular,{color:c,lineWidth:h}=t;!l&&!i||!c||!h||n<0||(a.save(),a.strokeStyle=c,a.lineWidth=h,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),II(e,n,l,i),a.closePath(),a.stroke(),a.restore())}function B7(e,t,n){return go(e,{label:n,index:t,type:"pointLabel"})}class zh extends Zg{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Yn(V0(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Ge(t)&&!isNaN(t)?t:0,this.max=Ge(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/V0(this.options))}generateTickLabels(t){Zg.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Ee(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?D7(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Pe/(this._pointLabels.length||1),i=this.options.startAngle||0;return ei(t*n+ps(i))}getDistanceFromCenterForValue(t){if(Ft(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Ft(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return B7(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-tn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:a}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),II(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:a}=n,l=this._pointLabels.length;let c,h,f;if(n.pointLabels.display&&U7(this,l),s.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const _=this.getContext(y),w=s.setContext(_),E=a.setContext(_);z7(this,w,h,l,E)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const p=i.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:_}=p;!_||!y||(t.lineWidth=_,t.strokeStyle=y,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),f=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const f=i.setContext(this.getContext(h)),p=dn(f.font);if(a=this.getDistanceFromCenterForValue(this.ticks[h].value),f.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=f.backdropColor;const y=Yn(f.backdropPadding);t.fillRect(-l/2-y.left,-a-p.size/2-y.top,l+y.width,p.size+y.height)}bl(t,c.label,0,-a,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}yt(zh,"id","radialLinear"),yt(zh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Om.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),yt(zh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),yt(zh,"descriptors",{angleLines:{_fallback:"grid"}});const Um={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wi=Object.keys(Um);function hR(e,t){return e-t}function fR(e,t){if(Ft(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:a}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ge(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Gc(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function dR(e,t,n,i){const s=wi.length;for(let a=wi.indexOf(e);a<s-1;++a){const l=Um[wi[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return wi[a]}return wi[s-1]}function F7(e,t,n,i,s){for(let a=wi.length-1;a>=wi.indexOf(n);a--){const l=wi[a];if(Um[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return wi[n?wi.indexOf(n):0]}function q7(e){for(let t=wi.indexOf(e)+1,n=wi.length;t<n;++t)if(Um[wi[t]].common)return wi[t]}function pR(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=rx(n,t),a=n[i]>=t?n[i]:n[s];e[a]=!0}}function $7(e,t,n,i){const s=e._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function gR(e,t,n){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!n?i:$7(e,i,s,n)}class Cf extends El{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new Z8._date(t.adapters.date);s.init(n),Kh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:fR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ge(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=Ge(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=wq(s,a,l);return this._unit=n.unit||(i.autoSkip?dR(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):F7(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:q7(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),gR(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Nn(n,0,l),i=Nn(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||dR(a.minUnit,n,i,this._getLabelCapacity(n)),c=Vt(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Gc(h)||h===!0,p={};let y=n,_,w;if(f&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,f?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,w=0;_<i;_=+t.add(_,c,l),w++)pR(p,_,E);return(_===i||s.bounds==="ticks"||w===1)&&pR(p,_,E),Object.keys(p).sort(hR).map(A=>+A)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return Ee(l,[t,n,i],this);const c=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&c[h],y=f&&c[f],_=i[n],w=f&&y&&_&&_.major;return this._adapter.format(t,s||(w?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=ps(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,gR(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(fR(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $M(t.sort(hR))}}yt(Cf,"id","time"),yt(Cf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zp(e,t,n){let i=0,s=e.length-1,a,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=qr(e,"pos",t)),{pos:a,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=qr(e,"time",t)),{time:a,pos:c}=e[i],{time:l,pos:h}=e[s]);const f=l-a;return f?c+(h-c)*(t-a)/f:c}class j0 extends Cf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=zp(n,this.min),this._tableRange=zp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],a=[];let l,c,h,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=n&&f<=i&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(zp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return zp(this._table,i*this._tableRange+this._minPos,!0)}}yt(j0,"id","timeseries"),yt(j0,"defaults",Cf.defaults);var H7=Object.freeze({__proto__:null,CategoryScale:P0,LinearScale:N0,LogarithmicScale:L0,RadialLinearScale:zh,TimeScale:Cf,TimeSeriesScale:j0});const W7=[Q8,RH,w7,H7];/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var mR=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),nf={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):Ft(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var i=[].concat(t),s=i.length,a=e.font,l=0,c;for(e.font=n.string,c=0;c<s;++c)l=Math.max(e.measureText(i[c]).width,l);return e.font=a,{height:s*n.lineHeight,width:l}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),i=[],s,a,l,c;for(s=0,l=t.length;s<l;++s)c=t[s],a=n.indexOf(c),a===-1?i.push([c,1]):n.splice(a,1);for(s=0,l=n.length;s<l;++s)i.push([n[s],-1]);return i},rasterize:function(e){return Math.round(e*mR)/mR}};function kb(e,t){var n=t.x,i=t.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var s=e.x-n,a=e.y-i,l=Math.sqrt(s*s+a*a);return{x:l?s/l:0,y:l?a/l:-1}}function Y7(e,t,n,i,s){switch(s){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),i=Math.sin(s);break}return{x:e,y:t,vx:n,vy:i}}var G7=0,OI=1,PI=2,NI=4,LI=8;function Bp(e,t,n){var i=G7;return e<n.left?i|=OI:e>n.right&&(i|=PI),t<n.top?i|=LI:t>n.bottom&&(i|=NI),i}function K7(e,t){for(var n=e.x0,i=e.y0,s=e.x1,a=e.y1,l=Bp(n,i,t),c=Bp(s,a,t),h,f,p;!(!(l|c)||l&c);)h=l||c,h&LI?(f=n+(s-n)*(t.top-i)/(a-i),p=t.top):h&NI?(f=n+(s-n)*(t.bottom-i)/(a-i),p=t.bottom):h&PI?(p=i+(a-i)*(t.right-n)/(s-n),f=t.right):h&OI&&(p=i+(a-i)*(t.left-n)/(s-n),f=t.left),h===l?(n=f,i=p,l=Bp(n,i,t)):(s=f,a=p,c=Bp(s,a,t));return{x0:n,x1:s,y0:i,y1:a}}function Fp(e,t){var n=t.anchor,i=e,s,a;return t.clamp&&(i=K7(i,t.area)),n==="start"?(s=i.x0,a=i.y0):n==="end"?(s=i.x1,a=i.y1):(s=(i.x0+i.x1)/2,a=(i.y0+i.y1)/2),Y7(s,a,e.vx,e.vy,t.align)}var qp={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),s=Math.sin(n),a=e.innerRadius,l=e.outerRadius;return Fp({x0:e.x+i*a,y0:e.y+s*a,x1:e.x+i*l,y1:e.y+s*l,vx:i,vy:s},t)},point:function(e,t){var n=kb(e,t.origin),i=n.x*e.options.radius,s=n.y*e.options.radius;return Fp({x0:e.x-i,y0:e.y-s,x1:e.x+i,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=kb(e,t.origin),i=e.x,s=e.y,a=0,l=0;return e.horizontal?(i=Math.min(e.x,e.base),a=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),l=Math.abs(e.base-e.y)),Fp({x0:i,y0:s+l,x1:i+a,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=kb(e,t.origin);return Fp({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Hr=nf.rasterize;function X7(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,s=e.size.width,a=-s/2,l=-i/2;return{frame:{x:a-n.left-t,y:l-n.top-t,w:s+n.width+t*2,h:i+n.height+t*2},text:{x:a,y:l,w:s,h:i}}}function Q7(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function Z7(e){return e instanceof Ac?qp.arc:e instanceof tf?qp.point:e instanceof ef?qp.bar:qp.fallback}function J7(e,t,n,i,s,a){var l=Math.PI/2;if(a){var c=Math.min(a,s/2,i/2),h=t+c,f=n+c,p=t+i-c,y=n+s-c;e.moveTo(t,f),h<p&&f<y?(e.arc(h,f,c,-Math.PI,-l),e.arc(p,f,c,-l,0),e.arc(p,y,c,0,l),e.arc(h,y,c,l,Math.PI)):h<p?(e.moveTo(h,n),e.arc(p,f,c,-l,l),e.arc(h,f,c,l,Math.PI+l)):f<y?(e.arc(h,f,c,-Math.PI,0),e.arc(h,y,c,0,Math.PI)):e.arc(h,f,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,s)}function tW(e,t,n){var i=n.backgroundColor,s=n.borderColor,a=n.borderWidth;!i&&(!s||!a)||(e.beginPath(),J7(e,Hr(t.x)+a/2,Hr(t.y)+a/2,Hr(t.w)-a,Hr(t.h)-a,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),s&&a&&(e.strokeStyle=s,e.lineWidth=a,e.lineJoin="miter",e.stroke()))}function eW(e,t,n){var i=n.lineHeight,s=e.w,a=e.x,l=e.y+i/2;return t==="center"?a+=s/2:(t==="end"||t==="right")&&(a+=s),{h:i,w:s,x:a,y:l}}function nW(e,t,n){var i=e.shadowBlur,s=n.stroked,a=Hr(n.x),l=Hr(n.y),c=Hr(n.w);s&&e.strokeText(t,a,l,c),n.filled&&(i&&s&&(e.shadowBlur=0),e.fillText(t,a,l,c),i&&s&&(e.shadowBlur=i))}function iW(e,t,n,i){var s=i.textAlign,a=i.color,l=!!a,c=i.font,h=t.length,f=i.textStrokeColor,p=i.textStrokeWidth,y=f&&p,_;if(!(!h||!l&&!y))for(n=eW(n,s,c),e.font=c.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,l&&(e.fillStyle=a),y&&(e.lineJoin="round",e.lineWidth=p,e.strokeStyle=f),_=0,h=t.length;_<h;++_)nW(e,t[_],{stroked:y,filled:l,w:n.w,x:n.x,y:n.y+n.h*_})}var VI=function(e,t,n,i){var s=this;s._config=e,s._index=i,s._model=null,s._rects=null,s._ctx=t,s._el=n};er(VI.prototype,{_modelize:function(e,t,n,i){var s=this,a=s._index,l=dn(Ie([n.font,{}],i,a)),c=Ie([n.color,Ne.color],i,a);return{align:Ie([n.align,"center"],i,a),anchor:Ie([n.anchor,"center"],i,a),area:i.chart.chartArea,backgroundColor:Ie([n.backgroundColor,null],i,a),borderColor:Ie([n.borderColor,null],i,a),borderRadius:Ie([n.borderRadius,0],i,a),borderWidth:Ie([n.borderWidth,0],i,a),clamp:Ie([n.clamp,!1],i,a),clip:Ie([n.clip,!1],i,a),color:c,display:e,font:l,lines:t,offset:Ie([n.offset,4],i,a),opacity:Ie([n.opacity,1],i,a),origin:Q7(s._el,i),padding:Yn(Ie([n.padding,4],i,a)),positioner:Z7(s._el),rotation:Ie([n.rotation,0],i,a)*(Math.PI/180),size:nf.textSize(s._ctx,t,l),textAlign:Ie([n.textAlign,"start"],i,a),textShadowBlur:Ie([n.textShadowBlur,0],i,a),textShadowColor:Ie([n.textShadowColor,c],i,a),textStrokeColor:Ie([n.textStrokeColor,c],i,a),textStrokeWidth:Ie([n.textStrokeWidth,0],i,a)}},update:function(e){var t=this,n=null,i=null,s=t._index,a=t._config,l,c,h,f=Ie([a.display,!0],e,s);f&&(l=e.dataset.data[s],c=Vt(Ee(a.formatter,[l,e]),l),h=Ft(c)?[]:nf.toTextLines(c),h.length&&(n=t._modelize(f,h,a,e),i=X7(n))),t._model=n,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,i=e.ctx,s=n._model,a=n._rects,l;this.visible()&&(i.save(),s.clip&&(l=s.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=nf.bound(0,s.opacity,1),i.translate(Hr(t.x),Hr(t.y)),i.rotate(s.rotation),tW(i,a.frame,s),iW(i,s.lines,a.text,s),i.restore())}});var sW=Number.MIN_SAFE_INTEGER||-9007199254740991,rW=Number.MAX_SAFE_INTEGER||9007199254740991;function Th(e,t,n){var i=Math.cos(n),s=Math.sin(n),a=t.x,l=t.y;return{x:a+i*(e.x-a)-s*(e.y-l),y:l+s*(e.x-a)+i*(e.y-l)}}function yR(e,t){var n=rW,i=sW,s=t.origin,a,l,c,h,f;for(a=0;a<e.length;++a)l=e[a],c=l.x-s.x,h=l.y-s.y,f=t.vx*c+t.vy*h,n=Math.min(n,f),i=Math.max(i,f);return{min:n,max:i}}function $p(e,t){var n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var jI=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};er(jI.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,i=t._rect;return e=Th(e,t.center(),-t._rotation),!(e.x<i.x-n||e.y<i.y-n||e.x>i.x+i.w+n*2||e.y>i.y+i.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),i=[$p(t[0],t[1]),$p(t[0],t[3])],s,a,l;for(this._rotation!==e._rotation&&i.push($p(n[0],n[1]),$p(n[0],n[3])),s=0;s<i.length;++s)if(a=yR(t,i[s]),l=yR(n,i[s]),a.max<l.min||l.max<a.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[Th({x:t.x,y:t.y},i,n),Th({x:t.x+t.w,y:t.y},i,n),Th({x:t.x+t.w,y:t.y+t.h},i,n),Th({x:t.x,y:t.y+t.h},i,n)]}});function UI(e,t,n){var i=t.positioner(e,t),s=i.vx,a=i.vy;if(!s&&!a)return{x:i.x,y:i.y};var l=n.w,c=n.h,h=t.rotation,f=Math.abs(l/2*Math.cos(h))+Math.abs(c/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(c/2*Math.cos(h)),y=1/Math.max(Math.abs(s),Math.abs(a));return f*=s*y,p*=a*y,f+=t.offset*s,p+=t.offset*a,{x:i.x+f,y:i.y+p}}function aW(e,t){var n,i,s,a;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,i=n-1;i>=0&&s._visible;--i)a=e[i].$layout,a._visible&&s._box.intersects(a._box)&&t(s,a);return e}function oW(e){var t,n,i,s,a,l,c;for(t=0,n=e.length;t<n;++t)i=e[t],s=i.$layout,s._visible&&(c=new Proxy(i._el,{get:(h,f)=>h.getProps([f],!0)[f]}),a=i.geometry(),l=UI(c,i.model(),a),s._box.update(l,a,i.rotation()));return aW(e,function(h,f){var p=h._hidable,y=f._hidable;p&&y||y?f._visible=!1:p&&(h._visible=!1)})}var sf={prepare:function(e){var t=[],n,i,s,a,l;for(n=0,s=e.length;n<s;++n)for(i=0,a=e[n].length;i<a;++i)l=e[n][i],t.push(l),l.$layout={_box:new jI,_hidable:!1,_visible:!0,_set:n,_idx:l._index};return t.sort(function(c,h){var f=c.$layout,p=h.$layout;return f._idx===p._idx?p._set-f._set:p._idx-f._idx}),this.update(t),t},update:function(e){var t=!1,n,i,s,a,l;for(n=0,i=e.length;n<i;++n)s=e[n],a=s.model(),l=s.$layout,l._hidable=a&&a.display==="auto",l._visible=s.visible(),t|=l._hidable;t&&oW(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if(i=e[n].$layout,i&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,s,a,l,c;for(n=0,i=t.length;n<i;++n)s=t[n],a=s.$layout,a._visible&&(l=s.geometry(),c=UI(s._el,s.model(),l),a._box.update(c,l,s.rotation()),s.draw(e,c))}},lW=function(e){if(Ft(e))return null;var t=e,n,i,s;if(Xt(e))if(!Ft(e.label))t=e.label;else if(!Ft(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,i=n.length;s<i;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},cW={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:lW,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},_i="$datalabels",zI="$default";function uW(e,t){var n=e.datalabels,i={},s=[],a,l;return n===!1?null:(n===!0&&(n={}),t=er({},[t,n]),a=t.labels||{},l=Object.keys(a),delete t.labels,l.length?l.forEach(function(c){a[c]&&s.push(er({},[t,a[c],{_key:c}]))}):s.push(t),i=s.reduce(function(c,h){return de(h.listeners||{},function(f,p){c[p]=c[p]||{},c[p][h._key||zI]=f}),delete h.listeners,c},{}),{labels:s,listeners:i})}function U0(e,t,n,i){if(t){var s=n.$context,a=n.$groups,l;t[a._set]&&(l=t[a._set][a._key],l&&Ee(l,[s,i])===!0&&(e[_i]._dirty=!0,n.update(s)))}}function hW(e,t,n,i,s){var a,l;!n&&!i||(n?i?n!==i&&(l=a=!0):l=!0:a=!0,l&&U0(e,t.leave,n,s),a&&U0(e,t.enter,i,s))}function fW(e,t){var n=e[_i],i=n._listeners,s,a;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")a=sf.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=a,hW(e,i,s,a,t)}}function dW(e,t){var n=e[_i],i=n._listeners.click,s=i&&sf.lookup(n._labels,t);s&&U0(e,i,s,t)}var pW={id:"datalabels",defaults:cW,beforeInit:function(e){e[_i]={_actives:[]}},beforeUpdate:function(e){var t=e[_i];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i=t.index,s=e[_i],a=s._datasets[i]=[],l=e.isDatasetVisible(i),c=e.data.datasets[i],h=uW(c,n),f=t.meta.data||[],p=e.ctx,y,_,w,E,A,S,C,O;for(p.save(),y=0,w=f.length;y<w;++y)if(C=f[y],C[_i]=[],l&&C&&e.getDataVisibility(y)&&!C.skip)for(_=0,E=h.labels.length;_<E;++_)A=h.labels[_],S=A._key,O=new VI(A,p,C,y),O.$groups={_set:i,_key:S||zI},O.$context={active:!1,chart:e,dataIndex:y,dataset:c,datasetIndex:i},O.update(O.$context),C[_i].push(O),a.push(O);p.restore(),er(s._listeners,h.listeners,{merger:function(M,q,L){q[M]=q[M]||{},q[M][t.index]=L[M],s._listened=!0}})},afterUpdate:function(e){e[_i]._labels=sf.prepare(e[_i]._datasets)},afterDatasetsDraw:function(e){sf.draw(e,e[_i]._labels)},beforeEvent:function(e,t){if(e[_i]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":fW(e,n);break;case"click":dW(e,n);break}}},afterEvent:function(e){var t=e[_i],n=t._actives,i=t._actives=e.getActiveElements(),s=nf.arrayDiff(n,i),a,l,c,h,f,p,y;for(a=0,l=s.length;a<l;++a)if(f=s[a],f[1])for(y=f[0].element[_i]||[],c=0,h=y.length;c<h;++c)p=y[c],p.$context.active=f[1]===1,p.update(p.$context);(t._dirty||s.length)&&(sf.update(t._labels),e.render()),delete t._dirty}};vi.register(...W7,pW);const _R=["#4e79a7","#59a14f","#9c755f","#edc949","#e15759","#76b7b2","#f28e2b","#af7aa1","#ff9da7","#bab0ab"],Hp={homeplus:704,nsmall:812},Df=e=>String(e??"").replace(/\s+/g,"").toLowerCase(),gW=e=>Df(e.company)==="homeplus",mW=e=>Df(e.company)==="nsmall"||Df(e.company)==="n-small";function yW(e){const t=[e.request_date,e.open_date,e.created_date,e.designer_start_date,e.designer_end_date];for(const n of t){if(!n)continue;if(typeof(n==null?void 0:n.toDate)=="function")return n.toDate().getTime();if(n instanceof Date)return n.getTime();const i=new Date(n).getTime();if(!Number.isNaN(i))return i}return null}function BI(e){return e.reduce((t,n)=>t+(+n||0),0)}function Cb(e){const t=new Map;for(const n of e){const i=n&&n.trim()||"기타";t.set(i,(t.get(i)||0)+1)}return Array.from(t,([n,i])=>({name:n,value:i}))}function Db(e){if(!e)return"대기";const t=e.replace(/\s/g,"");return/(진행)/.test(t)?"진행중":/(검수중)/.test(t)?"검수중":/(검수요청)/.test(t)?"검수요청":/(완료)/.test(t)?"완료":/(취소|cancel)/i.test(t)?"취소":/(대기)/.test(t)?"대기":e}function _W(e,t=8){if(e.length<=t)return e;const n=e.slice(0,t),i=e.slice(t);return[...n,{name:"기타",value:BI(i.map(s=>s.value))}]}function mx({capacityHoursPerMonth:e}){const t=new Date,[n,i]=B.useState({y:t.getFullYear(),m:t.getMonth()+1}),s=`${n.y}.${String(n.m).padStart(2,"0")}`,[a,l]=B.useState(null),[c,h]=B.useState(""),[f,p]=B.useState(!1),[y,_]=B.useState("homeplus");B.useEffect(()=>{const Q=ru(ta,async X=>{if(!X){l(null),h(""),p(!0);return}const U=$n(re,"users",X.uid),J=await Wc(U);if(J.exists()){const rt=J.data();l(Number((rt==null?void 0:rt.role)??0)),h(String((rt==null?void 0:rt.company)??""));const lt=Df(rt==null?void 0:rt.company);Number(rt==null?void 0:rt.role)===1&&(lt==="homeplus"||lt==="nsmall"||lt==="n-small")&&_(lt.startsWith("n")?"nsmall":"homeplus")}p(!0)});return()=>Q()},[]);const[w,E]=B.useState([]);B.useEffect(()=>{const Q=fi(Hn(re,"design_request")),X=yl(Q,U=>{const J=[];U.forEach(rt=>J.push({id:rt.id,...rt.data()})),E(J)});return()=>X()},[]);const A=B.useMemo(()=>{const Q=new Date(n.y,n.m-1,1).getTime(),X=new Date(n.y,n.m,0,23,59,59,999).getTime();return{start:Q,end:X}},[n]),S=B.useMemo(()=>a===1?Df(c).startsWith("n")?"nsmall":"homeplus":y,[a,c,y]),C=B.useMemo(()=>w.filter(Q=>{const X=yW(Q),U=X!==null&&X>=A.start&&X<=A.end;let J=!0;return S==="homeplus"?J=gW(Q):S==="nsmall"&&(J=mW(Q)),U&&J}),[w,A,S]),O=C.length,M=C.filter(Q=>Db(Q.status)==="완료").length,q=BI(C.filter(Q=>Db(Q.status)!=="취소").map(Q=>Number(Q.out_work_hour)||0)),L=B.useMemo(()=>S==="all"?Hp.homeplus+Hp.nsmall:S==="homeplus"?e??Hp.homeplus:S==="nsmall"?Hp.nsmall:0,[S,e]),Y=L?Math.round(q/L*100):0,D=q.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),k=B.useMemo(()=>{const Q=Cb(C.map(X=>X.task_type||X.task_type_detail)).sort((X,U)=>U.value-X.value);return _W(Q,8)},[C]),V=B.useMemo(()=>{const Q=["대기중","진행중","검수중","검수요청중","완료","취소"],X=Cb(C.map(J=>Db(J.status))),U=new Map(X.map(J=>[J.name,J.value]));return Q.map(J=>({name:J,value:U.get(J)||0}))},[C]),z=B.useMemo(()=>Cb(C.map(Q=>Q.task_form)).sort((Q,X)=>X.value-Q.value),[C]),F=B.useRef(null),N=B.useRef(null),P=B.useRef(null),bt=B.useRef(null),ot=B.useRef(null),W=B.useRef(null);B.useEffect(()=>{if(F.current){const Q=vi.getChart(F.current);Q==null||Q.destroy(),bt.current=new vi(F.current,{type:"doughnut",data:{labels:k.map(X=>X.name),datasets:[{data:k.map(X=>X.value),backgroundColor:k.map((X,U)=>_R[U%_R.length])}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"right"},datalabels:{formatter:(X,U)=>{const J=U.dataset.data.reduce((lt,gt)=>lt+gt,0),rt=J?X/J*100:0;return rt>=5?`${rt.toFixed(1)}%`:""},color:"#fff",font:{weight:"bold"}}}}})}if(N.current){const Q=vi.getChart(N.current);Q==null||Q.destroy(),ot.current=new vi(N.current,{type:"bar",data:{labels:V.map(X=>X.name),datasets:[{label:"건수",data:V.map(X=>X.value)}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:X=>X>0?X:""}}}})}if(P.current){const Q=vi.getChart(P.current);Q==null||Q.destroy(),W.current=new vi(P.current,{type:"bar",data:{labels:z.map(X=>X.name),datasets:[{label:"건수",data:z.map(X=>X.value)}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:X=>X>0?X:""}}}})}return()=>{var Q,X,U;(Q=bt.current)==null||Q.destroy(),(X=ot.current)==null||X.destroy(),(U=W.current)==null||U.destroy()}},[k,V,z]);const G=a===1;return v.jsxs(bW,{children:[v.jsxs(vW,{children:[f&&!G&&v.jsxs(xW,{children:[v.jsx(Mb,{$active:S==="homeplus",onClick:()=>_("homeplus"),children:"Homeplus"}),v.jsx(Mb,{$active:S==="nsmall",onClick:()=>_("nsmall"),children:"NSmall"}),v.jsx(Mb,{$active:S==="all",onClick:()=>_("all"),children:"전체"})]}),v.jsxs(wW,{children:[v.jsx(bR,{value:n.y,onChange:Q=>i(X=>({...X,y:Number(Q.target.value)})),children:Array.from({length:5}).map((Q,X)=>{const U=t.getFullYear()-2+X;return v.jsxs("option",{value:U,children:[U,"년"]},U)})}),v.jsx(bR,{value:n.m,onChange:Q=>i(X=>({...X,m:Number(Q.target.value)})),children:Array.from({length:12}).map((Q,X)=>v.jsxs("option",{value:X+1,children:[X+1,"월"]},X+1))}),v.jsxs("span",{className:"range",children:[s," 범위"]})]})]}),v.jsxs(EW,{children:[v.jsxs(Ah,{children:[v.jsx(Rh,{children:"총 요청건수(건)"}),v.jsx(kh,{children:O})]}),v.jsxs(Ah,{children:[v.jsx(Rh,{children:"실 제작건수(건)"}),v.jsx(kh,{children:M})]}),v.jsxs(Ah,{children:[v.jsx(Rh,{children:"사용공수"}),v.jsx(kh,{children:D})]}),v.jsxs(Ah,{children:[v.jsx(Rh,{children:"가용공수"}),v.jsx(kh,{children:L.toLocaleString()})]}),v.jsxs(Ah,{children:[v.jsx(Rh,{children:"사용공수비율"}),v.jsx(kh,{children:L?`${Y}%`:"-"})]})]}),v.jsxs(SW,{children:[v.jsx(TW,{children:v.jsxs(RW,{children:[v.jsx(Ib,{children:"업무유형별 분포현황"}),v.jsx(Ob,{$h:400,children:v.jsx("canvas",{ref:F})})]})}),v.jsxs(AW,{children:[v.jsxs(vR,{children:[v.jsx(Ib,{children:"진행현황 (status)"}),v.jsx(Ob,{$h:180,children:v.jsx("canvas",{ref:N})})]}),v.jsxs(vR,{children:[v.jsx(Ib,{children:"업무형태현황 (task_form)"}),v.jsx(Ob,{$h:180,children:v.jsx("canvas",{ref:P})})]})]})]})]})}const bW=H.div`
  font-family: 'Pretendard';
`,vW=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`,xW=H.div`
  display:flex; 
  gap:8px;
`,Mb=H.button`
  padding: 11.5px 10px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  background-color: ${({theme:e,$active:t})=>t?e.colors.black:e.colors.white01};
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.black};
  border: 1px solid ${({theme:e})=>e.colors.black};
`,wW=H.div`
  display:flex; 
  align-items:center;
  gap:8px;
  margin-left: auto;
`,bR=H.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: 200px;
  margin-right: 8px;
  padding: 13.5px 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 8px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${Qv});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }
`,EW=H.ul`
  display: flex;
  gap:14px; 
  margin-bottom:16px;
`,Ah=H.li`
  flex: 1;
  padding:14px;
  border:1px solid #e8ecf3; 
  border-radius:14px; 
  background:#f7f9fc; 
`,Rh=H.h3`
  color:#9aa4b2; 
  font-size:12px; 
  margin-bottom:8px;
`,kh=H.strong`
  font-size:32px; 
  font-weight:800;
`,SW=H.div`
  display: flex;
  gap: 16px;
`,TW=H.div`
  flex: 0 0 50%;
`,AW=H.div`
  display: flex;
  flex-direction: column;
  flex: 1 1 50%;
  gap: 16px;
`,FI=H.div`
  background:#fff;
  border:1px solid #e8ecf3;
  border-radius:16px;
  padding:16px;
  height: 100%;
`,RW=H(FI)``,vR=H(FI)``,Ib=H.h3`
  margin:0 0 10px; 
  font-size:15px; 
  color:#666;
`,Ob=H.div`
  position: relative;
  width: 100%;
  height: ${({$h:e})=>`${e}px`};
`,kW=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],CW=e=>[...e||""].map(t=>{const n=t.charCodeAt(0);if(n>=44032&&n<=55203){const i=Math.floor((n-44032)/28/21);return kW[i]}return t}).join("");function yx(e){const t=a=>a==null?"":String(a).toLowerCase(),n={id:t(e.design_request_id),requirement:t(e.requirement)},i=Object.values(n).join(" "),s=CW(n.requirement);return{...e,_index:{plain:i,chosung:s}}}function _x(e,t){if(!t)return!0;const n=t.toLowerCase();return e._index.plain.includes(n)||e._index.chosung.includes(n)}const DW="진행 상태 선택",MW=e=>{const t=(e??"").trim();if(!t)return[];const n=t.toLowerCase(),i=t.toUpperCase(),s=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return Array.from(new Set([t,n,i,s]))};function IW({view:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i}){const[s,a]=B.useState(""),[l,c]=B.useState(""),[h,f]=B.useState([]),[p,y]=B.useState("진행 상태 선택"),[_,w]=B.useState({start:null,end:null}),[E,A]=B.useState(""),[S,C]=B.useState("");B.useEffect(()=>{const ot=ru(ta,async W=>{if(!W)return;W.displayName&&a(W.displayName);const G=$n(re,"users",W.uid),Q=await Wc(G);if(Q.exists()){const X=Q.data();c(((X==null?void 0:X.company)??"").trim())}else c("")});return()=>ot()},[]),B.useEffect(()=>{if(f([]),!(e==="dashboard"||e==="inworkhour")){if(e==="myrequestlist"){if(!s)return;const ot=fi(Hn(re,"design_request"),hi("requester","==",s),bf("design_request_id","desc")),W=yl(ot,G=>{const Q=G.docs.map(X=>({id:X.id,...X.data()}));f(Q)});return()=>W()}if(e==="allrequestlist"){if(!l)return;const ot=MW(l),W=Hn(re,"design_request"),G=new Map,Q=[],X=()=>{const U=Array.from(G.values()).sort((J,rt)=>{const lt=String(J.design_request_id??"");return String(rt.design_request_id??"").localeCompare(lt,"en",{numeric:!0})});f(U)};return ot.forEach(U=>{const J=fi(W,hi("company","==",U),bf("design_request_id","desc")),rt=yl(J,lt=>{lt.docs.forEach(gt=>{G.set(gt.id,{id:gt.id,...gt.data()})}),X()});Q.push(rt)}),()=>Q.forEach(U=>U())}}},[e,l,s]);const O=ot=>w(ot),M=ot=>y(ot),q=ot=>C(ot),L=ot=>ot==="검수요청"?"진행중":ot,Y=ot=>new Date(ot.getFullYear(),ot.getMonth(),ot.getDate()),D=ot=>{if(!ot)return null;if(typeof ot=="object"&&typeof ot.toDate=="function")return Y(ot.toDate());if(ot instanceof Date)return Y(ot);if(typeof ot=="number")return Y(new Date(ot));if(typeof ot=="string"){const G=ot.replace(/\./g,"-").replace(/\//g,"-").split("-");if(G.length===3){const[X,U,J]=G.map(Number),rt=X>31?X:new Date().getFullYear();return new Date(rt,U-1,J)}if(G.length===2){const[X,U]=G.map(Number),J=new Date().getFullYear();return new Date(J,X-1,U)}const Q=new Date(ot);return isNaN(+Q)?null:Y(Q)}return null},k=B.useMemo(()=>h.map(ot=>{const W=L(ot.status);return yx({...ot,displayStatus:W})}),[h]),V=B.useMemo(()=>{const ot=_.start?Y(_.start):null,W=_.end?Y(_.end):null,G=S.trim();return k.filter(Q=>{if(p!==DW&&Q.displayStatus!==p)return!1;if(ot&&W){const X=D(Q.request_date)||D(Q.requested_at)||D(Q.requestDate);if(!X||X<ot||X>W)return!1}return!!_x(Q,G)})},[k,p,_,S]),z=e==="allrequestlist",F=async ot=>{z||(await Hs($n(re,"design_request",ot),{status:"완료",requester_review_status:"검수완료"}),f(W=>W.map(G=>G.id===ot?{...G,status:"완료",requester_review_status:"검수완료"}:G)),alert("완료 처리되었습니다."))},N=async ot=>{if(z)return;const W=$n(re,"design_request",ot);await Hs(W,{requester_edit_state:!0});const G=await Wc(W);if(G.exists()){const Q={id:G.id,...G.data()};n(Q),t(!0)}},P=ot=>{i(ot),t(!0)},bt=async ot=>{z||(await Hs($n(re,"design_request",ot),{status:"취소"}),f(W=>W.map(G=>G.id===ot?{...G,status:"취소"}:G)))};return v.jsxs(v.Fragment,{children:[v.jsx(Xv,{}),e==="dashboard"&&v.jsx(OW,{children:v.jsx(mx,{capacityHoursPerMonth:704})}),e==="allrequestlist"&&v.jsxs(xR,{children:[v.jsx(wf,{roleNumber:1,onApplyStatus:M,onApplyRange:O,onSearch:q,keyword:E,onKeywordChange:A}),v.jsx(NT,{data:V,disableActions:z,onReviewComplete:F,onCancel:bt,onEditClick:N,onDetailClick:P})]}),e==="myrequestlist"&&v.jsxs(xR,{children:[v.jsx(wf,{roleNumber:1,onApplyStatus:M,onApplyRange:O,onSearch:q,keyword:E,onKeywordChange:A}),v.jsx(NT,{data:V,disableActions:!1,onReviewComplete:F,onCancel:bt,onEditClick:N,onDetailClick:P})]})]})}const xR=H.div`
  padding: 0 48px;
`,OW=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function PW({index:e,item:t,row:n,onChange:i,onSave:s,onDetailClick:a,disableActions:l}){const c=_=>{if(!_)return"-";if(_.toDate){const w=_.toDate();return`${w.getMonth()+1}/${w.getDate()}`}return _},h=_=>_==="검수중"?"검수요청":_??"대기",f=_=>_,p=h(n.status),y=_=>{_.stopPropagation(),a(t)};return v.jsxs(NW,{isCanceled:t.status==="취소",children:[v.jsx(us,{children:e}),v.jsx(us,{children:v.jsx(BW,{onClick:y,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(us,{children:t.company}),v.jsx(us,{children:c(t.request_date)}),v.jsx(LW,{children:c(t.completion_date)}),v.jsx(VW,{children:c(t.open_date)}),v.jsx(us,{children:t.merchandiser}),v.jsx(us,{children:t.requester}),v.jsx(us,{children:t.task_form}),v.jsx(jW,{children:v.jsxs(FW,{children:[v.jsx(qW,{children:t.task_type}),v.jsx($W,{children:t.task_type_detail})]})}),v.jsx(UW,{children:v.jsxs(HW,{children:[t.emergency?v.jsx(qI,{children:"긴급"}):"",v.jsx(WW,{onClick:y,children:t.requirement})]})}),v.jsx(us,{children:v.jsx(YW,{href:t.url,target:"_blank"})}),v.jsx(zW,{children:v.jsx(GW,{onClick:y,children:t.note||""})}),v.jsx(wR,{children:v.jsx(ER,{type:"date",value:n.start_dt??"",onChange:_=>i(t.id,"start_dt",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(wR,{children:v.jsx(ER,{type:"date",value:n.end_dt??"",onChange:_=>i(t.id,"end_dt",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(us,{children:v.jsx(KW,{type:"text",value:n.result_url??"",placeholder:"산출물 URL을 입력해주세요.",onChange:_=>i(t.id,"result_url",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(us,{children:v.jsxs("select",{value:p,onChange:_=>i(t.id,"status",f(_.target.value)),disabled:l||t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"대기",children:"대기"}),v.jsx("option",{value:"진행중",children:"진행중"}),v.jsx("option",{value:"검수요청",children:"검수요청"}),v.jsx("option",{value:"완료",children:"완료"}),v.jsx("option",{value:"취소",children:"취소"})]})}),v.jsx(us,{children:v.jsx($I,{onClick:()=>s(t.id),disabled:l||t.status==="취소"||t.status==="완료",children:"저장"})})]})}const NW=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${qI} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${$I} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td, input, select {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,us=H.td`
  padding: 11px 0;

  &:first-of-type {
    border-left: none;
  }
`,LW=H.td`
  color: ${({theme:e})=>e.colors.red};
`,VW=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,jW=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,UW=H.td`
  line-height: 15px;
  text-align: left;
`,zW=H.td`
  line-height: 15px;
  padding: 0 12px;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
  text-align: left;
  background-color: #fffff1;

`,wR=H.td`
  padding: 0 6px;
`,BW=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,FW=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,qW=H.span`
  white-space: nowrap;
`,$W=H.span`
  
`,HW=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,qI=H.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,WW=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,YW=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${Kv}) no-repeat center / contain;
`,GW=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,ER=H.input.attrs({type:"date"})`
  width: 100%;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,KW=H.input`
  width: 100%;
  padding: 0 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,$I=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function SR({requests:e,onChange:t,formData:n,onSave:i,onDetailClick:s,disableActions:a}){return v.jsx(XW,{children:v.jsxs(QW,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Dn,{children:"번호"}),v.jsx(Dn,{children:"문서번호"}),v.jsx(Dn,{children:"회사"}),v.jsx(Dn,{children:"요청일"}),v.jsxs(Dn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Dn,{children:"오픈일"}),v.jsx(Dn,{children:"담당 MD"}),v.jsx(Dn,{children:"요청자"}),v.jsx(Dn,{children:"업무부서"}),v.jsx(Dn,{children:"업무유형"}),v.jsx(Dn,{children:"작업항목"}),v.jsxs(Dn,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(Dn,{children:"메모"}),v.jsx(Dn,{children:"디자인 시작일"}),v.jsx(Dn,{children:"디자인 종료일"}),v.jsx(Dn,{children:"산출물 링크"}),v.jsx(Dn,{children:"진행상태"}),v.jsx(Dn,{children:"저장"})]})}),v.jsx("tbody",{children:e.length>0?e.map((l,c)=>v.jsx(PW,{index:c+1,item:l,row:n[l.id]??{},onChange:t,onSave:i,onDetailClick:s,disableActions:a},l.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:16,style:{textAlign:"center"},children:"배정된 요청이 없습니다."})})})]})})}const XW=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,QW=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,Dn=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:nth-of-type(13) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,ZW="진행 상태 선택";function JW({view:e,setIsDrawerOpen:t,setDetailData:n}){const[i,s]=B.useState([]),[a,l]=B.useState(""),[c,h]=B.useState({}),[f,p]=B.useState("진행 상태 선택"),[y,_]=B.useState({start:null,end:null}),[w,E]=B.useState(""),[A,S]=B.useState("");B.useEffect(()=>{const G=ru(ta,Q=>{Q!=null&&Q.displayName&&l(Q.displayName)});return()=>G()},[]),B.useEffect(()=>{if(!a)return;if(e==="dashboard"||e==="inworkhour"){s([]);return}const G=e==="allrequestlist"?fi(Hn(re,"design_request"),bf("design_request_id","desc")):fi(Hn(re,"design_request"),hi("assigned_designer","==",a),bf("design_request_id","desc")),Q=yl(G,X=>{const U=X.docs.map(J=>({id:J.id,...J.data()}));s(U)});return()=>Q()},[a,e]);const C=G=>_(G),O=G=>p(G),M=G=>new Date(G.getFullYear(),G.getMonth(),G.getDate()),q=G=>{if(!G)return null;if(typeof G=="object"&&typeof G.toDate=="function")return M(G.toDate());if(G instanceof Date)return M(G);if(typeof G=="number")return M(new Date(G));if(typeof G=="string"){const X=G.replace(/\./g,"-").replace(/\//g,"-").split("-");if(X.length===3){const[J,rt,lt]=X.map(Number),gt=J>31?J:new Date().getFullYear();return new Date(gt,rt-1,lt)}if(X.length===2){const[J,rt]=X.map(Number),lt=new Date().getFullYear();return new Date(lt,J-1,rt)}const U=new Date(G);return isNaN(+U)?null:M(U)}return null},L=G=>{const Q=G.getFullYear(),X=String(G.getMonth()+1).padStart(2,"0"),U=String(G.getDate()).padStart(2,"0");return`${Q}-${X}-${U}`},Y=G=>{if(!G)return"";if(typeof G=="object"&&typeof G.toDate=="function")return L(G.toDate());if(G instanceof Date)return L(G);const Q=new Date(G);return isNaN(+Q)?"":L(Q)},D=B.useMemo(()=>i.map(G=>({...G,designer_start_date:Y(G.designer_start_date),designer_end_date:Y(G.designer_end_date),result_url:G.result_url??"",status:G.status??"대기"})),[i]),k=G=>G==="검수중"?"검수요청":G??"대기",V=B.useMemo(()=>D.map(G=>{const Q=k(G.status);return yx({...G,displayStatus:Q})}),[D]),z=B.useMemo(()=>{const G=y.start?M(y.start):null,Q=y.end?M(y.end):null;return V.filter(X=>{let U=!0;if(f&&f!==ZW&&k(X.status)!==f&&(U=!1),U&&G&&Q){const J=q(X.request_date)||q(X.requested_at)||q(X.requestDate);(!J||J<G||J>Q)&&(U=!1)}return U&&A&&!_x(X,A)&&(U=!1),U})},[V,f,y,A]),F=G=>S(G);B.useEffect(()=>{i.length&&h(G=>{const Q={...G};return i.forEach(X=>{Q[X.id]===void 0&&(Q[X.id]={start_dt:Y(X.designer_start_date),end_dt:Y(X.designer_end_date),result_url:X.result_url||"",status:X.status||"대기"})}),Q})},[i]);const N=(G,Q,X)=>{h(U=>({...U,[G]:{...U[G],[Q]:X}}))},P=G=>{if(!G)return null;const Q=new Date(G);return isNaN(+Q)?null:Re.fromDate(Q)},bt=e==="allrequestlist",ot=async G=>{if(bt)return;const Q=c[G];if(!Q){alert("변경된 내용이 없습니다.");return}await Hs($n(re,"design_request",G),{designer_start_date:P(Q.start_dt),designer_end_date:P(Q.end_dt),result_url:Q.result_url??"",status:Q.status??"대기"}),alert("저장되었습니다.")},W=G=>{n(G),t(!0)};return v.jsxs(tY,{children:[v.jsx(Xv,{}),e==="allrequestlist"&&v.jsxs(TR,{children:[v.jsx(wf,{roleNumber:2,onApplyStatus:O,onApplyRange:C,onSearch:F,keyword:w,onKeywordChange:E}),v.jsx(SR,{requests:z,formData:c,onChange:N,onSave:ot,onDetailClick:W,disableActions:bt})]}),e==="myrequestlist"&&v.jsxs(TR,{children:[v.jsx(nY,{children:"디자이너 화면"}),v.jsx(wf,{roleNumber:2,onApplyStatus:O,onApplyRange:C,onSearch:F,keyword:w,onKeywordChange:E}),v.jsx(SR,{requests:z,formData:c,onChange:N,onSave:ot,onDetailClick:W,disableActions:!1})]}),e==="dashboard"&&v.jsx(eY,{children:v.jsx(mx,{capacityHoursPerMonth:704})})]})}const tY=H.div``,TR=H.div`
  padding: 0 48px;
`,eY=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`,nY=H.h2`
  margin-top: 20px;
`;function iY({index:e,item:t,designerList:n,selectedDesigner:i,onDesignerSelect:s,onAssignDesigner:a,onSendToRequester:l,onDetailClick:c,workHourValue:h,onChangeWorkHour:f,onSaveWorkHour:p,onStartEditWorkHour:y,onCancelEditWorkHour:_}){const E=(M=>M==="검수요청"?"검수중":M==="검수중"?"검수요청":M)(t.status),A=M=>{if(!M)return"-";if(M.toDate){const q=M.toDate();return`${q.getMonth()+1}/${q.getDate()}`}return M},S=M=>{M.stopPropagation(),c(t)},C=!!t.work_hour_edit_state,O=B.useCallback(M=>{const q=M.relatedTarget;(!q||!M.currentTarget.contains(q))&&_()},[_]);return v.jsxs(sY,{isCanceled:t.status==="취소",children:[v.jsx(ui,{children:e}),v.jsx(ui,{children:v.jsx(uY,{onClick:S,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(ui,{children:t.company}),v.jsx(ui,{children:A(t.request_date)}),v.jsx(rY,{children:A(t.completion_date)}),v.jsx(aY,{children:A(t.open_date)}),v.jsx(ui,{children:t.merchandiser}),v.jsx(ui,{children:t.requester}),v.jsx(ui,{children:t.task_form}),v.jsx(oY,{children:v.jsxs(hY,{children:[v.jsx(fY,{children:t.task_type}),v.jsx(dY,{children:t.task_type_detail})]})}),v.jsx(lY,{children:v.jsxs(pY,{children:[t.emergency?v.jsx(HI,{children:"긴급"}):"",v.jsx(gY,{onClick:S,children:t.requirement})]})}),v.jsx(ui,{children:v.jsx(AR,{href:t.url,target:"_blank"})}),v.jsx(cY,{children:v.jsx(mY,{onClick:S,children:t.note||""})}),v.jsx(ui,{children:v.jsx(yY,{status:E,children:E})}),v.jsx(ui,{children:t.result_url?v.jsx(AR,{href:t.result_url,target:"_blank"}):""}),v.jsx(ui,{children:A(t.designer_start_date)}),v.jsx(ui,{children:A(t.designer_end_date)}),v.jsxs(ui,{children:[v.jsxs(_Y,{value:i,onChange:M=>s(M.target.value),disabled:t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"",children:"디자이너 선택"}),n.map(M=>v.jsx("option",{value:M.name,children:M.name},M.id))]}),v.jsx(WI,{onClick:a,disabled:t.status==="취소"||t.status==="완료",children:"배정"})]}),v.jsx(ui,{children:t.status==="검수요청"&&t.manager_review_status!=="검수완료"?v.jsx(YI,{onClick:l,children:"검수완료"}):t.manager_review_status==="검수완료"?v.jsx(bY,{children:"검수완료"}):""}),v.jsx(ui,{children:C?v.jsxs(EY,{tabIndex:-1,onBlur:O,children:[v.jsx(vY,{type:"text",placeholder:"공수 입력",value:h,onChange:M=>f(M.target.value),onClick:M=>M.stopPropagation(),disabled:t.status==="취소",autoFocus:!0}),v.jsx(xY,{type:"button",onClick:M=>{M.stopPropagation(),p()},disabled:t.status==="취소",children:"수정"})]}):t.out_work_hour!=null?v.jsx(wY,{tabIndex:0,onClick:M=>{M.stopPropagation(),y()},onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),y())},children:t.out_work_hour}):null})]})}const sY=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${HI} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${YI}, ${WI} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,ui=H.td`
  padding: 11px 0;
 
  &:first-of-type {
    border-left: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,rY=H.td`
  color: ${({theme:e})=>e.colors.red};
`,aY=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,oY=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,lY=H.td`
  line-height: 15px;
  text-align: left;
`,cY=H.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,uY=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,hY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,fY=H.span`
  white-space: nowrap;
`,dY=H.span``,pY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,HI=H.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,gY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,AR=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${Kv}) no-repeat center / contain;
`,mY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,yY=H.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.red;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.pink03;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,WI=H.button`
  margin-left:10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,_Y=H.select`
  width: 90px;
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,YI=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,bY=H.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`,vY=H.input`
  width: 40px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;

  &::placeholder {
    font-size: 11px;
  }
`,xY=H.button`
  margin: 6px 0 0 10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,wY=H.span`
  display: inline-block;
  min-width: 24px;
  padding: 2px 6px;
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
  &:hover {
    text-decoration: underline;
    font-weight: 600;
  }
`,EY=H.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
`;function SY({data:e,designerList:t,selectedDesigners:n,designerSelect:i,assignDesigner:s,sendToRequester:a,onDetailClick:l,workHours:c,onChangeWorkHour:h,onSaveWorkHour:f,onStartEditWorkHour:p,onCancelEditWorkHour:y}){return v.jsx(TY,{children:v.jsxs(AY,{children:[v.jsx(RY,{children:"매니저 요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"160px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(an,{children:"번호"}),v.jsx(an,{children:"문서번호"}),v.jsx(an,{children:"회사"}),v.jsx(an,{children:"요청일"}),v.jsxs(an,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(an,{children:"오픈일"}),v.jsx(an,{children:"담당 MD"}),v.jsx(an,{children:"요청자"}),v.jsx(an,{children:"업무부서"}),v.jsx(an,{children:"업무형태"}),v.jsx(an,{children:"작업항목"}),v.jsxs(an,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(an,{children:"메모"}),v.jsx(an,{children:"진행상태"}),v.jsxs(an,{children:["산출물",v.jsx("br",{}),"URL"]}),v.jsxs(an,{children:["디자인",v.jsx("br",{}),"시작일"]}),v.jsxs(an,{children:["디자인",v.jsx("br",{}),"종료일"]}),v.jsx(an,{children:"디자이너 배정"}),v.jsx(an,{children:"검수"}),v.jsx(an,{children:"공수"})]})}),v.jsx("tbody",{children:e.length>0?e.map((_,w)=>v.jsx(iY,{index:w+1,item:_,designerList:t,selectedDesigner:n[_.id]||"",onDesignerSelect:E=>i(_.id,E),onAssignDesigner:()=>s(_.id),onSendToRequester:()=>a(_.id),onDetailClick:l,workHourValue:c[_.id]??"",onChangeWorkHour:E=>h(_.id,E),onSaveWorkHour:()=>f(_.id),onStartEditWorkHour:()=>p(_.id),onCancelEditWorkHour:()=>y(_.id)},_.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:20,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})})}const TY=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,AY=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,RY=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,an=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19), &:nth-of-type(20) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,kY=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],Bh=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),CY=(e,t)=>!!e&&!!t&&e.getTime()===t.getTime(),Pb=e=>{if(!e)return null;if(typeof e=="object"&&typeof e.toDate=="function")return Bh(e.toDate());if(e instanceof Date)return Bh(e);if(typeof e=="number")return Bh(new Date(e));if(typeof e=="string"){const n=e.replace(/\./g,"-").replace(/\//g,"-").split("-");if(n.length===3){const[s,a,l]=n.map(Number),c=s>31?s:new Date().getFullYear();return new Date(c,(a||1)-1,l||1)}const i=new Date(e);return isNaN(+i)?null:Bh(i)}return null},Nb=e=>Pb(e.request_date)??Pb(e.open_date)??Pb(e.created_date),DY=e=>e==="대기"||e==="대기중",MY=e=>e==="완료",IY=e=>e==="진행중"||e==="검수중"||e==="검수요청",OY=160,PY=(e,t=2)=>{const n=Math.pow(10,t);return Math.sign(e)*Math.floor(Math.abs(e)*n+1e-9)/n},NY=e=>e.toFixed(2).replace(/\.?0+$/,"");function LY({dailyHours:e=8,targetDate:t}){const[n,i]=B.useState([]),s=Bh(t??new Date),a=s.getFullYear();B.useEffect(()=>{const h=fi(Hn(re,"design_request")),f=yl(h,p=>{const y=p.docs.map(_=>({id:_.id,..._.data()}));i(y)});return()=>f()},[]);const l=B.useMemo(()=>Array.from(new Set(n.map(f=>(f.assigned_designer||"").trim()).filter(f=>f.length>0&&f!=="미배정"))).sort((f,p)=>f.localeCompare(p,"ko")).map(f=>{const p=n.filter(O=>O.assigned_designer===f),y=p.filter(O=>CY(Nb(O),s)),_=y.filter(O=>DY(O.status)).length,w=y.filter(O=>IY(O.status)).length,E=y.filter(O=>MY(O.status)).length,A=y.reduce((O,M)=>O+(Number(M.in_work_hour)||0),0),S=PY(A,2),C=Array.from({length:12},(O,M)=>{const q=p.filter(D=>{const k=Nb(D);return k&&k.getFullYear()===a&&k.getMonth()===M}).reduce((D,k)=>D+(Number(k.in_work_hour)||0),0),L=Math.round(q/OY*100),Y=p.filter(D=>{const k=Nb(D);return k&&k.getFullYear()===a&&k.getMonth()===M}).length;return{rate:L,count:Y}});return{name:f,wait:_,progress:w,done:E,usedHours:S,monthly:C}}),[n,s,a]),c=B.useMemo(()=>l.map((h,f)=>{const p=h.monthly.filter(w=>w.count>0),y=p.length?p.reduce((w,E)=>w+E.rate,0)/p.length:0,_=h.monthly.reduce((w,E)=>w+E.count,0);return{index:f+1,avgRate:y,totalCount:_}}),[l]);return l.length===0?v.jsx(jY,{children:"표시할 데이터가 없습니다."}):v.jsx(VY,{children:v.jsxs(UY,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsxs("thead",{children:[v.jsxs("tr",{children:[v.jsx(Us,{rowSpan:2,children:"번호"}),v.jsx(Us,{rowSpan:2,children:"디자이너명"}),v.jsxs(Us,{colSpan:4,children:["현재현황(일공수 : ",e,"h)"]}),v.jsx(Us,{colSpan:12,children:"월별 진행현황(공수달성율 / 제작건수)"}),v.jsx(Us,{rowSpan:2,children:"연평균"})]}),v.jsxs("tr",{children:[v.jsx(Us,{children:"대기"}),v.jsx(Us,{children:"진행중"}),v.jsx(Us,{children:"완료"}),v.jsx(Us,{children:"사용공수(h)"}),kY.map(h=>v.jsx(Us,{children:h},h))]})]}),v.jsx("tbody",{children:l.map((h,f)=>{const{index:p,avgRate:y,totalCount:_}=c[f];return v.jsxs("tr",{children:[v.jsx(La,{children:p}),v.jsx(La,{children:h.name}),v.jsx(La,{children:h.wait}),v.jsx(La,{children:h.progress}),v.jsx(La,{children:h.done}),v.jsx(La,{children:NY(h.usedHours)}),h.monthly.map((w,E)=>v.jsxs(La,{children:[v.jsxs("div",{children:[w.rate,"%"]}),v.jsx("div",{children:w.count})]},E)),v.jsxs(La,{children:[v.jsxs("div",{children:[y.toFixed(0),"%"]}),v.jsx("div",{children:_})]})]},h.name+f)})})]})})}const VY=H.div`
  padding: 0 48px;
  margin-top: 20px;
`,jY=H.div`
  padding: 24px;
  text-align: center;
  color: #666;
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  background: #fafafa;
`,UY=H.table`
  width: 100%;
  table-layout: fixed;
  font-family: 'Pretendard';
  border-top: 2px solid ${({theme:e})=>e.colors.black};

  thead {
    tr {
      &:first-of-type {
        th:nth-of-type(3) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
        th:nth-of-type(4) {
          background-color: ${({theme:e})=>e.colors.pink01};
        }
      }
      &:last-of-type {
        th:nth-of-type(4) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
      }
    }
  }


  th, td {
    padding: 8px 10px;
    font-size: 14px;
  }
`,Us=H.th`
  background-color: ${({theme:e})=>e.colors.gray08};
  font-weight: 700;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right:none;
  }

  &:nth-of-type(n + 5):nth-of-type(-n + 16) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,La=H.td`
  text-align: center;
  font-weight: 500;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(6) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function zY({onClick:e,loading:t,label:n="Export CSV"}){return v.jsx(BY,{type:"button",onClick:e,disabled:!!t,children:t?"추출 중…":n})}const BY=H.button`
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background: ${({theme:e})=>e.colors.white01};
  font-size: 14px;
  &:disabled { opacity: 0.5; pointer-events: none; }
`,RR=e=>{if(e==null)return"";const t=String(e).replace(/"/g,'""');return/[",\n]/.test(t)?`"${t}"`:t},FY=(e,t)=>t.split(".").reduce((n,i)=>n?n[i]:void 0,e),Wp=e=>e<10?`0${e}`:`${e}`,qY=e=>{if(e==null)return"";if(typeof e=="object"&&typeof e.toDate=="function"){const t=e.toDate();return`${t.getFullYear()}-${Wp(t.getMonth()+1)}-${Wp(t.getDate())}`}return e instanceof Date?`${e.getFullYear()}-${Wp(e.getMonth()+1)}-${Wp(e.getDate())}`:String(e)};function $Y(e){const{rows:t,fields:n,filename:i="export.csv",headers:s,serialize:a=qY}=e,l=n.map(y=>RR((s==null?void 0:s[y])??y)).join(","),c=t.map(y=>{const _={id:y.id,...y};return n.map(E=>RR(a(FY(_,E)))).join(",")}),h="\uFEFF"+[l,...c].join(`\r
`),f=new Blob([h],{type:"text/csv;charset=utf-8"}),p=document.createElement("a");p.href=URL.createObjectURL(f),p.download=i,p.click(),URL.revokeObjectURL(p.href)}const kR="진행 상태 선택",CR="요청자 선택",DR="디자이너 선택";function HY({view:e,setIsDrawerOpen:t,setDetailData:n}){const[i,s]=B.useState([]),[a,l]=B.useState([]),[c,h]=B.useState({}),[f,p]=B.useState({}),[y,_]=B.useState(kR),[w,E]=B.useState({start:null,end:null}),[A,S]=B.useState(""),[C,O]=B.useState(""),[M,q]=B.useState([]),[L,Y]=B.useState(CR),[D,k]=B.useState([]),[V,z]=B.useState(DR),[F,N]=B.useState(!1);B.useEffect(()=>{if(e==="dashboard"||e==="inworkhour"){s([]);return}const pt=fi(Hn(re,"design_request"),bf("design_request_id","desc")),Dt=yl(pt,St=>{const zt=St.docs.map(ge=>({id:ge.id,...ge.data()}));s(zt)});return()=>Dt()},[e]),B.useEffect(()=>{i.length&&h(pt=>{const Dt={...pt};return i.forEach(St=>{Dt[St.id]===void 0&&(Dt[St.id]=St.assigned_designer??"")}),Dt})},[i]),B.useEffect(()=>{i.length&&p(pt=>{const Dt={...pt};return i.forEach(St=>{Dt[St.id]===void 0&&(Dt[St.id]=St.out_work_hour!=null?String(St.out_work_hour):"")}),Dt})},[i]),B.useEffect(()=>{(async()=>{const Dt=fi(Hn(re,"users"),hi("role","==",2)),zt=(await Mc(Dt)).docs.map(ge=>({id:ge.id,...ge.data()}));l(zt),k(zt.map(ge=>ge.name).filter(Boolean))})()},[]);const P=(pt,Dt)=>{h(St=>({...St,[pt]:Dt}))},bt=async pt=>{const Dt=c[pt];if(!Dt){alert("디자이너를 선택하세요.");return}const St=$n(re,"design_request",pt);await Hs(St,{assigned_designer:Dt}),alert("디자이너가 배정되었습니다!"),s(zt=>zt.map(ge=>ge.id===pt?{...ge,assigned_designer:Dt}:ge))},ot=async pt=>{await Hs($n(re,"design_request",pt),{manager_review_status:"검수완료",status:"검수중"}),s(Dt=>Dt.map(St=>St.id===pt?{...St,manager_review_status:"검수완료",status:"검수중"}:St)),alert("요청자에게 전달되었습니다.")};B.useEffect(()=>{(async()=>{const pt=fi(Hn(re,"users"),hi("role","==",1)),St=(await Mc(pt)).docs.map(zt=>zt.data().name).filter(Boolean);q(St)})()},[]);const W=pt=>{n(pt),t(!0)},G=pt=>E(pt),Q=pt=>_(pt),X=pt=>O(pt.trim()),U=pt=>Y(pt),J=pt=>z(pt),rt=pt=>new Date(pt.getFullYear(),pt.getMonth(),pt.getDate()),lt=pt=>{if(!pt)return null;if(typeof pt=="object"&&typeof pt.toDate=="function")return rt(pt.toDate());if(pt instanceof Date)return rt(pt);if(typeof pt=="number")return rt(new Date(pt));if(typeof pt=="string"){const St=pt.replace(/\./g,"-").replace(/\//g,"-").split("-");if(St.length===3){const[ge,Ke,ji]=St.map(Number),Ui=ge>31?ge:new Date().getFullYear();return new Date(Ui,Ke-1,ji)}if(St.length===2){const[ge,Ke]=St.map(Number),ji=new Date().getFullYear();return new Date(ji,ge-1,Ke)}const zt=new Date(pt);return isNaN(+zt)?null:rt(zt)}return null},gt=pt=>pt==="검수요청"?"검수중":pt==="검수중"?"검수요청":pt??"대기",Tt=B.useMemo(()=>i.map(pt=>{const Dt=gt(pt.status);return yx({...pt,displayStatus:Dt})}),[i]),xt=B.useMemo(()=>{const pt=w.start?rt(w.start):null,Dt=w.end?rt(w.end):null;return Tt.filter(St=>{let zt=!0;if(y!==kR&&St.status!==y&&(zt=!1),zt&&L!==CR&&St.requester!==L&&(zt=!1),zt&&V!==DR&&St.assigned_designer!==V&&(zt=!1),zt&&pt&&Dt){const ge=lt(St.request_date)||lt(St.requested_at)||lt(St.requestDate);(!ge||ge<pt||ge>Dt)&&(zt=!1)}return zt&&C&&!_x(St,C)&&(zt=!1),zt})},[Tt,y,L,V,w,C]),Te=(pt,Dt)=>{const St=Dt.replace(/[^0-9.]/g,"");p(zt=>({...zt,[pt]:St}))},Yt=async pt=>{const Dt=i.find(St=>St.id===pt);await Hs($n(re,"design_request",pt),{work_hour_edit_state:!0}),s(St=>St.map(zt=>zt.id===pt?{...zt,work_hour_edit_state:!0}:zt)),p(St=>({...St,[pt]:St[pt]!==void 0&&St[pt]!==""?St[pt]:(Dt==null?void 0:Dt.out_work_hour)!=null?String(Dt.out_work_hour):""}))},De=async pt=>{const Dt=i.find(di=>di.id===pt);if(!Dt)return;const St=(f[pt]??"").trim(),zt=Number(St.replace(",","."));if(!Number.isFinite(zt)||zt<0){alert("유효한 공수를 입력하세요.");return}const ge=fi(Hn(re,"task_work_hour"),hi("task_form","==",Dt.task_form),hi("task_type","==",Dt.task_type)),Ke=await Mc(ge);let ji=1;if(!Ke.empty){const di=Ke.docs[0].data();ji=Number(di.task_work_times)||1}const Ui=Number((zt*ji).toFixed(2));await Hs($n(re,"design_request",pt),{out_work_hour:zt,in_work_hour:Ui,work_hour_edit_state:!1}),s(di=>di.map(Ei=>Ei.id===pt?{...Ei,out_work_hour:zt,in_work_hour:Ui,work_hour_edit_state:!1}:Ei)),alert("공수 수정 완료")},Gn=async()=>{N(!0);try{$Y({rows:xt,fields:["id","design_request_id","request_date","requester","task_form","task_type","requirement","status","assigned_designer","designer_start_date","designer_end_date","out_work_hour","in_work_hour"],headers:{id:"문서ID",design_request_id:"문서번호",request_date:"요청일",requester:"요청자",task_form:"업무형태",task_type:"업무타입",requirement:"작업항목",status:"진행상태",assigned_designer:"디자이너",designer_start_date:"디자인 시작일",designer_end_date:"디자인 종료일",out_work_hour:"공수(외부)",in_work_hour:"공수(내부)"},filename:"design_request_current_view.csv"})}finally{N(!1)}},wn=async pt=>{await Hs($n(re,"design_request",pt),{work_hour_edit_state:!1}),s(Dt=>Dt.map(St=>St.id===pt?{...St,work_hour_edit_state:!1}:St))};return v.jsxs(WY,{children:[v.jsx(Xv,{}),e==="myrequestlist"&&v.jsxs(YY,{children:[v.jsx(KY,{children:"매니저 요청리스트"}),v.jsx(wf,{roleNumber:3,onApplyStatus:Q,onApplyRange:G,onSearch:X,keyword:A,onKeywordChange:S,isManager:!0,requesterOptions:M,onApplyRequester:U,designerOptions:D,onApplyDesigner:J}),v.jsx(zY,{onClick:Gn,loading:F}),v.jsx(SY,{data:xt,designerList:a,selectedDesigners:c,designerSelect:P,assignDesigner:bt,sendToRequester:ot,onDetailClick:W,workHours:f,onChangeWorkHour:Te,onSaveWorkHour:De,onStartEditWorkHour:Yt,onCancelEditWorkHour:wn})]}),e==="dashboard"&&v.jsx(GY,{children:v.jsx(mx,{capacityHoursPerMonth:704})}),e==="inworkhour"&&v.jsx(LY,{})]})}const WY=H.div``,YY=H.div`
  padding: 0 48px;
`,GY=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`,KY=H.h2`
  margin-top: 20px;
`;function XY({userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i}){const[s,a]=G0(),l=s.get("view")||"dashboard";B.useEffect(()=>{s.get("view")||a(h=>{const f=new URLSearchParams(h);return f.set("view","dashboard"),f},{replace:!0})},[]);const c=()=>{if(e===1)return v.jsx(IW,{view:l,setIsDrawerOpen:t,setEditData:n,setDetailData:i});if(e===2)return v.jsx(JW,{view:l,setIsDrawerOpen:t,setDetailData:i});if(e===3)return v.jsx(HY,{view:l,setIsDrawerOpen:t,setDetailData:i})};return v.jsx(QY,{children:c()})}const QY=H.main`
  height: calc(100% - 64px);
`,ZY=""+new URL("aside-logo-DoEwMgfJ.svg",import.meta.url).href,JY=""+new URL("myrequest-icon-DhmqrZY6.svg",import.meta.url).href;function tG({item:e}){return v.jsxs(iG,{status:e.status,children:[v.jsx(sG,{children:e.status}),v.jsx(rG,{status:e.status,children:e.count})]})}const eG=(e,t)=>{switch(e){case"대기":return t.colors.beige01;case"진행중":return t.colors.lightpupple;case"검수요청":case"검수중":return t.colors.pink03;case"완료":return t.colors.gray04;case"취소":return t.colors.gray07;default:return"#f9f9f9"}},nG=(e,t)=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue01;case"검수요청":case"검수중":return t.colors.red;case"완료":return t.colors.gray02;case"취소":return t.colors.gray03;default:return t.colors.gray03}},iG=H.li`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 20.5px 44px 20.5px 28px;
  margin-bottom: 8px;
  border-radius: 4px;
  font-family: 'Pretendard';
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({status:e,theme:t})=>eG(e,t)};
`,sG=H.span`
  font-size: 16px;
  font-weight: 500;
`,rG=H.span`
  position: relative;
  width: 10px;
  font-size: 14px;
  font-weight: 700;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: -40px;
    display: block;
    width: 1px;
    height: 18px;
    transform: translateY(-50%);
    background-color: ${({status:e,theme:t})=>nG(e,t)};
  }
`,aG=""+new URL("icon_slack-BGCbyQrc.svg",import.meta.url).href,oG=""+new URL("icon_google_drive-DDhA1xcb.svg",import.meta.url).href;function lG(){return v.jsxs(cG,{children:[v.jsxs(uG,{children:[v.jsx(hG,{children:"PDMS"}),v.jsx(fG,{children:"© Pushcomz Corp."})]}),v.jsxs(dG,{children:[v.jsx(MR,{children:v.jsx(IR,{target:"_blank",$icon:aG})}),v.jsx(MR,{children:v.jsx(IR,{target:"_blank",$icon:oG,href:"https://drive.google.com/drive/folders/1-hQiEmPEomtaDFgnRqt0bAaxIFEWEvYn"})})]})]})}const cG=H.footer`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  font-family: 'Pretendard';
  padding: 5px 10px;
`,uG=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 0 5px;
`,hG=H.strong`
  font-size: 18px;
  font-weight: 700;
  line-height: 30px;
  color: ${({theme:e})=>e.colors.gray05};
`,fG=H.span`
  font-size: 12px;
  font-weight: 300;
  line-height: 20px;
  color: ${({theme:e})=>e.colors.gray05};
  text-align: center;
  white-space: nowrap;
`,dG=H.ul`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-right: 5px;
`,MR=H.li`
`,IR=H.a`
  display: block;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background-color: ${({theme:e})=>e.colors.gray06};
  background: ${({$icon:e})=>`url(${e}) no-repeat center / 25px 25px`};
  cursor: pointer;
`,Ue={WAIT:"대기",PROG:"진행중",REQ:"검수요청",REV:"검수중",DONE:"완료",CAN:"취소"},pG=(e,t)=>{const n=i=>t.reduce((s,a)=>a.status&&i.includes(a.status)?s+1:s,0);switch(e){case 1:return[{status:"대기",count:n([Ue.WAIT])},{status:"진행중",count:n([Ue.PROG,Ue.REQ])},{status:"검수중",count:n([Ue.REV])},{status:"완료",count:n([Ue.DONE])},{status:"취소",count:n([Ue.CAN])}];case 2:return[{status:"대기",count:n([Ue.WAIT])},{status:"진행중",count:n([Ue.PROG])},{status:"검수요청",count:n([Ue.REQ,Ue.REV])},{status:"완료",count:n([Ue.DONE])},{status:"취소",count:n([Ue.CAN])}];case 3:return[{status:"대기",count:n([Ue.WAIT])},{status:"진행중",count:n([Ue.PROG])},{status:"검수중",count:n([Ue.REQ])},{status:"검수요청",count:n([Ue.REV])},{status:"완료",count:n([Ue.DONE])},{status:"취소",count:n([Ue.CAN])}];default:return[{status:"대기",count:n([Ue.WAIT])},{status:"진행중",count:n([Ue.PROG])},{status:"검수요청",count:n([Ue.REQ])},{status:"검수중",count:n([Ue.REV])},{status:"완료",count:n([Ue.DONE])},{status:"취소",count:n([Ue.CAN])}]}},gG=(e,t)=>{switch(e){case 1:return`${t}님의 요청`;case 2:return`${t}님의 작업 현황`;case 3:return"전체 요청 현황";default:return"요청 현황"}};function mG({requests:e,role:t,userName:n,onRequestButtonClick:i}){const s=pG(t,e);return v.jsxs(yG,{children:[v.jsxs(_G,{children:[v.jsxs(bG,{children:[v.jsx(vG,{src:ZY}),v.jsx(xG,{children:"업무 관리시스템"})]}),t===1&&v.jsx(wG,{children:v.jsx(EG,{onClick:i,children:"디자인 요청 등록"})}),v.jsxs(SG,{children:[v.jsxs(TG,{children:[v.jsx(AG,{src:JY}),v.jsx(RG,{children:gG(t,n)})]}),v.jsx(kG,{children:s.map(a=>v.jsx(tG,{item:a},a.status))})]})]}),v.jsx(lG,{})]})}const yG=H.aside`
  ${({theme:e})=>e.mixin.flex("","space-between")};
  flex-direction: column;
  width: 240px;
  height: 100%;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
`,_G=H.div`
  
`,bG=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  padding: 18.5px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,vG=H.img`
  margin-right: 8px;
`,xG=H.span`
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  white-space: nowrap;
`,wG=H.div`
  text-align: center;
  padding: 32px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,EG=H.button`
  padding: 12px 44px;
  border-radius: 8px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,SG=H.div`
  padding: 0 24px;
`,TG=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 12px;
  padding: 30px 0;
`,AG=H.img``,RG=H.h4`
  white-space: nowrap;
  font-family: 'Pretendard';
  font-size: 20px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
`,kG=H.ul`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`;function CG({isOpen:e,onClose:t,children:n}){return v.jsxs(v.Fragment,{children:[v.jsx(DG,{isVisible:e,onClick:t}),v.jsx(MG,{isVisible:e,onClick:i=>i.stopPropagation(),children:n})]})}const DG=H.div`
  position: fixed;
  top: 0; right: 0; bottom: 0; left: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 1000;
  opacity: ${({isVisible:e})=>e?1:0};
  pointer-events: ${({isVisible:e})=>e?"auto":"none"};
  transition: opacity 0.3s ease;
`,MG=H.div`
  position: fixed;
  top: 64px;
  right: 0;
  width: 680px;
  height: 100%;
  background-color: white;
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
  z-index: 1001;
  overflow-y: hidden;
  padding: 24px;
  transform: ${({isVisible:e})=>e?"translateX(0)":"translateX(100%)"};
  transition: transform 0.3s ease;
`,GI=""+new URL("requestformexit-button-BcAG546a.svg",import.meta.url).href,IG=""+new URL("checkbox-checked-eOVFoR8b.svg",import.meta.url).href,Yp={completion_date:"",open_date:"",merchandiser:"",task_form:"",task_type:"",task_type_detail:"",requirement:"",url:"",note:"",emergency:!1},OR=["GHS","MHC","MHC/GHS"],PR=["프론트테마","별도기획전","일자별배너","핫새배너","큐레이션배너","GNB-기획전(전문관)","GNB-주류이지픽업","GNB-택배배송관","페이/카드프로모션","이벤트배너","상품상세","제휴","클럽","팝업","푸시","홈테마","즉시배송","트레이딩","이벤트","기타"],NR=["M영업기획팀","디지털마케팅팀","M상품1팀","M상품2팀","M상품3팀","TV영업기획팀","TC영업기획팀","미디어컨텐츠팀","전략기획팀","MC서비스기획팀"],OG=["프로모션","배너(프로모션,연관)","배너(마케팅)","배너(상품)","배너(etv/etcom)","배너(엔라방)","썸네일(그룹)"],PG={프로모션:["마케팅","마케팅-FULL","마케팅-템플릿","마케팅-모션적용","상품(식품/공산품)","상품(식품/공산품)-브랜드템플릿","etv/etcom","프로모션 수정"],"배너(프로모션,연관)":["템플릿","템플릿-모션","템플릿-썸네일형","공통","기타"],"배너(마케팅)":["템플릿","템플릿-썸네일형","공통","광고성","홈전단지컨셉"],"배너(상품)":["템플릿","공통"],"배너(etv/etcom)":["템플릿","공통"],"배너(엔라방)":["템플릿","공통"],"썸네일(그룹)":["마케팅","그룹코드_프로모션","1팀","2팀","3팀","etv/etcom","엔라방"]},NG=e=>(e??"").trim().toLowerCase(),We=e=>NG(e)==="nsmall",LG=e=>We(e)?{forms:[...NR],types:[...OG],formDefault:NR[0],typeDefault:""}:{forms:[...OR],types:[...PR],formDefault:OR[0],typeDefault:PR[0]};function LR({userName:e,editData:t,isDrawerOpen:n,onClose:i}){const s=(t==null?void 0:t.requester_edit_state)===!0,[a,l]=B.useState(Yp),[c,h]=B.useState([]),[f,p]=B.useState(""),y=B.useMemo(()=>LG(f),[f]),_=N=>{const P=(N??"").trim();return PG[P]??[]},w=B.useMemo(()=>We(f)?_(a.task_type):[],[f,a.task_type]),E=B.useMemo(()=>{const N=[...y.forms];return s&&a.task_form&&!N.includes(a.task_form)&&N.unshift(a.task_form),N},[y.forms,s,a.task_form]),A=B.useMemo(()=>{const N=[...y.types];return s&&a.task_type&&!N.includes(a.task_type)&&N.unshift(a.task_type),N},[y.types,s,a.task_type]),S=(N,P)=>{if(N==="task_type"&&We(f)){l(bt=>({...bt,task_type:P,task_type_detail:""}));return}l(bt=>({...bt,[N]:P}))},C=N=>typeof N!="string"||N.trim()==="",O=(N,P)=>C(N.completion_date)?"완료 요청일을 선택하세요.":C(N.open_date)?"오픈일을 선택하세요.":C(N.task_form)?"업무 부서를 선택하세요.":C(N.task_type)?"업무 유형을 선택하세요.":P&&C(N.task_type_detail)?"업무 유형 상세를 선택하세요.":C(N.requirement)?"작업 항목을 입력하세요.":null,M=()=>h(N=>[...N,{...Yp,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}]),q=N=>h(P=>P.filter((bt,ot)=>ot!==N)),L=(N,P,bt)=>h(ot=>{const W=[...ot];return P==="task_type"&&We(f)?W[N]={...W[N],task_type:bt,task_type_detail:""}:W[N]={...W[N],[P]:bt},W}),Y=N=>N?Re.fromDate(new Date(N)):null,D=async()=>{const N=new Date,P=N.getFullYear().toString().slice(2),bt=(N.getMonth()+1).toString().padStart(2,"0"),ot=fi(Hn(re,"design_request"),hi("design_request_id",">=",`H${P}${bt}0000`),hi("design_request_id","<",`H${P}${bt}9999`)),W=await Mc(ot);return{year:P,month:bt,base:W.size}},k=(N,P,bt)=>`H${N}${P}${bt.toString().padStart(4,"0")}`,V=async(N,P)=>{const bt=fi(Hn(re,"homeplus_task_work_hour"),hi("homeplus_task_form","==",N),hi("homeplus_task_type","==",P));return await Mc(bt)},z=async(N,P,bt)=>{if(We(f)){if(!P||!bt)return{base:null,times:null};const X=fi(Hn(re,"nsmall_task_work_hour"),hi("nsmall_task_type","==",P),hi("nsmall_task_type_detail","==",bt)),U=await Mc(X);if(U.empty)return{base:null,times:null};const J=U.docs[0].data(),rt=typeof J.nsmall_task_work_hour=="number"?J.nsmall_task_work_hour:null,lt=typeof J.nsmall_task_work_times=="number"?J.nsmall_task_work_times:null;return console.log("[NSMALL preset]",{task_type:P,task_type_detail:bt,base:rt,times:lt,docId:U.docs[0].id}),{base:rt,times:lt}}if(!N||!P)return{base:null,times:null};let ot=await V(N,P);if(ot.empty&&N!=="MHC/GHS"&&(ot=await V("MHC/GHS",P)),ot.empty&&(N==="GHS"||N==="MHC")&&(ot=await V(N==="GHS"?"MHC":"GHS",P)),ot.empty)return{base:null,times:null};const W=ot.docs[0].data(),G=typeof W.homeplus_task_work_hour=="number"?W.homeplus_task_work_hour:null,Q=typeof W.homeplus_task_work_times=="number"?W.homeplus_task_work_times:null;return console.log("[HOMEPLUS preset]",{task_form:N,task_type:P,base:G,times:Q,docId:ot.docs[0].id}),{base:G,times:Q}},F=async N=>{if(N.preventDefault(),s){const X=O(a,We(f));if(X){alert(X);return}}if(s&&(t!=null&&t.id)){const X=(a.task_form||"")!==(t.task_form||""),U=(a.task_type||"")!==(t.task_type||""),J=We(f)&&(a.task_type_detail||"")!==(t.task_type_detail||""),rt={completion_date:Y(a.completion_date),open_date:Y(a.open_date),merchandiser:a.merchandiser??"",task_form:a.task_form||y.formDefault,task_type:We(f)?a.task_type??"":a.task_type||y.typeDefault,task_type_detail:a.task_type_detail??"",requirement:a.requirement,url:a.url,note:a.note,emergency:a.emergency,requester_edit_state:!1,updated_date:x0()};if(X||U||J){const{base:lt,times:gt}=await z(rt.task_form,rt.task_type,rt.task_type_detail);rt.out_work_hour=lt,rt.in_work_hour=lt!=null&&gt!=null?Number((lt*gt).toFixed(2)):null,rt.work_hour_edit_state=!1}await Hs($n(re,"design_request",t.id),rt),alert("요청이 수정되었습니다!"),i();return}const P=[a,...c];for(let X=0;X<P.length;X++){const U=P[X],J=O(U,We(f));if(J){alert(`${X===0?"메인 폼":`추가 요청 ${X}`} ${J}`);return}}const{year:bt,month:ot,base:W}=await D();let G=W;const Q=new Date;for(const X of P){G+=1;const U=k(bt,ot,G),J=X.task_form||y.formDefault,rt=We(f)?X.task_type||"":X.task_type||y.typeDefault,{base:lt,times:gt}=await z(X.task_form,X.task_type,X.task_type_detail),Tt=lt!=null&&gt!=null?Number((lt*gt).toFixed(2)):null;await dU(Hn(re,"design_request"),{design_request_id:U,request_date:Y(Q.toISOString()),merchandiser:X.merchandiser??"",requester:e,company:f,completion_date:Y(X.completion_date),open_date:Y(X.open_date),task_form:J,task_type:rt,task_type_detail:X.task_type_detail??"",requirement:X.requirement,url:X.url,note:X.note,status:"대기",assigned_designer:"미배정",requester_review_status:"검수대기",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,emergency:X.emergency,requester_edit_state:!1,designer_edit_state:!1,in_work_hour:Tt,out_work_hour:lt,work_hour_edit_state:!1,created_date:x0(),updated_date:null,delete_date:null})}alert(`${P.length}건이 등록되었습니다!`),h([]),l(Yp),i()};return B.useEffect(()=>{s&&t&&l({completion_date:t.completion_date?t.completion_date.toDate().toISOString().slice(0,10):"",open_date:t.open_date?t.open_date.toDate().toISOString().slice(0,10):"",merchandiser:t.merchandiser??"",task_form:t.task_form??"",task_type:t.task_type??"",task_type_detail:t.task_type_detail??"",requirement:t.requirement??"",url:t.url??"",note:t.note??"",emergency:t.emergency??!1})},[s,t]),B.useEffect(()=>{!n||s||(l({...Yp,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}),h([]))},[n,s,y.formDefault,y.typeDefault]),B.useEffect(()=>{const N=ru(ta,async P=>{var ot;if(!P){p("");return}const bt=await Wc($n(re,"users",P.uid));p(((ot=bt.data())==null?void 0:ot.company)??"")});return()=>N()},[]),B.useEffect(()=>{s||l(N=>{const P={...N};return y.forms.includes(P.task_form||"")||(P.task_form=y.formDefault),y.types.includes(P.task_type||"")||(P.task_type=y.typeDefault,P.task_type_detail=""),P})},[y.forms,y.types,y.formDefault,y.typeDefault,s]),v.jsxs(v.Fragment,{children:[v.jsxs(jG,{children:[v.jsx(UG,{children:s?"디자인 요청 수정":"디자인 요청 등록"}),v.jsx(zG,{type:"button",onClick:i})]}),v.jsxs(VG,{onSubmit:F,children:[v.jsxs(BG,{children:[!s&&c.map((N,P)=>{const bt=We(f)?_(N.task_type):[],ot=We(f)&&!!N.task_type;return v.jsxs("div",{style:{marginBottom:24},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0 4px"},children:[v.jsxs("strong",{children:["추가 요청 ",P+1]}),v.jsx("button",{type:"button",onClick:()=>q(P),children:"삭제"})]}),v.jsxs(VR,{children:[v.jsx(jR,{children:"디자인 요청 추가 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(on,{children:"문서번호"}),v.jsx(ln,{})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`merchandiser_ex_${P}`,children:"담당 MD"})}),v.jsx(ln,{children:v.jsx(Kp,{id:`merchandiser_ex_${P}`,type:"text",value:N.merchandiser||"",onChange:W=>L(P,"merchandiser",W.target.value),placeholder:"담당 MD 이름 또는 ID를 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`completion_date_ex_${P}`,children:"완료 요청일"})}),v.jsx(ln,{children:v.jsx(Gp,{id:`completion_date_ex_${P}`,type:"date",value:N.completion_date||"",onChange:W=>L(P,"completion_date",W.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`open_date_ex_${P}`,children:"오픈일"})}),v.jsx(ln,{children:v.jsx(Gp,{id:`open_date_ex_${P}`,type:"date",value:N.open_date||"",onChange:W=>L(P,"open_date",W.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`task_form_ex_${P}`,children:"업무 부서"})}),v.jsx(ln,{children:v.jsx(bc,{id:`task_form_ex_${P}`,$wide:We(f),value:N.task_form||y.formDefault,onChange:W=>L(P,"task_form",W.target.value),children:y.forms.map(W=>v.jsx("option",{value:W,children:W},W))})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`task_type_ex_${P}`,children:"업무 유형"})}),v.jsxs(ln,{children:[v.jsxs(bc,{id:`task_type_ex_${P}`,$wide:We(f),value:We(f)?N.task_type||"":N.task_type||y.typeDefault,onChange:W=>L(P,"task_type",W.target.value),children:[We(f)&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"})," ",y.types.map(W=>v.jsx("option",{value:W,children:W},W))]}),ot&&v.jsxs(bc,{id:`task_type_detail_ex_${P}`,$wide:We(f),value:N.task_type_detail||"",onChange:W=>L(P,"task_type_detail",W.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),bt.map(W=>v.jsx("option",{value:W,children:W},W))]})]})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`requirement_ex_${P}`,children:"작업 항목"})}),v.jsx(ln,{children:v.jsx(Kp,{id:`requirement_ex_${P}`,type:"text",value:N.requirement||"",onChange:W=>L(P,"requirement",W.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`emergency_ex_${P}`,children:"긴급 일정"})}),v.jsx(ln,{children:v.jsx(BR,{children:v.jsxs(FR,{htmlFor:`emergency_ex_${P}`,children:[v.jsx(qR,{id:`emergency_ex_${P}`,type:"checkbox",checked:!!N.emergency,onChange:W=>L(P,"emergency",W.target.checked)}),v.jsx($R,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`url_ex_${P}`,children:"요청서 URL"})}),v.jsx(ln,{children:v.jsx(UR,{id:`url_ex_${P}`,value:N.url||"",onChange:W=>L(P,"url",W.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:`note_ex_${P}`,children:"메모"})}),v.jsx(ln,{children:v.jsx(zR,{id:`note_ex_${P}`,rows:4,value:N.note||"",onChange:W=>L(P,"note",W.target.value),placeholder:"메모를 입력하세요."})})]})]})]})]},P)}),v.jsxs(VR,{children:[v.jsx(jR,{children:"디자인 요청 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(on,{children:"문서번호"}),v.jsx(ln,{children:s?t==null?void 0:t.design_request_id:""})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"completion_date",children:"완료 요청일"})}),v.jsx(ln,{children:v.jsx(Gp,{type:"date",id:"completion_date",value:a.completion_date,onChange:N=>S("completion_date",N.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"open_date",children:"오픈일"})}),v.jsx(ln,{children:v.jsx(Gp,{type:"date",id:"open_date",value:a.open_date,onChange:N=>S("open_date",N.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"merchandiser",children:"담당 MD"})}),v.jsx(ln,{children:v.jsx(Kp,{type:"text",id:"merchandiser",value:a.merchandiser||"",onChange:N=>S("merchandiser",N.target.value),placeholder:"담당 MD 이름을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"task_form",children:"업무 부서"})}),v.jsx(ln,{children:v.jsx(bc,{id:"task_form",$wide:We(f),value:a.task_form||y.formDefault,onChange:N=>S("task_form",N.target.value),children:E.map(N=>v.jsx("option",{value:N,children:N},N))})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"task_type",children:"업무 유형"})}),v.jsxs(ln,{children:[v.jsxs(bc,{id:"task_type",$wide:We(f),value:We(f)?s?a.task_type||A[0]||"":a.task_type??"":a.task_type||y.typeDefault,onChange:N=>S("task_type",N.target.value),children:[We(f)&&!s&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),A.map(N=>v.jsx("option",{value:N,children:N},N))]}),We(f)&&!!a.task_type&&v.jsxs(bc,{id:"task_type_detail",$wide:!0,value:a.task_type_detail||"",onChange:N=>S("task_type_detail",N.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),w.map(N=>v.jsx("option",{value:N,children:N},N))]})]})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"requirement",children:"작업 항목"})}),v.jsx(ln,{children:v.jsx(Kp,{type:"text",id:"requirement",value:a.requirement,onChange:N=>S("requirement",N.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"emergency",children:"긴급 일정"})}),v.jsx(ln,{children:v.jsx(BR,{children:v.jsxs(FR,{htmlFor:"emergency",children:[v.jsx(qR,{type:"checkbox",id:"emergency",checked:a.emergency,onChange:N=>S("emergency",N.target.checked)}),v.jsx($R,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"url",children:"요청서 URL"})}),v.jsx(ln,{children:v.jsx(UR,{id:"url",value:a.url,onChange:N=>S("url",N.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(on,{children:v.jsx(Mn,{htmlFor:"note",children:"메모"})}),v.jsx(ln,{children:v.jsx(zR,{id:"note",rows:2,value:a.note,onChange:N=>S("note",N.target.value),placeholder:"메모를 입력하세요."})})]})]})]})]}),v.jsxs(FG,{children:[v.jsx(qG,{type:"submit",children:s?"수정 완료":"등록하기"}),!s&&v.jsx($G,{type:"button",onClick:M,children:"추가 등록하기"})]})]})]})}const VG=H.form`
  font-family: 'Pretendard';
`,jG=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,UG=H.h3`
  font-family: 'Pretendard';
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,zG=H.button`
  width: 24px;
  height: 24px;
  background: url(${GI}) no-repeat center;
  background-size: contain;
`,VR=H.table`
  width: 100%;
  color: ${({theme:e})=>e.colors.black};
  border-top: 1px solid ${({theme:e})=>e.colors.black};
`,BG=H.div`
  max-height: 690px;
  overflow: auto;
`,jR=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,on=H.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,ln=H.td`
  padding: 10px 24px;
  border-right: none;
`,Mn=H.label`
  width: 100%;
  text-align: center;
  font-weight: 700;
`,Gp=H.input`
  width: 168px;
  padding: 6px 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,Kp=H.input`
  width: 100%;
  padding: 8.5px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,UR=H.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,zR=H.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: #fffff1;
`,BR=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 5px;
`,FR=H.label`
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
`,qR=H.input`
  display: none;

  &:checked + span {
    background-color: ${({theme:e})=>e.colors.red};
    background-image: url(${IG});
    background-repeat: no-repeat;
    background-position: center;
    background-size: 12px 12px;
  }
`,$R=H.span`
  width: 18px;
  height: 18px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 2px;
`,bc=H.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: ${({$wide:e})=>e?"215px":"168px"};
  height: 36px;
  padding: 0 32px 0 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${Qv});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;
  vertical-align: top;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }

  &:first-of-type {
    margin-right: 10px;
  }
`,FG=H.div`
  margin-top: 24px;
  text-align: center;
`,qG=H.button`
  margin-right: 12px;
  padding: 12.5px 32px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,$G=H.button`
  padding: 10.5px 31.5px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  color: ${({theme:e})=>e.colors.black};

  &:hover {
    border: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function HG({data:e,onClose:t}){const n=i=>{if(!i)return"-";if(i.toDate){const s=i.toDate();return`${s.getMonth()+1}/${s.getDate()}`}return i};return v.jsxs(v.Fragment,{children:[v.jsxs(WG,{children:[v.jsx(YG,{children:"디자인 요청 상세"}),v.jsx(GG,{type:"button",onClick:t})]}),v.jsxs(KG,{children:[v.jsx(XG,{children:"디자인 요청 상세"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(hs,{children:"문서번호"}),v.jsx(Va,{children:e==null?void 0:e.design_request_id})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"요청일"}),v.jsx(Va,{children:n(e==null?void 0:e.request_date)})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"완료 요청일"}),v.jsx(QG,{children:n(e==null?void 0:e.completion_date)})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"오픈일"}),v.jsx(ZG,{children:n(e==null?void 0:e.open_date)})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"담당 MD"}),v.jsx(Va,{children:(e==null?void 0:e.merchandiser)||""})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"업무 부서"}),v.jsx(Va,{children:e==null?void 0:e.task_form})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"업무 유형"}),v.jsxs(Va,{children:[v.jsx(tK,{children:e==null?void 0:e.task_type}),(e==null?void 0:e.task_type_detail)&&v.jsxs(v.Fragment,{children:[v.jsx(eK,{children:"＞"}),v.jsx(nK,{children:e==null?void 0:e.task_type_detail})]})]})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"작업 항목"}),v.jsx(Va,{children:e==null?void 0:e.requirement})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"긴급 일정"}),v.jsx(Va,{children:e!=null&&e.emergency?"긴급 일정으로 설정":"긴급 일정으로 설정 안함"})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"요청서 URL"}),v.jsx(Va,{children:e!=null&&e.url?v.jsx(iK,{href:e==null?void 0:e.url,target:"_blank",rel:"noreferrer",children:e==null?void 0:e.url}):"-"})]}),v.jsxs("tr",{children:[v.jsx(hs,{children:"메모"}),v.jsx(JG,{children:v.jsx(sK,{children:e.note})})]})]})]})]})}const WG=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,YG=H.h3`
  font-family: "Pretendard";
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,GG=H.button`
  width: 24px;
  height: 24px;
  background: url(${GI}) no-repeat center;
  background-size: contain;
`,KG=H.table`
  width: 100%;
  border-top: 1px solid ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.black};
  font-family: 'Pretendard';
`,XG=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,hs=H.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,Va=H.td`
  padding: 12px 24px;
  border-right: none;
`,QG=H.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.red};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,ZG=H.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.blue02};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,JG=H.td`
  padding: 12px 24px;
  border-right: none;
  background-color: #fffff1;
`,tK=H.span`
`,eK=H.span`
  margin: 0 5px;
`,nK=H.span`
  
`,iK=H.a`
  display: -webkit-box;
  min-height: 70px;
  max-height: 70px;
  overflow-y: auto;
  -webkit-box-orient: vertical;
  word-break: break-word;
`,sK=H.p`
  min-height: 100px;
  max-height: 100px;
  overflow-y: auto;
  word-break: break-word;
`;function rK(){const[e,t]=B.useState(0),[n,i]=B.useState([]),[s,a]=B.useState(""),[l,c]=B.useState(!1),[h,f]=B.useState(void 0),[p,y]=B.useState(null);B.useEffect(()=>{const E=ru(ta,async A=>{if(A){a(A.displayName||"");const S=await Wc($n(re,"users",A.uid));if(S.exists()){const O=S.data().role,M=A.displayName;t(O);let q;O===1?q=fi(Hn(re,"design_request"),hi("requester","==",M)):O===2?q=fi(Hn(re,"design_request"),hi("assigned_designer","==",M)):q=Hn(re,"design_request"),yl(q,L=>{const Y=L.docs.map(D=>{const k=D.data();return{id:D.id,status:k.status??"대기중"}});i(Y)})}}else t(0),a(""),i([])});return()=>E()},[]);const _=()=>{f(void 0),y("create"),c(!0)},w=()=>{c(!1),f(void 0)};return v.jsxs(aK,{children:[v.jsx(mG,{requests:n,userName:s,role:e,onRequestButtonClick:_}),v.jsxs(oK,{children:[v.jsx(PU,{}),v.jsx(XY,{userRole:e,setIsDrawerOpen:c,setEditData:E=>{f(E),y("edit")},setDetailData:E=>{f(E),y("detail")}})]}),v.jsxs(CG,{isOpen:l,onClose:w,children:[p==="create"&&v.jsx(LR,{userName:s,isDrawerOpen:l,onClose:w}),p==="edit"&&h&&v.jsx(LR,{userName:s,isDrawerOpen:l,editData:h,onClose:w}),p==="detail"&&h&&v.jsx(HG,{data:h,onClose:w})]})]})}const aK=H.div`
  ${({theme:e})=>e.mixin.flex()};
  width: 100%;
  height: 100%;
`,oK=H.div`
  flex: 1;
`;function lK(){const[e,t]=B.useState(""),[n,i]=B.useState(""),[s,a]=B.useState(""),[l,c]=B.useState(""),[h,f]=B.useState(""),p=tu(),y=async()=>{const _=e.trim(),w=n.trim(),E=s.trim();if(!_){alert("이름을 입력해주세요.");return}if(!w){alert("회사명을 입력해주세요.");return}if(!E){alert("이메일을 입력해주세요.");return}if(l!==h){alert("비밀번호가 일치하지 않습니다.");return}VV(ta,s,l).then(async A=>{const S=A.user;await zV(S,{displayName:e}),await fU($n(re,"users",S.uid),{name:_,company:w,role:2,createdAt:x0()})}).then(()=>{alert("회원가입이 완료되었습니다!"),p("/")}).catch(A=>{alert("회원가입 중 오류 발생: "+A.message)})};return v.jsx(cK,{children:v.jsxs(uK,{children:[v.jsxs(hK,{children:[v.jsx(fK,{children:"PDMS"}),v.jsx(dK,{children:"Pushcomz Design Management System"})]}),v.jsxs(pK,{children:[v.jsx(gK,{type:"text",value:e,onChange:_=>t(_.target.value),placeholder:"이름을 입력해주세요."}),v.jsx(mK,{type:"text",value:n,onChange:_=>i(_.target.value),placeholder:"회사명을 입력해주세요."})," ",v.jsx(yK,{type:"text",value:s,onChange:_=>a(_.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(_K,{type:"password",value:l,onChange:_=>c(_.target.value),placeholder:"비밀번호를 입력해주세요."}),v.jsx(bK,{type:"password",value:h,onChange:_=>f(_.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),v.jsx(vK,{onClick:y,children:"등록하기"})]})})}const cK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,uK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,hK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,fK=H.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,dK=H.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,pK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,gK=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,mK=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,yK=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,_K=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,bK=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,vK=H.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`;function xK(){const[e,t]=B.useState(!1);return v.jsx(WP,{basename:"/pdms-test",children:v.jsxs(wP,{children:[v.jsx(Xp,{path:"/",element:v.jsx(gU,{onLoginSuccess:()=>t(!0)})}),v.jsx(Xp,{path:"/main",element:e?v.jsx(rK,{}):v.jsx(vP,{to:"/"})}),v.jsx(Xp,{path:"/signup",element:v.jsx(lK,{})})]})})}const wK=Ik`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
    overflow: hidden;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  textarea {
    resize: none;
  }

`,EK={white01:"#fff",white02:"#f4f4f4",white03:"#f4f6fc",red:"#eb193a",navy:"#073863",beige01:"#fff4ea",beige02:"#FFEEDE",orange:"#f88017",lightpupple:"#eaedfa",blue01:"#4f76ff",blue02:"#0B1ABF",gray01:"#ECEDF0",gray02:"#ccc",gray03:"#bdbdbd",gray04:"#f4f4f4",gray05:"#888",gray06:"#666",gray07:"#e5e2e2",gray08:"#F0F3F9",black:"#212121",pink01:"#FFDDDD",pink02:"#F48193",pink03:"#FFEBEB"},SK={flex:(e="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${e};
    justify-content: ${t}
  `},TK={colors:EK,mixin:SK};M2.createRoot(document.getElementById("root")).render(v.jsx(B.StrictMode,{children:v.jsxs(tL,{theme:TK,children:[v.jsx(xK,{}),v.jsx(wK,{})]})}));
